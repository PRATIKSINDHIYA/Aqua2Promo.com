const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index.es-Dow_IIJ3.js","./vendor-C0-bEcrj.js","./three-ZpT-YYYB.js"])))=>i.map(i=>d[i]);
var tT=Object.defineProperty;var Dy=t=>{throw TypeError(t)};var nT=(t,e,n)=>e in t?tT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var vn=(t,e,n)=>nT(t,typeof e!="symbol"?e+"":e,n),Om=(t,e,n)=>e.has(t)||Dy("Cannot "+n);var Pe=(t,e,n)=>(Om(t,e,"read from private field"),n?n.call(t):e.get(t)),ln=(t,e,n)=>e.has(t)?Dy("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Lt=(t,e,n,r)=>(Om(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Or=(t,e,n)=>(Om(t,e,"access private method"),n);var Kd=(t,e,n,r)=>({set _(i){Lt(t,e,i,n)},get _(){return Pe(t,e,r)}});import{j as l,u as rT,a as Dm,b as iT,D as Zu,R as Mm,L as Fm,c as eh,T as sT,C as oT,d as aT,e as lT,f as cT,g as uT,E as hT,_ as Vm,h as dT}from"./three-ZpT-YYYB.js";import{r as S,R as Ve,a as ad,v as Jw,b as o1}from"./vendor-C0-bEcrj.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const fT=1,pT=1e6;let Bm=0;function mT(){return Bm=(Bm+1)%Number.MAX_SAFE_INTEGER,Bm.toString()}const Um=new Map,My=t=>{if(Um.has(t))return;const e=setTimeout(()=>{Um.delete(t),bh({type:"REMOVE_TOAST",toastId:t})},pT);Um.set(t,e)},gT=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,fT)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?My(n):t.toasts.forEach(r=>{My(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Nf=[];let Af={toasts:[]};function bh(t){Af=gT(Af,t),Nf.forEach(e=>{e(Af)})}function yT({...t}){const e=mT(),n=i=>bh({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>bh({type:"DISMISS_TOAST",toastId:e});return bh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function ld(){const[t,e]=S.useState(Af);return S.useEffect(()=>(Nf.push(e),()=>{const n=Nf.indexOf(e);n>-1&&Nf.splice(n,1)}),[t]),{...t,toast:yT,dismiss:n=>bh({type:"DISMISS_TOAST",toastId:n})}}function It(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Fy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Xw(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Fy(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Fy(t[i],null)}}}}function pn(...t){return S.useCallback(Xw(...t),t)}function vT(t,e){const n=S.createContext(e),r=s=>{const{children:o,...a}=s,c=S.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=S.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Uo(t,e=[]){let n=[];function r(s,o){const a=S.createContext(o),c=n.length;n=[...n,o];const u=m=>{var A;const{scope:y,children:p,...N}=m,v=((A=y==null?void 0:y[t])==null?void 0:A[c])||a,x=S.useMemo(()=>N,Object.values(N));return l.jsx(v.Provider,{value:x,children:p})};u.displayName=s+"Provider";function h(m,y){var v;const p=((v=y==null?void 0:y[t])==null?void 0:v[c])||a,N=S.useContext(p);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[u,h]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,bT(i,...e)]}function bT(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const m=c(s)[`__scope${u}`];return{...a,...m}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ru(t){const e=wT(t),n=S.forwardRef((r,i)=>{const{children:s,...o}=r,a=S.Children.toArray(s),c=a.find(NT);if(c){const u=c.props.children,h=a.map(m=>m===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:m);return l.jsx(e,{...o,ref:i,children:S.isValidElement(u)?S.cloneElement(u,void 0,h):null})}return l.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var xT=ru("Slot");function wT(t){const e=S.forwardRef((n,r)=>{const{children:i,...s}=n;if(S.isValidElement(i)){const o=ET(i),a=AT(s,i.props);return i.type!==S.Fragment&&(a.ref=r?Xw(r,o):o),S.cloneElement(i,a)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Qw=Symbol("radix.slottable");function _T(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Qw,e}function NT(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Qw}function AT(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function ET(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Zw(t){const e=t+"CollectionProvider",[n,r]=Uo(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:x,children:A}=v,C=Ve.useRef(null),L=Ve.useRef(new Map).current;return l.jsx(i,{scope:x,itemMap:L,collectionRef:C,children:A})};o.displayName=e;const a=t+"CollectionSlot",c=ru(a),u=Ve.forwardRef((v,x)=>{const{scope:A,children:C}=v,L=s(a,A),B=pn(x,L.collectionRef);return l.jsx(c,{ref:B,children:C})});u.displayName=a;const h=t+"CollectionItemSlot",m="data-radix-collection-item",y=ru(h),p=Ve.forwardRef((v,x)=>{const{scope:A,children:C,...L}=v,B=Ve.useRef(null),J=pn(x,B),re=s(h,A);return Ve.useEffect(()=>(re.itemMap.set(B,{ref:B,...L}),()=>void re.itemMap.delete(B))),l.jsx(y,{[m]:"",ref:J,children:C})});p.displayName=h;function N(v){const x=s(t+"CollectionConsumer",v);return Ve.useCallback(()=>{const C=x.collectionRef.current;if(!C)return[];const L=Array.from(C.querySelectorAll(`[${m}]`));return Array.from(x.itemMap.values()).sort((re,V)=>L.indexOf(re.ref.current)-L.indexOf(V.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},N,r]}var ST=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mt=ST.reduce((t,e)=>{const n=ru(`Primitive.${e}`),r=S.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function e5(t,e){t&&ad.flushSync(()=>t.dispatchEvent(e))}function ps(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function TT(t,e=globalThis==null?void 0:globalThis.document){const n=ps(t);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var CT="DismissableLayer",zg="dismissableLayer.update",IT="dismissableLayer.pointerDownOutside",PT="dismissableLayer.focusOutside",Vy,t5=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cd=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=t,u=S.useContext(t5),[h,m]=S.useState(null),y=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=S.useState({}),N=pn(e,V=>m(V)),v=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),A=v.indexOf(x),C=h?v.indexOf(h):-1,L=u.layersWithOutsidePointerEventsDisabled.size>0,B=C>=A,J=RT(V=>{const j=V.target,P=[...u.branches].some(O=>O.contains(j));!B||P||(i==null||i(V),o==null||o(V),V.defaultPrevented||a==null||a())},y),re=jT(V=>{const j=V.target;[...u.branches].some(O=>O.contains(j))||(s==null||s(V),o==null||o(V),V.defaultPrevented||a==null||a())},y);return TT(V=>{C===u.layers.size-1&&(r==null||r(V),!V.defaultPrevented&&a&&(V.preventDefault(),a()))},y),S.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Vy=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),By(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Vy)}},[h,y,n,u]),S.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),By())},[h,u]),S.useEffect(()=>{const V=()=>p({});return document.addEventListener(zg,V),()=>document.removeEventListener(zg,V)},[]),l.jsx(Mt.div,{...c,ref:N,style:{pointerEvents:L?B?"auto":"none":void 0,...t.style},onFocusCapture:It(t.onFocusCapture,re.onFocusCapture),onBlurCapture:It(t.onBlurCapture,re.onBlurCapture),onPointerDownCapture:It(t.onPointerDownCapture,J.onPointerDownCapture)})});cd.displayName=CT;var kT="DismissableLayerBranch",n5=S.forwardRef((t,e)=>{const n=S.useContext(t5),r=S.useRef(null),i=pn(e,r);return S.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),l.jsx(Mt.div,{...t,ref:i})});n5.displayName=kT;function RT(t,e=globalThis==null?void 0:globalThis.document){const n=ps(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){r5(IT,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function jT(t,e=globalThis==null?void 0:globalThis.document){const n=ps(t),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&r5(PT,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function By(){const t=new CustomEvent(zg);document.dispatchEvent(t)}function r5(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?e5(i,s):i.dispatchEvent(s)}var LT=cd,OT=n5,_r=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},DT="Portal",kp=S.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=S.useState(!1);_r(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Jw.createPortal(l.jsx(Mt.div,{...r,ref:e}),o):null});kp.displayName=DT;function MT(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var el=t=>{const{present:e,children:n}=t,r=FT(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),s=pn(r.ref,VT(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null};el.displayName="Presence";function FT(t){const[e,n]=S.useState(),r=S.useRef(null),i=S.useRef(t),s=S.useRef("none"),o=t?"mounted":"unmounted",[a,c]=MT(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=Yd(r.current);s.current=a==="mounted"?u:"none"},[a]),_r(()=>{const u=r.current,h=i.current;if(h!==t){const y=s.current,p=Yd(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&y!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),_r(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,m=p=>{const v=Yd(r.current).includes(p.animationName);if(p.target===e&&v&&(c("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},y=p=>{p.target===e&&(s.current=Yd(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Yd(t){return(t==null?void 0:t.animationName)||"none"}function VT(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var BT=o1[" useInsertionEffect ".trim().toString()]||_r;function Fl({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=UT({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:i;{const h=S.useRef(t!==void 0);S.useEffect(()=>{const m=h.current;m!==a&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const u=S.useCallback(h=>{var m;if(a){const y=zT(h)?h(t):h;y!==t&&((m=o.current)==null||m.call(o,y))}else s(h)},[a,t,s,o]);return[c,u]}function UT({defaultProp:t,onChange:e}){const[n,r]=S.useState(t),i=S.useRef(n),s=S.useRef(e);return BT(()=>{s.current=e},[e]),S.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function zT(t){return typeof t=="function"}var i5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),qT="VisuallyHidden",Rp=S.forwardRef((t,e)=>l.jsx(Mt.span,{...t,ref:e,style:{...i5,...t.style}}));Rp.displayName=qT;var $T=Rp,a1="ToastProvider",[l1,HT,WT]=Zw("Toast"),[s5,Bq]=Uo("Toast",[WT]),[GT,jp]=s5(a1),o5=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,c]=S.useState(null),[u,h]=S.useState(0),m=S.useRef(!1),y=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${a1}\`. Expected non-empty \`string\`.`),l.jsx(l1.Provider,{scope:e,children:l.jsx(GT,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:S.useCallback(()=>h(p=>p+1),[]),onToastRemove:S.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:y,children:o})})};o5.displayName=a1;var a5="ToastViewport",KT=["F8"],qg="toast.viewportPause",$g="toast.viewportResume",l5=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=KT,label:i="Notifications ({hotkey})",...s}=t,o=jp(a5,n),a=HT(n),c=S.useRef(null),u=S.useRef(null),h=S.useRef(null),m=S.useRef(null),y=pn(e,m,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=o.toastCount>0;S.useEffect(()=>{const x=A=>{var L;r.length!==0&&r.every(B=>A[B]||A.code===B)&&((L=m.current)==null||L.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),S.useEffect(()=>{const x=c.current,A=m.current;if(N&&x&&A){const C=()=>{if(!o.isClosePausedRef.current){const re=new CustomEvent(qg);A.dispatchEvent(re),o.isClosePausedRef.current=!0}},L=()=>{if(o.isClosePausedRef.current){const re=new CustomEvent($g);A.dispatchEvent(re),o.isClosePausedRef.current=!1}},B=re=>{!x.contains(re.relatedTarget)&&L()},J=()=>{x.contains(document.activeElement)||L()};return x.addEventListener("focusin",C),x.addEventListener("focusout",B),x.addEventListener("pointermove",C),x.addEventListener("pointerleave",J),window.addEventListener("blur",C),window.addEventListener("focus",L),()=>{x.removeEventListener("focusin",C),x.removeEventListener("focusout",B),x.removeEventListener("pointermove",C),x.removeEventListener("pointerleave",J),window.removeEventListener("blur",C),window.removeEventListener("focus",L)}}},[N,o.isClosePausedRef]);const v=S.useCallback(({tabbingDirection:x})=>{const C=a().map(L=>{const B=L.ref.current,J=[B,...aC(B)];return x==="forwards"?J:J.reverse()});return(x==="forwards"?C.reverse():C).flat()},[a]);return S.useEffect(()=>{const x=m.current;if(x){const A=C=>{var J,re,V;const L=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!L){const j=document.activeElement,P=C.shiftKey;if(C.target===x&&P){(J=u.current)==null||J.focus();return}const I=v({tabbingDirection:P?"backwards":"forwards"}),k=I.findIndex(G=>G===j);zm(I.slice(k+1))?C.preventDefault():P?(re=u.current)==null||re.focus():(V=h.current)==null||V.focus()}};return x.addEventListener("keydown",A),()=>x.removeEventListener("keydown",A)}},[a,v]),l.jsxs(OT,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&l.jsx(Hg,{ref:u,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});zm(x)}}),l.jsx(l1.Slot,{scope:n,children:l.jsx(Mt.ol,{tabIndex:-1,...s,ref:y})}),N&&l.jsx(Hg,{ref:h,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});zm(x)}})]})});l5.displayName=a5;var c5="ToastFocusProxy",Hg=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=jp(c5,n);return l.jsx(Rp,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});Hg.displayName=c5;var ud="Toast",YT="toast.swipeStart",JT="toast.swipeMove",XT="toast.swipeCancel",QT="toast.swipeEnd",u5=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,c]=Fl({prop:r,defaultProp:i??!0,onChange:s,caller:ud});return l.jsx(el,{present:n||a,children:l.jsx(tC,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:ps(t.onPause),onResume:ps(t.onResume),onSwipeStart:It(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:It(t.onSwipeMove,u=>{const{x:h,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:It(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:It(t.onSwipeEnd,u=>{const{x:h,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});u5.displayName=ud;var[ZT,eC]=s5(ud,{onClose(){}}),tC=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:m,onSwipeCancel:y,onSwipeEnd:p,...N}=t,v=jp(ud,n),[x,A]=S.useState(null),C=pn(e,G=>A(G)),L=S.useRef(null),B=S.useRef(null),J=i||v.duration,re=S.useRef(0),V=S.useRef(J),j=S.useRef(0),{onToastAdd:P,onToastRemove:O}=v,E=ps(()=>{var ce;(x==null?void 0:x.contains(document.activeElement))&&((ce=v.viewport)==null||ce.focus()),o()}),I=S.useCallback(G=>{!G||G===1/0||(window.clearTimeout(j.current),re.current=new Date().getTime(),j.current=window.setTimeout(E,G))},[E]);S.useEffect(()=>{const G=v.viewport;if(G){const ce=()=>{I(V.current),u==null||u()},ue=()=>{const fe=new Date().getTime()-re.current;V.current=V.current-fe,window.clearTimeout(j.current),c==null||c()};return G.addEventListener(qg,ue),G.addEventListener($g,ce),()=>{G.removeEventListener(qg,ue),G.removeEventListener($g,ce)}}},[v.viewport,J,c,u,I]),S.useEffect(()=>{s&&!v.isClosePausedRef.current&&I(J)},[s,J,v.isClosePausedRef,I]),S.useEffect(()=>(P(),()=>O()),[P,O]);const k=S.useMemo(()=>x?y5(x):null,[x]);return v.viewport?l.jsxs(l.Fragment,{children:[k&&l.jsx(nC,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),l.jsx(ZT,{scope:n,onClose:E,children:ad.createPortal(l.jsx(l1.ItemSlot,{scope:n,children:l.jsx(LT,{asChild:!0,onEscapeKeyDown:It(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||E(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Mt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...N,ref:C,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:It(t.onKeyDown,G=>{G.key==="Escape"&&(a==null||a(G.nativeEvent),G.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:It(t.onPointerDown,G=>{G.button===0&&(L.current={x:G.clientX,y:G.clientY})}),onPointerMove:It(t.onPointerMove,G=>{if(!L.current)return;const ce=G.clientX-L.current.x,ue=G.clientY-L.current.y,fe=!!B.current,ie=["left","right"].includes(v.swipeDirection),ae=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Se=ie?ae(0,ce):0,_e=ie?0:ae(0,ue),z=G.pointerType==="touch"?10:2,Y={x:Se,y:_e},X={originalEvent:G,delta:Y};fe?(B.current=Y,Jd(JT,m,X,{discrete:!1})):Uy(Y,v.swipeDirection,z)?(B.current=Y,Jd(YT,h,X,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(ce)>z||Math.abs(ue)>z)&&(L.current=null)}),onPointerUp:It(t.onPointerUp,G=>{const ce=B.current,ue=G.target;if(ue.hasPointerCapture(G.pointerId)&&ue.releasePointerCapture(G.pointerId),B.current=null,L.current=null,ce){const fe=G.currentTarget,ie={originalEvent:G,delta:ce};Uy(ce,v.swipeDirection,v.swipeThreshold)?Jd(QT,p,ie,{discrete:!0}):Jd(XT,y,ie,{discrete:!0}),fe.addEventListener("click",ae=>ae.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),nC=t=>{const{__scopeToast:e,children:n,...r}=t,i=jp(ud,e),[s,o]=S.useState(!1),[a,c]=S.useState(!1);return sC(()=>o(!0)),S.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(kp,{asChild:!0,children:l.jsx(Rp,{...r,children:s&&l.jsxs(l.Fragment,{children:[i.label," ",n]})})})},rC="ToastTitle",h5=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(Mt.div,{...r,ref:e})});h5.displayName=rC;var iC="ToastDescription",d5=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(Mt.div,{...r,ref:e})});d5.displayName=iC;var f5="ToastAction",p5=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(g5,{altText:n,asChild:!0,children:l.jsx(c1,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${f5}\`. Expected non-empty \`string\`.`),null)});p5.displayName=f5;var m5="ToastClose",c1=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=eC(m5,n);return l.jsx(g5,{asChild:!0,children:l.jsx(Mt.button,{type:"button",...r,ref:e,onClick:It(t.onClick,i.onClose)})})});c1.displayName=m5;var g5=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return l.jsx(Mt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function y5(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),oC(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...y5(r))}}),e}function Jd(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?e5(i,s):i.dispatchEvent(s)}var Uy=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function sC(t=()=>{}){const e=ps(t);_r(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function oC(t){return t.nodeType===t.ELEMENT_NODE}function aC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function zm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var lC=o5,v5=l5,b5=u5,x5=h5,w5=d5,_5=p5,N5=c1;function A5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=A5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function E5(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=A5(t))&&(r&&(r+=" "),r+=e);return r}const zy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,qy=E5,Lp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return qy(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const h=n==null?void 0:n[u],m=s==null?void 0:s[u];if(h===null)return null;const y=zy(h)||zy(m);return i[u][y]}),a=n&&Object.entries(n).reduce((u,h)=>{let[m,y]=h;return y===void 0||(u[m]=y),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:m,className:y,...p}=h;return Object.entries(p).every(N=>{let[v,x]=N;return Array.isArray(x)?x.includes({...s,...a}[v]):{...s,...a}[v]===x})?[...u,m,y]:u},[]);return qy(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),S5=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>S.createElement("svg",{ref:c,...uC,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:S5("lucide",i),...a},[...o.map(([u,h])=>S.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=(t,e)=>{const n=S.forwardRef(({className:r,...i},s)=>S.createElement(hC,{ref:s,iconNode:e,className:S5(`lucide-${cC(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=Ft("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=Ft("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Ft("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=Ft("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=Ft("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=Ft("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=Ft("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Ft("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=Ft("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=Ft("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=Ft("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=Ft("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=Ft("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=Ft("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=Ft("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=Ft("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=Ft("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Ft("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=Ft("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=Ft("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=Ft("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=Ft("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=Ft("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=Ft("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=Ft("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=Ft("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=Ft("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=Ft("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Ft("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=Ft("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=Ft("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Ft("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=Ft("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=Ft("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Ft("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Ft("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=Ft("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=Ft("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=Ft("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Ft("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=Ft("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=Ft("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),d1="-",IC=t=>{const e=kC(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(d1);return a[0]===""&&a.length!==1&&a.shift(),O5(a,e)||PC(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},O5=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?O5(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(d1);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Ky=/^\[(.+)\]$/,PC=t=>{if(Ky.test(t)){const e=Ky.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},kC=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return jC(Object.entries(t.classGroups),n).forEach(([s,o])=>{Kg(o,r,s,e)}),r},Kg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Yy(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(RC(i)){Kg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Kg(o,Yy(e,s),n,r)})})},Yy=(t,e)=>{let n=t;return e.split(d1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},RC=t=>t.isThemeGetter,jC=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,LC=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},D5="!",OC=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const c=[];let u=0,h=0,m;for(let x=0;x<a.length;x++){let A=a[x];if(u===0){if(A===i&&(r||a.slice(x,x+s)===e)){c.push(a.slice(h,x)),h=x+s;continue}if(A==="/"){m=x;continue}}A==="["?u++:A==="]"&&u--}const y=c.length===0?a:a.substring(h),p=y.startsWith(D5),N=p?y.substring(1):y,v=m&&m>h?m-h:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:N,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},DC=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},MC=t=>({cache:LC(t.cacheSize),parseClassName:OC(t),...IC(t)}),FC=/\s+/,VC=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(FC);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:h,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:p}=n(u);let N=!!p,v=r(N?y.substring(0,p):y);if(!v){if(!N){a=u+(a.length>0?" "+a:a);continue}if(v=r(y),!v){a=u+(a.length>0?" "+a:a);continue}N=!1}const x=DC(h).join(":"),A=m?x+D5:x,C=A+v;if(s.includes(C))continue;s.push(C);const L=i(v,N);for(let B=0;B<L.length;++B){const J=L[B];s.push(A+J)}a=u+(a.length>0?" "+a:a)}return a};function BC(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=M5(e))&&(r&&(r+=" "),r+=n);return r}const M5=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=M5(t[r]))&&(n&&(n+=" "),n+=e);return n};function UC(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((h,m)=>m(h),t());return n=MC(u),r=n.cache.get,i=n.cache.set,s=a,a(c)}function a(c){const u=r(c);if(u)return u;const h=VC(c,n);return i(c,h),h}return function(){return s(BC.apply(null,arguments))}}const On=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},F5=/^\[(?:([a-z-]+):)?(.+)\]$/i,zC=/^\d+\/\d+$/,qC=new Set(["px","full","screen"]),$C=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,GC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,No=t=>Dc(t)||qC.has(t)||zC.test(t),fa=t=>yu(t,"length",n6),Dc=t=>!!t&&!Number.isNaN(Number(t)),qm=t=>yu(t,"number",Dc),th=t=>!!t&&Number.isInteger(Number(t)),YC=t=>t.endsWith("%")&&Dc(t.slice(0,-1)),zt=t=>F5.test(t),pa=t=>$C.test(t),JC=new Set(["length","size","percentage"]),XC=t=>yu(t,JC,V5),QC=t=>yu(t,"position",V5),ZC=new Set(["image","url"]),e6=t=>yu(t,ZC,i6),t6=t=>yu(t,"",r6),nh=()=>!0,yu=(t,e,n)=>{const r=F5.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},n6=t=>HC.test(t)&&!WC.test(t),V5=()=>!1,r6=t=>GC.test(t),i6=t=>KC.test(t),s6=()=>{const t=On("colors"),e=On("spacing"),n=On("blur"),r=On("brightness"),i=On("borderColor"),s=On("borderRadius"),o=On("borderSpacing"),a=On("borderWidth"),c=On("contrast"),u=On("grayscale"),h=On("hueRotate"),m=On("invert"),y=On("gap"),p=On("gradientColorStops"),N=On("gradientColorStopPositions"),v=On("inset"),x=On("margin"),A=On("opacity"),C=On("padding"),L=On("saturate"),B=On("scale"),J=On("sepia"),re=On("skew"),V=On("space"),j=On("translate"),P=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",zt,e],I=()=>[zt,e],k=()=>["",No,fa],G=()=>["auto",Dc,zt],ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ue=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",zt],Se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_e=()=>[Dc,zt];return{cacheSize:500,separator:":",theme:{colors:[nh],spacing:[No,fa],blur:["none","",pa,zt],brightness:_e(),borderColor:[t],borderRadius:["none","","full",pa,zt],borderSpacing:I(),borderWidth:k(),contrast:_e(),grayscale:ae(),hueRotate:_e(),invert:ae(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[YC,fa],inset:E(),margin:E(),opacity:_e(),padding:I(),saturate:_e(),scale:_e(),sepia:ae(),skew:_e(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",zt]}],container:["container"],columns:[{columns:[pa]}],"break-after":[{"break-after":Se()}],"break-before":[{"break-before":Se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ce(),zt]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",th,zt]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",zt]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",th,zt]}],"grid-cols":[{"grid-cols":[nh]}],"col-start-end":[{col:["auto",{span:["full",th,zt]},zt]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[nh]}],"row-start-end":[{row:["auto",{span:[th,zt]},zt]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",zt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",zt]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...ie()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ie(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ie(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",zt,e]}],"min-w":[{"min-w":[zt,e,"min","max","fit"]}],"max-w":[{"max-w":[zt,e,"none","full","min","max","fit","prose",{screen:[pa]},pa]}],h:[{h:[zt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[zt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[zt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[zt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pa,fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qm]}],"font-family":[{font:[nh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",zt]}],"line-clamp":[{"line-clamp":["none",Dc,qm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",No,zt]}],"list-image":[{"list-image":["none",zt]}],"list-style-type":[{list:["none","disc","decimal",zt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",No,fa]}],"underline-offset":[{"underline-offset":["auto",No,zt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",zt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",zt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ce(),QC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",XC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},e6]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...ue(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:ue()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ue()]}],"outline-offset":[{"outline-offset":[No,zt]}],"outline-w":[{outline:[No,fa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[No,fa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",pa,t6]}],"shadow-color":[{shadow:[nh]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",pa,zt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[L]}],sepia:[{sepia:[J]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[L]}],"backdrop-sepia":[{"backdrop-sepia":[J]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",zt]}],duration:[{duration:_e()}],ease:[{ease:["linear","in","out","in-out",zt]}],delay:[{delay:_e()}],animate:[{animate:["none","spin","ping","pulse","bounce",zt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[B]}],"scale-x":[{"scale-x":[B]}],"scale-y":[{"scale-y":[B]}],rotate:[{rotate:[th,zt]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[re]}],"skew-y":[{"skew-y":[re]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",zt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",zt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",zt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[No,fa,qm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},o6=UC(s6);function kt(...t){return o6(E5(t))}const a6=lC,B5=S.forwardRef(({className:t,...e},n)=>l.jsx(v5,{ref:n,className:kt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));B5.displayName=v5.displayName;const l6=Lp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),U5=S.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(b5,{ref:r,className:kt(l6({variant:e}),t),...n}));U5.displayName=b5.displayName;const c6=S.forwardRef(({className:t,...e},n)=>l.jsx(_5,{ref:n,className:kt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));c6.displayName=_5.displayName;const z5=S.forwardRef(({className:t,...e},n)=>l.jsx(N5,{ref:n,className:kt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(h1,{className:"h-4 w-4"})}));z5.displayName=N5.displayName;const q5=S.forwardRef(({className:t,...e},n)=>l.jsx(x5,{ref:n,className:kt("text-sm font-semibold",t),...e}));q5.displayName=x5.displayName;const $5=S.forwardRef(({className:t,...e},n)=>l.jsx(w5,{ref:n,className:kt("text-sm opacity-90",t),...e}));$5.displayName=w5.displayName;function u6(){const{toasts:t}=ld();return l.jsxs(a6,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return l.jsxs(U5,{...s,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(q5,{children:n}),r&&l.jsx($5,{children:r})]}),i,l.jsx(z5,{})]},e)}),l.jsx(B5,{})]})}var Jy=["light","dark"],h6="(prefers-color-scheme: dark)",d6=S.createContext(void 0),f6={setTheme:t=>{},themes:[]},p6=()=>{var t;return(t=S.useContext(d6))!=null?t:f6};S.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:c})=>{let u=s==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(N=>`'${N}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=i?Jy.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",y=(N,v=!1,x=!0)=>{let A=o?o[N]:N,C=v?N+"|| ''":`'${A}'`,L="";return i&&x&&!v&&Jy.includes(N)&&(L+=`d.style.colorScheme = '${N}';`),n==="class"?v||A?L+=`c.add(${C})`:L+="null":A&&(L+=`d[s](n,${C})`),L},p=t?`!function(){${h}${y(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${h6}',m=window.matchMedia(t);if(m.media!==t||m.matches){${y("dark")}}else{${y("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${y(o?"x[e]":"e",!0)}}${u?"":"else{"+y(s,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${y(o?"x[e]":"e",!0)}}else{${y(s,!1,!1)};}${m}}catch(t){}}();`;return S.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var m6=t=>{switch(t){case"success":return v6;case"info":return x6;case"warning":return b6;case"error":return w6;default:return null}},g6=Array(12).fill(0),y6=({visible:t,className:e})=>Ve.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ve.createElement("div",{className:"sonner-spinner"},g6.map((n,r)=>Ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),v6=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),b6=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),x6=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),w6=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_6=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),N6=()=>{let[t,e]=Ve.useState(document.hidden);return Ve.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Yg=1,A6=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Yg++,o=this.toasts.find(c=>c.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:a,title:r}):c):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,o,a=i.then(async u=>{if(o=["resolve",u],Ve.isValidElement(u))s=!1,this.create({id:r,type:"default",message:u});else if(S6(u)&&!u.ok){s=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:h,description:m})}else if(n.success!==void 0){s=!1;let h=typeof n.success=="function"?await n.success(u):n.success,m=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:h,description:m})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){s=!1;let h=typeof n.error=="function"?await n.error(u):n.error,m=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:h,description:m})}}).finally(()=>{var u;s&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,h)=>a.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Yg++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},hi=new A6,E6=(t,e)=>{let n=(e==null?void 0:e.id)||Yg++;return hi.addToast({title:t,...e,id:n}),n},S6=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",T6=E6,C6=()=>hi.toasts,I6=()=>hi.getActiveToasts();Object.assign(T6,{success:hi.success,info:hi.info,warning:hi.warning,error:hi.error,custom:hi.custom,message:hi.message,promise:hi.promise,dismiss:hi.dismiss,loading:hi.loading},{getHistory:C6,getToasts:I6});function P6(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}P6(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Xd(t){return t.label!==void 0}var k6=3,R6="32px",j6="16px",Xy=4e3,L6=356,O6=14,D6=20,M6=200;function ss(...t){return t.filter(Boolean).join(" ")}function F6(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var V6=t=>{var e,n,r,i,s,o,a,c,u,h,m;let{invert:y,toast:p,unstyled:N,interacting:v,setHeights:x,visibleToasts:A,heights:C,index:L,toasts:B,expanded:J,removeToast:re,defaultRichColors:V,closeButton:j,style:P,cancelButtonStyle:O,actionButtonStyle:E,className:I="",descriptionClassName:k="",duration:G,position:ce,gap:ue,loadingIcon:fe,expandByDefault:ie,classNames:ae,icons:Se,closeButtonAriaLabel:_e="Close toast",pauseWhenPageIsHidden:z}=t,[Y,X]=Ve.useState(null),[M,U]=Ve.useState(null),[ne,oe]=Ve.useState(!1),[pe,ye]=Ve.useState(!1),[Ne,Re]=Ve.useState(!1),[Fe,we]=Ve.useState(!1),[te,yt]=Ve.useState(!1),[ht,Qe]=Ve.useState(0),[Ie,qe]=Ve.useState(0),Ue=Ve.useRef(p.duration||G||Xy),_t=Ve.useRef(null),Ge=Ve.useRef(null),Xt=L===0,pt=L+1<=A,nt=p.type,qt=p.dismissible!==!1,wt=p.className||"",rt=p.descriptionClassName||"",dt=Ve.useMemo(()=>C.findIndex(at=>at.toastId===p.id)||0,[C,p.id]),tt=Ve.useMemo(()=>{var at;return(at=p.closeButton)!=null?at:j},[p.closeButton,j]),an=Ve.useMemo(()=>p.duration||G||Xy,[p.duration,G]),Vt=Ve.useRef(0),$e=Ve.useRef(0),gt=Ve.useRef(0),Ot=Ve.useRef(null),[ut,Dt]=ce.split("-"),vt=Ve.useMemo(()=>C.reduce((at,At,Wt)=>Wt>=dt?at:at+At.height,0),[C,dt]),hn=N6(),Fn=p.invert||y,Nt=nt==="loading";$e.current=Ve.useMemo(()=>dt*ue+vt,[dt,vt]),Ve.useEffect(()=>{Ue.current=an},[an]),Ve.useEffect(()=>{oe(!0)},[]),Ve.useEffect(()=>{let at=Ge.current;if(at){let At=at.getBoundingClientRect().height;return qe(At),x(Wt=>[{toastId:p.id,height:At,position:p.position},...Wt]),()=>x(Wt=>Wt.filter(mn=>mn.toastId!==p.id))}},[x,p.id]),Ve.useLayoutEffect(()=>{if(!ne)return;let at=Ge.current,At=at.style.height;at.style.height="auto";let Wt=at.getBoundingClientRect().height;at.style.height=At,qe(Wt),x(mn=>mn.find(Ye=>Ye.toastId===p.id)?mn.map(Ye=>Ye.toastId===p.id?{...Ye,height:Wt}:Ye):[{toastId:p.id,height:Wt,position:p.position},...mn])},[ne,p.title,p.description,x,p.id]);let ot=Ve.useCallback(()=>{ye(!0),Qe($e.current),x(at=>at.filter(At=>At.toastId!==p.id)),setTimeout(()=>{re(p)},M6)},[p,re,x,$e]);Ve.useEffect(()=>{if(p.promise&&nt==="loading"||p.duration===1/0||p.type==="loading")return;let at;return J||v||z&&hn?(()=>{if(gt.current<Vt.current){let At=new Date().getTime()-Vt.current;Ue.current=Ue.current-At}gt.current=new Date().getTime()})():Ue.current!==1/0&&(Vt.current=new Date().getTime(),at=setTimeout(()=>{var At;(At=p.onAutoClose)==null||At.call(p,p),ot()},Ue.current)),()=>clearTimeout(at)},[J,v,p,nt,z,hn,ot]),Ve.useEffect(()=>{p.delete&&ot()},[ot,p.delete]);function $t(){var at,At,Wt;return Se!=null&&Se.loading?Ve.createElement("div",{className:ss(ae==null?void 0:ae.loader,(at=p==null?void 0:p.classNames)==null?void 0:at.loader,"sonner-loader"),"data-visible":nt==="loading"},Se.loading):fe?Ve.createElement("div",{className:ss(ae==null?void 0:ae.loader,(At=p==null?void 0:p.classNames)==null?void 0:At.loader,"sonner-loader"),"data-visible":nt==="loading"},fe):Ve.createElement(y6,{className:ss(ae==null?void 0:ae.loader,(Wt=p==null?void 0:p.classNames)==null?void 0:Wt.loader),visible:nt==="loading"})}return Ve.createElement("li",{tabIndex:0,ref:Ge,className:ss(I,wt,ae==null?void 0:ae.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,ae==null?void 0:ae.default,ae==null?void 0:ae[nt],(n=p==null?void 0:p.classNames)==null?void 0:n[nt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:V,"data-styled":!(p.jsx||p.unstyled||N),"data-mounted":ne,"data-promise":!!p.promise,"data-swiped":te,"data-removed":pe,"data-visible":pt,"data-y-position":ut,"data-x-position":Dt,"data-index":L,"data-front":Xt,"data-swiping":Ne,"data-dismissible":qt,"data-type":nt,"data-invert":Fn,"data-swipe-out":Fe,"data-swipe-direction":M,"data-expanded":!!(J||ie&&ne),style:{"--index":L,"--toasts-before":L,"--z-index":B.length-L,"--offset":`${pe?ht:$e.current}px`,"--initial-height":ie?"auto":`${Ie}px`,...P,...p.style},onDragEnd:()=>{Re(!1),X(null),Ot.current=null},onPointerDown:at=>{Nt||!qt||(_t.current=new Date,Qe($e.current),at.target.setPointerCapture(at.pointerId),at.target.tagName!=="BUTTON"&&(Re(!0),Ot.current={x:at.clientX,y:at.clientY}))},onPointerUp:()=>{var at,At,Wt,mn;if(Fe||!qt)return;Ot.current=null;let Ye=Number(((at=Ge.current)==null?void 0:at.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),or=Number(((At=Ge.current)==null?void 0:At.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$n=new Date().getTime()-((Wt=_t.current)==null?void 0:Wt.getTime()),wn=Y==="x"?Ye:or,Vn=Math.abs(wn)/$n;if(Math.abs(wn)>=D6||Vn>.11){Qe($e.current),(mn=p.onDismiss)==null||mn.call(p,p),U(Y==="x"?Ye>0?"right":"left":or>0?"down":"up"),ot(),we(!0),yt(!1);return}Re(!1),X(null)},onPointerMove:at=>{var At,Wt,mn,Ye;if(!Ot.current||!qt||((At=window.getSelection())==null?void 0:At.toString().length)>0)return;let or=at.clientY-Ot.current.y,$n=at.clientX-Ot.current.x,wn=(Wt=t.swipeDirections)!=null?Wt:F6(ce);!Y&&(Math.abs($n)>1||Math.abs(or)>1)&&X(Math.abs($n)>Math.abs(or)?"x":"y");let Vn={x:0,y:0};Y==="y"?(wn.includes("top")||wn.includes("bottom"))&&(wn.includes("top")&&or<0||wn.includes("bottom")&&or>0)&&(Vn.y=or):Y==="x"&&(wn.includes("left")||wn.includes("right"))&&(wn.includes("left")&&$n<0||wn.includes("right")&&$n>0)&&(Vn.x=$n),(Math.abs(Vn.x)>0||Math.abs(Vn.y)>0)&&yt(!0),(mn=Ge.current)==null||mn.style.setProperty("--swipe-amount-x",`${Vn.x}px`),(Ye=Ge.current)==null||Ye.style.setProperty("--swipe-amount-y",`${Vn.y}px`)}},tt&&!p.jsx?Ve.createElement("button",{"aria-label":_e,"data-disabled":Nt,"data-close-button":!0,onClick:Nt||!qt?()=>{}:()=>{var at;ot(),(at=p.onDismiss)==null||at.call(p,p)},className:ss(ae==null?void 0:ae.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(s=Se==null?void 0:Se.close)!=null?s:_6):null,p.jsx||S.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:Ve.createElement(Ve.Fragment,null,nt||p.icon||p.promise?Ve.createElement("div",{"data-icon":"",className:ss(ae==null?void 0:ae.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||$t():null,p.type!=="loading"?p.icon||(Se==null?void 0:Se[nt])||m6(nt):null):null,Ve.createElement("div",{"data-content":"",className:ss(ae==null?void 0:ae.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},Ve.createElement("div",{"data-title":"",className:ss(ae==null?void 0:ae.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?Ve.createElement("div",{"data-description":"",className:ss(k,rt,ae==null?void 0:ae.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),S.isValidElement(p.cancel)?p.cancel:p.cancel&&Xd(p.cancel)?Ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:at=>{var At,Wt;Xd(p.cancel)&&qt&&((Wt=(At=p.cancel).onClick)==null||Wt.call(At,at),ot())},className:ss(ae==null?void 0:ae.cancelButton,(h=p==null?void 0:p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,S.isValidElement(p.action)?p.action:p.action&&Xd(p.action)?Ve.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||E,onClick:at=>{var At,Wt;Xd(p.action)&&((Wt=(At=p.action).onClick)==null||Wt.call(At,at),!at.defaultPrevented&&ot())},className:ss(ae==null?void 0:ae.actionButton,(m=p==null?void 0:p.classNames)==null?void 0:m.actionButton)},p.action.label):null))};function Qy(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function B6(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?j6:R6;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}var U6=S.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:c,mobileOffset:u,theme:h="light",richColors:m,duration:y,style:p,visibleToasts:N=k6,toastOptions:v,dir:x=Qy(),gap:A=O6,loadingIcon:C,icons:L,containerAriaLabel:B="Notifications",pauseWhenPageIsHidden:J}=t,[re,V]=Ve.useState([]),j=Ve.useMemo(()=>Array.from(new Set([r].concat(re.filter(z=>z.position).map(z=>z.position)))),[re,r]),[P,O]=Ve.useState([]),[E,I]=Ve.useState(!1),[k,G]=Ve.useState(!1),[ce,ue]=Ve.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),fe=Ve.useRef(null),ie=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),ae=Ve.useRef(null),Se=Ve.useRef(!1),_e=Ve.useCallback(z=>{V(Y=>{var X;return(X=Y.find(M=>M.id===z.id))!=null&&X.delete||hi.dismiss(z.id),Y.filter(({id:M})=>M!==z.id)})},[]);return Ve.useEffect(()=>hi.subscribe(z=>{if(z.dismiss){V(Y=>Y.map(X=>X.id===z.id?{...X,delete:!0}:X));return}setTimeout(()=>{Jw.flushSync(()=>{V(Y=>{let X=Y.findIndex(M=>M.id===z.id);return X!==-1?[...Y.slice(0,X),{...Y[X],...z},...Y.slice(X+1)]:[z,...Y]})})})}),[]),Ve.useEffect(()=>{if(h!=="system"){ue(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ue("dark"):ue("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:Y})=>{ue(Y?"dark":"light")})}catch{z.addListener(({matches:X})=>{try{ue(X?"dark":"light")}catch(M){console.error(M)}})}},[h]),Ve.useEffect(()=>{re.length<=1&&I(!1)},[re]),Ve.useEffect(()=>{let z=Y=>{var X,M;i.every(U=>Y[U]||Y.code===U)&&(I(!0),(X=fe.current)==null||X.focus()),Y.code==="Escape"&&(document.activeElement===fe.current||(M=fe.current)!=null&&M.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[i]),Ve.useEffect(()=>{if(fe.current)return()=>{ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null,Se.current=!1)}},[fe.current]),Ve.createElement("section",{ref:e,"aria-label":`${B} ${ie}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((z,Y)=>{var X;let[M,U]=z.split("-");return re.length?Ve.createElement("ol",{key:z,dir:x==="auto"?Qy():x,tabIndex:-1,ref:fe,className:a,"data-sonner-toaster":!0,"data-theme":ce,"data-y-position":M,"data-lifted":E&&re.length>1&&!s,"data-x-position":U,style:{"--front-toast-height":`${((X=P[0])==null?void 0:X.height)||0}px`,"--width":`${L6}px`,"--gap":`${A}px`,...p,...B6(c,u)},onBlur:ne=>{Se.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(Se.current=!1,ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||Se.current||(Se.current=!0,ae.current=ne.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{k||I(!1)},onDragEnd:()=>I(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},re.filter(ne=>!ne.position&&Y===0||ne.position===z).map((ne,oe)=>{var pe,ye;return Ve.createElement(V6,{key:ne.id,icons:L,index:oe,toast:ne,defaultRichColors:m,duration:(pe=v==null?void 0:v.duration)!=null?pe:y,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:N,closeButton:(ye=v==null?void 0:v.closeButton)!=null?ye:o,interacting:k,position:z,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:_e,toasts:re.filter(Ne=>Ne.position==ne.position),heights:P.filter(Ne=>Ne.position==ne.position),setHeights:O,expandByDefault:s,gap:A,loadingIcon:C,expanded:E,pauseWhenPageIsHidden:J,swipeDirections:t.swipeDirections})})):null}))});const z6=({...t})=>{const{theme:e="system"}=p6();return l.jsx(U6,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var q6=o1[" useId ".trim().toString()]||(()=>{}),$6=0;function Ol(t){const[e,n]=S.useState(q6());return _r(()=>{n(r=>r??String($6++))},[t]),e?`radix-${e}`:""}const H6=["top","right","bottom","left"],Ha=Math.min,Ii=Math.max,Gf=Math.round,Qd=Math.floor,Gs=t=>({x:t,y:t}),W6={left:"right",right:"left",bottom:"top",top:"bottom"},G6={start:"end",end:"start"};function Jg(t,e,n){return Ii(t,Ha(e,n))}function Oo(t,e){return typeof t=="function"?t(e):t}function Do(t){return t.split("-")[0]}function vu(t){return t.split("-")[1]}function f1(t){return t==="x"?"y":"x"}function p1(t){return t==="y"?"height":"width"}const K6=new Set(["top","bottom"]);function Hs(t){return K6.has(Do(t))?"y":"x"}function m1(t){return f1(Hs(t))}function Y6(t,e,n){n===void 0&&(n=!1);const r=vu(t),i=m1(t),s=p1(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Kf(o)),[o,Kf(o)]}function J6(t){const e=Kf(t);return[Xg(t),e,Xg(e)]}function Xg(t){return t.replace(/start|end/g,e=>G6[e])}const Zy=["left","right"],ev=["right","left"],X6=["top","bottom"],Q6=["bottom","top"];function Z6(t,e,n){switch(t){case"top":case"bottom":return n?e?ev:Zy:e?Zy:ev;case"left":case"right":return e?X6:Q6;default:return[]}}function eI(t,e,n,r){const i=vu(t);let s=Z6(Do(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Xg)))),s}function Kf(t){return t.replace(/left|right|bottom|top/g,e=>W6[e])}function tI(t){return{top:0,right:0,bottom:0,left:0,...t}}function H5(t){return typeof t!="number"?tI(t):{top:t,right:t,bottom:t,left:t}}function Yf(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function tv(t,e,n){let{reference:r,floating:i}=t;const s=Hs(e),o=m1(e),a=p1(o),c=Do(e),u=s==="y",h=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,y=r[a]/2-i[a]/2;let p;switch(c){case"top":p={x:h,y:r.y-i.height};break;case"bottom":p={x:h,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:m};break;case"left":p={x:r.x-i.width,y:m};break;default:p={x:r.x,y:r.y}}switch(vu(e)){case"start":p[o]-=y*(n&&u?-1:1);break;case"end":p[o]+=y*(n&&u?-1:1);break}return p}const nI=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:m}=tv(u,r,c),y=r,p={},N=0;for(let v=0;v<a.length;v++){const{name:x,fn:A}=a[v],{x:C,y:L,data:B,reset:J}=await A({x:h,y:m,initialPlacement:r,placement:y,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});h=C??h,m=L??m,p={...p,[x]:{...p[x],...B}},J&&N<=50&&(N++,typeof J=="object"&&(J.placement&&(y=J.placement),J.rects&&(u=J.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):J.rects),{x:h,y:m}=tv(u,y,c)),v=-1)}return{x:h,y:m,placement:y,strategy:i,middlewareData:p}};async function Lh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:y=!1,padding:p=0}=Oo(e,t),N=H5(p),x=a[y?m==="floating"?"reference":"floating":m],A=Yf(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:c})),C=m==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,L=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),B=await(s.isElement==null?void 0:s.isElement(L))?await(s.getScale==null?void 0:s.getScale(L))||{x:1,y:1}:{x:1,y:1},J=Yf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:C,offsetParent:L,strategy:c}):C);return{top:(A.top-J.top+N.top)/B.y,bottom:(J.bottom-A.bottom+N.bottom)/B.y,left:(A.left-J.left+N.left)/B.x,right:(J.right-A.right+N.right)/B.x}}const rI=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:h=0}=Oo(t,e)||{};if(u==null)return{};const m=H5(h),y={x:n,y:r},p=m1(i),N=p1(p),v=await o.getDimensions(u),x=p==="y",A=x?"top":"left",C=x?"bottom":"right",L=x?"clientHeight":"clientWidth",B=s.reference[N]+s.reference[p]-y[p]-s.floating[N],J=y[p]-s.reference[p],re=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let V=re?re[L]:0;(!V||!await(o.isElement==null?void 0:o.isElement(re)))&&(V=a.floating[L]||s.floating[N]);const j=B/2-J/2,P=V/2-v[N]/2-1,O=Ha(m[A],P),E=Ha(m[C],P),I=O,k=V-v[N]-E,G=V/2-v[N]/2+j,ce=Jg(I,G,k),ue=!c.arrow&&vu(i)!=null&&G!==ce&&s.reference[N]/2-(G<I?O:E)-v[N]/2<0,fe=ue?G<I?G-I:G-k:0;return{[p]:y[p]+fe,data:{[p]:ce,centerOffset:G-ce-fe,...ue&&{alignmentOffset:fe}},reset:ue}}}),iI=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:v=!0,...x}=Oo(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const A=Do(i),C=Hs(a),L=Do(a)===a,B=await(c.isRTL==null?void 0:c.isRTL(u.floating)),J=y||(L||!v?[Kf(a)]:J6(a)),re=N!=="none";!y&&re&&J.push(...eI(a,v,N,B));const V=[a,...J],j=await Lh(e,x),P=[];let O=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&P.push(j[A]),m){const G=Y6(i,o,B);P.push(j[G[0]],j[G[1]])}if(O=[...O,{placement:i,overflows:P}],!P.every(G=>G<=0)){var E,I;const G=(((E=s.flip)==null?void 0:E.index)||0)+1,ce=V[G];if(ce&&(!(m==="alignment"?C!==Hs(ce):!1)||O.every(ie=>ie.overflows[0]>0&&Hs(ie.placement)===C)))return{data:{index:G,overflows:O},reset:{placement:ce}};let ue=(I=O.filter(fe=>fe.overflows[0]<=0).sort((fe,ie)=>fe.overflows[1]-ie.overflows[1])[0])==null?void 0:I.placement;if(!ue)switch(p){case"bestFit":{var k;const fe=(k=O.filter(ie=>{if(re){const ae=Hs(ie.placement);return ae===C||ae==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(ae=>ae>0).reduce((ae,Se)=>ae+Se,0)]).sort((ie,ae)=>ie[1]-ae[1])[0])==null?void 0:k[0];fe&&(ue=fe);break}case"initialPlacement":ue=a;break}if(i!==ue)return{reset:{placement:ue}}}return{}}}};function nv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function rv(t){return H6.some(e=>t[e]>=0)}const sI=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Oo(t,e);switch(r){case"referenceHidden":{const s=await Lh(e,{...i,elementContext:"reference"}),o=nv(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:rv(o)}}}case"escaped":{const s=await Lh(e,{...i,altBoundary:!0}),o=nv(s,n.floating);return{data:{escapedOffsets:o,escaped:rv(o)}}}default:return{}}}}},W5=new Set(["left","top"]);async function oI(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Do(n),a=vu(n),c=Hs(n)==="y",u=W5.has(o)?-1:1,h=s&&c?-1:1,m=Oo(e,t);let{mainAxis:y,crossAxis:p,alignmentAxis:N}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return a&&typeof N=="number"&&(p=a==="end"?N*-1:N),c?{x:p*h,y:y*u}:{x:y*u,y:p*h}}const aI=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await oI(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},lI=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:A,y:C}=x;return{x:A,y:C}}},...c}=Oo(t,e),u={x:n,y:r},h=await Lh(e,c),m=Hs(Do(i)),y=f1(m);let p=u[y],N=u[m];if(s){const x=y==="y"?"top":"left",A=y==="y"?"bottom":"right",C=p+h[x],L=p-h[A];p=Jg(C,p,L)}if(o){const x=m==="y"?"top":"left",A=m==="y"?"bottom":"right",C=N+h[x],L=N-h[A];N=Jg(C,N,L)}const v=a.fn({...e,[y]:p,[m]:N});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[y]:s,[m]:o}}}}}},cI=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Oo(t,e),h={x:n,y:r},m=Hs(i),y=f1(m);let p=h[y],N=h[m];const v=Oo(a,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const L=y==="y"?"height":"width",B=s.reference[y]-s.floating[L]+x.mainAxis,J=s.reference[y]+s.reference[L]-x.mainAxis;p<B?p=B:p>J&&(p=J)}if(u){var A,C;const L=y==="y"?"width":"height",B=W5.has(Do(i)),J=s.reference[m]-s.floating[L]+(B&&((A=o.offset)==null?void 0:A[m])||0)+(B?0:x.crossAxis),re=s.reference[m]+s.reference[L]+(B?0:((C=o.offset)==null?void 0:C[m])||0)-(B?x.crossAxis:0);N<J?N=J:N>re&&(N=re)}return{[y]:p,[m]:N}}}},uI=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Oo(t,e),h=await Lh(e,u),m=Do(i),y=vu(i),p=Hs(i)==="y",{width:N,height:v}=s.floating;let x,A;m==="top"||m==="bottom"?(x=m,A=y===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(A=m,x=y==="end"?"top":"bottom");const C=v-h.top-h.bottom,L=N-h.left-h.right,B=Ha(v-h[x],C),J=Ha(N-h[A],L),re=!e.middlewareData.shift;let V=B,j=J;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(j=L),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(V=C),re&&!y){const O=Ii(h.left,0),E=Ii(h.right,0),I=Ii(h.top,0),k=Ii(h.bottom,0);p?j=N-2*(O!==0||E!==0?O+E:Ii(h.left,h.right)):V=v-2*(I!==0||k!==0?I+k:Ii(h.top,h.bottom))}await c({...e,availableWidth:j,availableHeight:V});const P=await o.getDimensions(a.floating);return N!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function Dp(){return typeof window<"u"}function bu(t){return G5(t)?(t.nodeName||"").toLowerCase():"#document"}function ji(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function io(t){var e;return(e=(G5(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function G5(t){return Dp()?t instanceof Node||t instanceof ji(t).Node:!1}function ms(t){return Dp()?t instanceof Element||t instanceof ji(t).Element:!1}function to(t){return Dp()?t instanceof HTMLElement||t instanceof ji(t).HTMLElement:!1}function iv(t){return!Dp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ji(t).ShadowRoot}const hI=new Set(["inline","contents"]);function hd(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=gs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!hI.has(i)}const dI=new Set(["table","td","th"]);function fI(t){return dI.has(bu(t))}const pI=[":popover-open",":modal"];function Mp(t){return pI.some(e=>{try{return t.matches(e)}catch{return!1}})}const mI=["transform","translate","scale","rotate","perspective"],gI=["transform","translate","scale","rotate","perspective","filter"],yI=["paint","layout","strict","content"];function g1(t){const e=y1(),n=ms(t)?gs(t):t;return mI.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||gI.some(r=>(n.willChange||"").includes(r))||yI.some(r=>(n.contain||"").includes(r))}function vI(t){let e=Wa(t);for(;to(e)&&!su(e);){if(g1(e))return e;if(Mp(e))return null;e=Wa(e)}return null}function y1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bI=new Set(["html","body","#document"]);function su(t){return bI.has(bu(t))}function gs(t){return ji(t).getComputedStyle(t)}function Fp(t){return ms(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Wa(t){if(bu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||iv(t)&&t.host||io(t);return iv(e)?e.host:e}function K5(t){const e=Wa(t);return su(e)?t.ownerDocument?t.ownerDocument.body:t.body:to(e)&&hd(e)?e:K5(e)}function Oh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=K5(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ji(i);if(s){const a=Qg(o);return e.concat(o,o.visualViewport||[],hd(i)?i:[],a&&n?Oh(a):[])}return e.concat(i,Oh(i,[],n))}function Qg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Y5(t){const e=gs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=to(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Gf(n)!==s||Gf(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function v1(t){return ms(t)?t:t.contextElement}function Mc(t){const e=v1(t);if(!to(e))return Gs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Y5(e);let o=(s?Gf(n.width):n.width)/r,a=(s?Gf(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const xI=Gs(0);function J5(t){const e=ji(t);return!y1()||!e.visualViewport?xI:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wI(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ji(t)?!1:e}function Vl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=v1(t);let o=Gs(1);e&&(r?ms(r)&&(o=Mc(r)):o=Mc(t));const a=wI(s,n,r)?J5(s):Gs(0);let c=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,h=i.width/o.x,m=i.height/o.y;if(s){const y=ji(s),p=r&&ms(r)?ji(r):r;let N=y,v=Qg(N);for(;v&&r&&p!==N;){const x=Mc(v),A=v.getBoundingClientRect(),C=gs(v),L=A.left+(v.clientLeft+parseFloat(C.paddingLeft))*x.x,B=A.top+(v.clientTop+parseFloat(C.paddingTop))*x.y;c*=x.x,u*=x.y,h*=x.x,m*=x.y,c+=L,u+=B,N=ji(v),v=Qg(N)}}return Yf({width:h,height:m,x:c,y:u})}function b1(t,e){const n=Fp(t).scrollLeft;return e?e.left+n:Vl(io(t)).left+n}function X5(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:b1(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function _I(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=io(r),a=e?Mp(e.floating):!1;if(r===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Gs(1);const h=Gs(0),m=to(r);if((m||!m&&!s)&&((bu(r)!=="body"||hd(o))&&(c=Fp(r)),to(r))){const p=Vl(r);u=Mc(r),h.x=p.x+r.clientLeft,h.y=p.y+r.clientTop}const y=o&&!m&&!s?X5(o,c,!0):Gs(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+y.x,y:n.y*u.y-c.scrollTop*u.y+h.y+y.y}}function NI(t){return Array.from(t.getClientRects())}function AI(t){const e=io(t),n=Fp(t),r=t.ownerDocument.body,i=Ii(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ii(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+b1(t);const a=-n.scrollTop;return gs(r).direction==="rtl"&&(o+=Ii(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function EI(t,e){const n=ji(t),r=io(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const u=y1();(!u||u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}const SI=new Set(["absolute","fixed"]);function TI(t,e){const n=Vl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=to(t)?Mc(t):Gs(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:a,x:c,y:u}}function sv(t,e,n){let r;if(e==="viewport")r=EI(t,n);else if(e==="document")r=AI(io(t));else if(ms(e))r=TI(e,n);else{const i=J5(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Yf(r)}function Q5(t,e){const n=Wa(t);return n===e||!ms(n)||su(n)?!1:gs(n).position==="fixed"||Q5(n,e)}function CI(t,e){const n=e.get(t);if(n)return n;let r=Oh(t,[],!1).filter(a=>ms(a)&&bu(a)!=="body"),i=null;const s=gs(t).position==="fixed";let o=s?Wa(t):t;for(;ms(o)&&!su(o);){const a=gs(o),c=g1(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&SI.has(i.position)||hd(o)&&!c&&Q5(t,o))?r=r.filter(h=>h!==o):i=a,o=Wa(o)}return e.set(t,r),r}function II(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Mp(e)?[]:CI(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,h)=>{const m=sv(e,h,i);return u.top=Ii(m.top,u.top),u.right=Ha(m.right,u.right),u.bottom=Ha(m.bottom,u.bottom),u.left=Ii(m.left,u.left),u},sv(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function PI(t){const{width:e,height:n}=Y5(t);return{width:e,height:n}}function kI(t,e,n){const r=to(e),i=io(e),s=n==="fixed",o=Vl(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=Gs(0);function u(){c.x=b1(i)}if(r||!r&&!s)if((bu(e)!=="body"||hd(i))&&(a=Fp(e)),r){const p=Vl(e,!0,s,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&u();s&&!r&&i&&u();const h=i&&!r&&!s?X5(i,a):Gs(0),m=o.left+a.scrollLeft-c.x-h.x,y=o.top+a.scrollTop-c.y-h.y;return{x:m,y,width:o.width,height:o.height}}function $m(t){return gs(t).position==="static"}function ov(t,e){if(!to(t)||gs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return io(t)===n&&(n=n.ownerDocument.body),n}function Z5(t,e){const n=ji(t);if(Mp(t))return n;if(!to(t)){let i=Wa(t);for(;i&&!su(i);){if(ms(i)&&!$m(i))return i;i=Wa(i)}return n}let r=ov(t,e);for(;r&&fI(r)&&$m(r);)r=ov(r,e);return r&&su(r)&&$m(r)&&!g1(r)?n:r||vI(t)||n}const RI=async function(t){const e=this.getOffsetParent||Z5,n=this.getDimensions,r=await n(t.floating);return{reference:kI(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function jI(t){return gs(t).direction==="rtl"}const LI={convertOffsetParentRelativeRectToViewportRelativeRect:_I,getDocumentElement:io,getClippingRect:II,getOffsetParent:Z5,getElementRects:RI,getClientRects:NI,getDimensions:PI,getScale:Mc,isElement:ms,isRTL:jI};function e_(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function OI(t,e){let n=null,r;const i=io(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:h,top:m,width:y,height:p}=u;if(a||e(),!y||!p)return;const N=Qd(m),v=Qd(i.clientWidth-(h+y)),x=Qd(i.clientHeight-(m+p)),A=Qd(h),L={rootMargin:-N+"px "+-v+"px "+-x+"px "+-A+"px",threshold:Ii(0,Ha(1,c))||1};let B=!0;function J(re){const V=re[0].intersectionRatio;if(V!==c){if(!B)return o();V?o(!1,V):r=setTimeout(()=>{o(!1,1e-7)},1e3)}V===1&&!e_(u,t.getBoundingClientRect())&&o(),B=!1}try{n=new IntersectionObserver(J,{...L,root:i.ownerDocument})}catch{n=new IntersectionObserver(J,L)}n.observe(t)}return o(!0),s}function DI(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=v1(t),h=i||s?[...u?Oh(u):[],...Oh(e)]:[];h.forEach(A=>{i&&A.addEventListener("scroll",n,{passive:!0}),s&&A.addEventListener("resize",n)});const m=u&&a?OI(u,n):null;let y=-1,p=null;o&&(p=new ResizeObserver(A=>{let[C]=A;C&&C.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var L;(L=p)==null||L.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let N,v=c?Vl(t):null;c&&x();function x(){const A=Vl(t);v&&!e_(v,A)&&n(),v=A,N=requestAnimationFrame(x)}return n(),()=>{var A;h.forEach(C=>{i&&C.removeEventListener("scroll",n),s&&C.removeEventListener("resize",n)}),m==null||m(),(A=p)==null||A.disconnect(),p=null,c&&cancelAnimationFrame(N)}}const MI=aI,FI=lI,VI=iI,BI=uI,UI=sI,av=rI,zI=cI,qI=(t,e,n)=>{const r=new Map,i={platform:LI,...n},s={...i.platform,_c:r};return nI(t,e,{...i,platform:s})};var $I=typeof document<"u",HI=function(){},Sf=$I?S.useLayoutEffect:HI;function Jf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Jf(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Jf(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function t_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function lv(t,e){const n=t_(t);return Math.round(e*n)/n}function Hm(t){const e=S.useRef(t);return Sf(()=>{e.current=t}),e}function WI(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[h,m]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,p]=S.useState(r);Jf(y,r)||p(r);const[N,v]=S.useState(null),[x,A]=S.useState(null),C=S.useCallback(ie=>{ie!==re.current&&(re.current=ie,v(ie))},[]),L=S.useCallback(ie=>{ie!==V.current&&(V.current=ie,A(ie))},[]),B=s||N,J=o||x,re=S.useRef(null),V=S.useRef(null),j=S.useRef(h),P=c!=null,O=Hm(c),E=Hm(i),I=Hm(u),k=S.useCallback(()=>{if(!re.current||!V.current)return;const ie={placement:e,strategy:n,middleware:y};E.current&&(ie.platform=E.current),qI(re.current,V.current,ie).then(ae=>{const Se={...ae,isPositioned:I.current!==!1};G.current&&!Jf(j.current,Se)&&(j.current=Se,ad.flushSync(()=>{m(Se)}))})},[y,e,n,E,I]);Sf(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,m(ie=>({...ie,isPositioned:!1})))},[u]);const G=S.useRef(!1);Sf(()=>(G.current=!0,()=>{G.current=!1}),[]),Sf(()=>{if(B&&(re.current=B),J&&(V.current=J),B&&J){if(O.current)return O.current(B,J,k);k()}},[B,J,k,O,P]);const ce=S.useMemo(()=>({reference:re,floating:V,setReference:C,setFloating:L}),[C,L]),ue=S.useMemo(()=>({reference:B,floating:J}),[B,J]),fe=S.useMemo(()=>{const ie={position:n,left:0,top:0};if(!ue.floating)return ie;const ae=lv(ue.floating,h.x),Se=lv(ue.floating,h.y);return a?{...ie,transform:"translate("+ae+"px, "+Se+"px)",...t_(ue.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ae,top:Se}},[n,a,ue.floating,h.x,h.y]);return S.useMemo(()=>({...h,update:k,refs:ce,elements:ue,floatingStyles:fe}),[h,k,ce,ue,fe])}const GI=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?av({element:r.current,padding:i}).fn(n):{}:r?av({element:r,padding:i}).fn(n):{}}}},KI=(t,e)=>({...MI(t),options:[t,e]}),YI=(t,e)=>({...FI(t),options:[t,e]}),JI=(t,e)=>({...zI(t),options:[t,e]}),XI=(t,e)=>({...VI(t),options:[t,e]}),QI=(t,e)=>({...BI(t),options:[t,e]}),ZI=(t,e)=>({...UI(t),options:[t,e]}),eP=(t,e)=>({...GI(t),options:[t,e]});var tP="Arrow",n_=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return l.jsx(Mt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});n_.displayName=tP;var nP=n_;function x1(t){const[e,n]=S.useState(void 0);return _r(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var w1="Popper",[r_,Vp]=Uo(w1),[rP,i_]=r_(w1),s_=t=>{const{__scopePopper:e,children:n}=t,[r,i]=S.useState(null);return l.jsx(rP,{scope:e,anchor:r,onAnchorChange:i,children:n})};s_.displayName=w1;var o_="PopperAnchor",a_=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=i_(o_,n),o=S.useRef(null),a=pn(e,o);return S.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(Mt.div,{...i,ref:a})});a_.displayName=o_;var _1="PopperContent",[iP,sP]=r_(_1),l_=S.forwardRef((t,e)=>{var ne,oe,pe,ye,Ne,Re;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:p="optimized",onPlaced:N,...v}=t,x=i_(_1,n),[A,C]=S.useState(null),L=pn(e,Fe=>C(Fe)),[B,J]=S.useState(null),re=x1(B),V=(re==null?void 0:re.width)??0,j=(re==null?void 0:re.height)??0,P=r+(s!=="center"?"-"+s:""),O=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},E=Array.isArray(u)?u:[u],I=E.length>0,k={padding:O,boundary:E.filter(aP),altBoundary:I},{refs:G,floatingStyles:ce,placement:ue,isPositioned:fe,middlewareData:ie}=WI({strategy:"fixed",placement:P,whileElementsMounted:(...Fe)=>DI(...Fe,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[KI({mainAxis:i+j,alignmentAxis:o}),c&&YI({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?JI():void 0,...k}),c&&XI({...k}),QI({...k,apply:({elements:Fe,rects:we,availableWidth:te,availableHeight:yt})=>{const{width:ht,height:Qe}=we.reference,Ie=Fe.floating.style;Ie.setProperty("--radix-popper-available-width",`${te}px`),Ie.setProperty("--radix-popper-available-height",`${yt}px`),Ie.setProperty("--radix-popper-anchor-width",`${ht}px`),Ie.setProperty("--radix-popper-anchor-height",`${Qe}px`)}}),B&&eP({element:B,padding:a}),lP({arrowWidth:V,arrowHeight:j}),y&&ZI({strategy:"referenceHidden",...k})]}),[ae,Se]=h_(ue),_e=ps(N);_r(()=>{fe&&(_e==null||_e())},[fe,_e]);const z=(ne=ie.arrow)==null?void 0:ne.x,Y=(oe=ie.arrow)==null?void 0:oe.y,X=((pe=ie.arrow)==null?void 0:pe.centerOffset)!==0,[M,U]=S.useState();return _r(()=>{A&&U(window.getComputedStyle(A).zIndex)},[A]),l.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:fe?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:M,"--radix-popper-transform-origin":[(ye=ie.transformOrigin)==null?void 0:ye.x,(Ne=ie.transformOrigin)==null?void 0:Ne.y].join(" "),...((Re=ie.hide)==null?void 0:Re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(iP,{scope:n,placedSide:ae,onArrowChange:J,arrowX:z,arrowY:Y,shouldHideArrow:X,children:l.jsx(Mt.div,{"data-side":ae,"data-align":Se,...v,ref:L,style:{...v.style,animation:fe?void 0:"none"}})})})});l_.displayName=_1;var c_="PopperArrow",oP={top:"bottom",right:"left",bottom:"top",left:"right"},u_=S.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=sP(c_,r),o=oP[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(nP,{...i,ref:n,style:{...i.style,display:"block"}})})});u_.displayName=c_;function aP(t){return t!==null}var lP=t=>({name:"transformOrigin",options:t,fn(e){var x,A,C;const{placement:n,rects:r,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,h]=h_(n),m={start:"0%",center:"50%",end:"100%"}[h],y=(((A=i.arrow)==null?void 0:A.x)??0)+a/2,p=(((C=i.arrow)==null?void 0:C.y)??0)+c/2;let N="",v="";return u==="bottom"?(N=o?m:`${y}px`,v=`${-c}px`):u==="top"?(N=o?m:`${y}px`,v=`${r.floating.height+c}px`):u==="right"?(N=`${-c}px`,v=o?m:`${p}px`):u==="left"&&(N=`${r.floating.width+c}px`,v=o?m:`${p}px`),{data:{x:N,y:v}}}});function h_(t){const[e,n="center"]=t.split("-");return[e,n]}var cP=s_,d_=a_,f_=l_,p_=u_,[Bp,zq]=Uo("Tooltip",[Vp]),N1=Vp(),m_="TooltipProvider",uP=700,cv="tooltip.open",[hP,g_]=Bp(m_),y_=t=>{const{__scopeTooltip:e,delayDuration:n=uP,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=S.useRef(!0),a=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(hP,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:S.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:s})};y_.displayName=m_;var v_="Tooltip",[qq,Up]=Bp(v_),Zg="TooltipTrigger",dP=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Up(Zg,n),s=g_(Zg,n),o=N1(n),a=S.useRef(null),c=pn(e,a,i.onTriggerChange),u=S.useRef(!1),h=S.useRef(!1),m=S.useCallback(()=>u.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),l.jsx(d_,{asChild:!0,...o,children:l.jsx(Mt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:It(t.onPointerMove,y=>{y.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:It(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:It(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:It(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:It(t.onBlur,i.onClose),onClick:It(t.onClick,i.onClose)})})});dP.displayName=Zg;var fP="TooltipPortal",[$q,pP]=Bp(fP,{forceMount:void 0}),ou="TooltipContent",b_=S.forwardRef((t,e)=>{const n=pP(ou,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Up(ou,t.__scopeTooltip);return l.jsx(el,{present:r||o.open,children:o.disableHoverableContent?l.jsx(x_,{side:i,...s,ref:e}):l.jsx(mP,{side:i,...s,ref:e})})}),mP=S.forwardRef((t,e)=>{const n=Up(ou,t.__scopeTooltip),r=g_(ou,t.__scopeTooltip),i=S.useRef(null),s=pn(e,i),[o,a]=S.useState(null),{trigger:c,onClose:u}=n,h=i.current,{onPointerInTransitChange:m}=r,y=S.useCallback(()=>{a(null),m(!1)},[m]),p=S.useCallback((N,v)=>{const x=N.currentTarget,A={x:N.clientX,y:N.clientY},C=xP(A,x.getBoundingClientRect()),L=wP(A,C),B=_P(v.getBoundingClientRect()),J=AP([...L,...B]);a(J),m(!0)},[m]);return S.useEffect(()=>()=>y(),[y]),S.useEffect(()=>{if(c&&h){const N=x=>p(x,h),v=x=>p(x,c);return c.addEventListener("pointerleave",N),h.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",N),h.removeEventListener("pointerleave",v)}}},[c,h,p,y]),S.useEffect(()=>{if(o){const N=v=>{const x=v.target,A={x:v.clientX,y:v.clientY},C=(c==null?void 0:c.contains(x))||(h==null?void 0:h.contains(x)),L=!NP(A,o);C?y():L&&(y(),u())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[c,h,o,u,y]),l.jsx(x_,{...t,ref:s})}),[gP,yP]=Bp(v_,{isInside:!1}),vP=_T("TooltipContent"),x_=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,c=Up(ou,n),u=N1(n),{onClose:h}=c;return S.useEffect(()=>(document.addEventListener(cv,h),()=>document.removeEventListener(cv,h)),[h]),S.useEffect(()=>{if(c.trigger){const m=y=>{const p=y.target;p!=null&&p.contains(c.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,h]),l.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:l.jsxs(f_,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(vP,{children:r}),l.jsx(gP,{scope:n,isInside:!0,children:l.jsx($T,{id:c.contentId,role:"tooltip",children:i||r})})]})})});b_.displayName=ou;var w_="TooltipArrow",bP=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=N1(n);return yP(w_,n).isInside?null:l.jsx(p_,{...i,...r,ref:e})});bP.displayName=w_;function xP(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function wP(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function _P(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function NP(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],c=e[o],u=a.x,h=a.y,m=c.x,y=c.y;h>r!=y>r&&n<(m-u)*(r-h)/(y-h)+u&&(i=!i)}return i}function AP(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),EP(e)}function EP(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var SP=y_,__=b_;const TP=SP,CP=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(__,{ref:r,sideOffset:e,className:kt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));CP.displayName=__.displayName;var zp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qp=typeof window>"u"||"Deno"in globalThis;function ls(){}function IP(t,e){return typeof t=="function"?t(e):t}function PP(t){return typeof t=="number"&&t>=0&&t!==1/0}function kP(t,e){return Math.max(t+(e||0)-Date.now(),0)}function e0(t,e){return typeof t=="function"?t(e):t}function RP(t,e){return typeof t=="function"?t(e):t}function uv(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==A1(o,e.options))return!1}else if(!Mh(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function hv(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Dh(e.options.mutationKey)!==Dh(s))return!1}else if(!Mh(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function A1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Dh)(t)}function Dh(t){return JSON.stringify(t,(e,n)=>t0(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Mh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Mh(t[n],e[n])):!1}function N_(t,e){if(t===e)return t;const n=dv(t)&&dv(e);if(n||t0(t)&&t0(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<o;h++){const m=n?h:s[h];(!n&&c.has(m)||n)&&t[m]===void 0&&e[m]===void 0?(a[m]=void 0,u++):(a[m]=N_(t[m],e[m]),a[m]===t[m]&&t[m]!==void 0&&u++)}return i===o&&u===i?t:a}return e}function dv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function t0(t){if(!fv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!fv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fv(t){return Object.prototype.toString.call(t)==="[object Object]"}function jP(t){return new Promise(e=>{setTimeout(e,t)})}function LP(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?N_(t,e):e}function OP(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function DP(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var E1=Symbol();function A_(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===E1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Il,Ea,Yc,zw,MP=(zw=class extends zp{constructor(){super();ln(this,Il);ln(this,Ea);ln(this,Yc);Lt(this,Yc,e=>{if(!qp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Pe(this,Ea)||this.setEventListener(Pe(this,Yc))}onUnsubscribe(){var e;this.hasListeners()||((e=Pe(this,Ea))==null||e.call(this),Lt(this,Ea,void 0))}setEventListener(e){var n;Lt(this,Yc,e),(n=Pe(this,Ea))==null||n.call(this),Lt(this,Ea,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Pe(this,Il)!==e&&(Lt(this,Il,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Pe(this,Il)=="boolean"?Pe(this,Il):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Il=new WeakMap,Ea=new WeakMap,Yc=new WeakMap,zw),E_=new MP,Jc,Sa,Xc,qw,FP=(qw=class extends zp{constructor(){super();ln(this,Jc,!0);ln(this,Sa);ln(this,Xc);Lt(this,Xc,e=>{if(!qp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Pe(this,Sa)||this.setEventListener(Pe(this,Xc))}onUnsubscribe(){var e;this.hasListeners()||((e=Pe(this,Sa))==null||e.call(this),Lt(this,Sa,void 0))}setEventListener(e){var n;Lt(this,Xc,e),(n=Pe(this,Sa))==null||n.call(this),Lt(this,Sa,e(this.setOnline.bind(this)))}setOnline(e){Pe(this,Jc)!==e&&(Lt(this,Jc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Pe(this,Jc)}},Jc=new WeakMap,Sa=new WeakMap,Xc=new WeakMap,qw),Xf=new FP;function VP(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function BP(t){return Math.min(1e3*2**t,3e4)}function S_(t){return(t??"online")==="online"?Xf.isOnline():!0}var T_=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Wm(t){return t instanceof T_}function C_(t){let e=!1,n=0,r=!1,i;const s=VP(),o=v=>{var x;r||(y(new T_(v)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>E_.isFocused()&&(t.networkMode==="always"||Xf.isOnline())&&t.canRun(),h=()=>S_(t.networkMode)&&t.canRun(),m=v=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,v),i==null||i(),s.resolve(v))},y=v=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,v),i==null||i(),s.reject(v))},p=()=>new Promise(v=>{var x;i=A=>{(r||u())&&v(A)},(x=t.onPause)==null||x.call(t)}).then(()=>{var v;i=void 0,r||(v=t.onContinue)==null||v.call(t)}),N=()=>{if(r)return;let v;const x=n===0?t.initialPromise:void 0;try{v=x??t.fn()}catch(A){v=Promise.reject(A)}Promise.resolve(v).then(m).catch(A=>{var re;if(r)return;const C=t.retry??(qp?0:3),L=t.retryDelay??BP,B=typeof L=="function"?L(n,A):L,J=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,A);if(e||!J){y(A);return}n++,(re=t.onFail)==null||re.call(t,n,A),jP(B).then(()=>u()?void 0:p()).then(()=>{e?y(A):N()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?N():p().then(N),s)}}var UP=t=>setTimeout(t,0);function zP(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=UP;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{s(()=>{a(...c)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var ei=zP(),Pl,$w,I_=($w=class{constructor(){ln(this,Pl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),PP(this.gcTime)&&Lt(this,Pl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(qp?1/0:5*60*1e3))}clearGcTimeout(){Pe(this,Pl)&&(clearTimeout(Pe(this,Pl)),Lt(this,Pl,void 0))}},Pl=new WeakMap,$w),Qc,kl,Gi,Rl,Ur,sd,jl,cs,So,Hw,qP=(Hw=class extends I_{constructor(n){super();ln(this,cs);ln(this,Qc);ln(this,kl);ln(this,Gi);ln(this,Rl);ln(this,Ur);ln(this,sd);ln(this,jl);Lt(this,jl,!1),Lt(this,sd,n.defaultOptions),this.setOptions(n.options),this.observers=[],Lt(this,Rl,n.client),Lt(this,Gi,Pe(this,Rl).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Lt(this,Qc,HP(this.options)),this.state=n.state??Pe(this,Qc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=Pe(this,Ur))==null?void 0:n.promise}setOptions(n){this.options={...Pe(this,sd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Pe(this,Gi).remove(this)}setData(n,r){const i=LP(this.state.data,n,this.options);return Or(this,cs,So).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Or(this,cs,So).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=Pe(this,Ur))==null?void 0:i.promise;return(s=Pe(this,Ur))==null||s.cancel(n),r?r.then(ls).catch(ls):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Pe(this,Qc))}isActive(){return this.observers.some(n=>RP(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===E1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>e0(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!kP(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=Pe(this,Ur))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=Pe(this,Ur))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),Pe(this,Gi).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(Pe(this,Ur)&&(Pe(this,jl)?Pe(this,Ur).cancel({revert:!0}):Pe(this,Ur).cancelRetry()),this.scheduleGc()),Pe(this,Gi).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Or(this,cs,So).call(this,{type:"invalidate"})}fetch(n,r){var h,m,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Pe(this,Ur))return Pe(this,Ur).continueRetry(),Pe(this,Ur).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(N=>N.options.queryFn);p&&this.setOptions(p.options)}const i=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Lt(this,jl,!0),i.signal)})},o=()=>{const p=A_(this.options,r),v=(()=>{const x={client:Pe(this,Rl),queryKey:this.queryKey,meta:this.meta};return s(x),x})();return Lt(this,jl,!1),this.options.persister?this.options.persister(p,v,this):p(v)},c=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Pe(this,Rl),state:this.state,fetchFn:o};return s(p),p})();(h=this.options.behavior)==null||h.onFetch(c,this),Lt(this,kl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=c.fetchOptions)==null?void 0:m.meta))&&Or(this,cs,So).call(this,{type:"fetch",meta:(y=c.fetchOptions)==null?void 0:y.meta});const u=p=>{var N,v,x,A;Wm(p)&&p.silent||Or(this,cs,So).call(this,{type:"error",error:p}),Wm(p)||((v=(N=Pe(this,Gi).config).onError)==null||v.call(N,p,this),(A=(x=Pe(this,Gi).config).onSettled)==null||A.call(x,this.state.data,p,this)),this.scheduleGc()};return Lt(this,Ur,C_({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:i.abort.bind(i),onSuccess:p=>{var N,v,x,A;if(p===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(C){u(C);return}(v=(N=Pe(this,Gi).config).onSuccess)==null||v.call(N,p,this),(A=(x=Pe(this,Gi).config).onSettled)==null||A.call(x,p,this.state.error,this),this.scheduleGc()},onError:u,onFail:(p,N)=>{Or(this,cs,So).call(this,{type:"failed",failureCount:p,error:N})},onPause:()=>{Or(this,cs,So).call(this,{type:"pause"})},onContinue:()=>{Or(this,cs,So).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),Pe(this,Ur).start()}},Qc=new WeakMap,kl=new WeakMap,Gi=new WeakMap,Rl=new WeakMap,Ur=new WeakMap,sd=new WeakMap,jl=new WeakMap,cs=new WeakSet,So=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...$P(i.data,this.options),fetchMeta:n.meta??null};case"success":return Lt(this,kl,void 0),{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return Wm(s)&&s.revert&&Pe(this,kl)?{...Pe(this,kl),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),ei.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),Pe(this,Gi).notify({query:this,type:"updated",action:n})})},Hw);function $P(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:S_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function HP(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Bs,Ww,WP=(Ww=class extends zp{constructor(e={}){super();ln(this,Bs);this.config=e,Lt(this,Bs,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??A1(i,n);let o=this.get(s);return o||(o=new qP({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Pe(this,Bs).has(e.queryHash)||(Pe(this,Bs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Pe(this,Bs).get(e.queryHash);n&&(e.destroy(),n===e&&Pe(this,Bs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ei.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Pe(this,Bs).get(e)}getAll(){return[...Pe(this,Bs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>uv(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>uv(e,r)):n}notify(e){ei.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ei.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ei.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Bs=new WeakMap,Ww),Us,Zr,Ll,zs,va,Gw,GP=(Gw=class extends I_{constructor(n){super();ln(this,zs);ln(this,Us);ln(this,Zr);ln(this,Ll);this.mutationId=n.mutationId,Lt(this,Zr,n.mutationCache),Lt(this,Us,[]),this.state=n.state||KP(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){Pe(this,Us).includes(n)||(Pe(this,Us).push(n),this.clearGcTimeout(),Pe(this,Zr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Lt(this,Us,Pe(this,Us).filter(r=>r!==n)),this.scheduleGc(),Pe(this,Zr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){Pe(this,Us).length||(this.state.status==="pending"?this.scheduleGc():Pe(this,Zr).remove(this))}continue(){var n;return((n=Pe(this,Ll))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,c,u,h,m,y,p,N,v,x,A,C,L,B,J,re,V,j,P;const r=()=>{Or(this,zs,va).call(this,{type:"continue"})};Lt(this,Ll,C_({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(O,E)=>{Or(this,zs,va).call(this,{type:"failed",failureCount:O,error:E})},onPause:()=>{Or(this,zs,va).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Pe(this,Zr).canRun(this)}));const i=this.state.status==="pending",s=!Pe(this,Ll).canStart();try{if(i)r();else{Or(this,zs,va).call(this,{type:"pending",variables:n,isPaused:s}),await((a=(o=Pe(this,Zr).config).onMutate)==null?void 0:a.call(o,n,this));const E=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));E!==this.state.context&&Or(this,zs,va).call(this,{type:"pending",context:E,variables:n,isPaused:s})}const O=await Pe(this,Ll).start();return await((m=(h=Pe(this,Zr).config).onSuccess)==null?void 0:m.call(h,O,n,this.state.context,this)),await((p=(y=this.options).onSuccess)==null?void 0:p.call(y,O,n,this.state.context)),await((v=(N=Pe(this,Zr).config).onSettled)==null?void 0:v.call(N,O,null,this.state.variables,this.state.context,this)),await((A=(x=this.options).onSettled)==null?void 0:A.call(x,O,null,n,this.state.context)),Or(this,zs,va).call(this,{type:"success",data:O}),O}catch(O){try{throw await((L=(C=Pe(this,Zr).config).onError)==null?void 0:L.call(C,O,n,this.state.context,this)),await((J=(B=this.options).onError)==null?void 0:J.call(B,O,n,this.state.context)),await((V=(re=Pe(this,Zr).config).onSettled)==null?void 0:V.call(re,void 0,O,this.state.variables,this.state.context,this)),await((P=(j=this.options).onSettled)==null?void 0:P.call(j,void 0,O,n,this.state.context)),O}finally{Or(this,zs,va).call(this,{type:"error",error:O})}}finally{Pe(this,Zr).runNext(this)}}},Us=new WeakMap,Zr=new WeakMap,Ll=new WeakMap,zs=new WeakSet,va=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ei.batch(()=>{Pe(this,Us).forEach(i=>{i.onMutationUpdate(n)}),Pe(this,Zr).notify({mutation:this,type:"updated",action:n})})},Gw);function KP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Io,us,od,Kw,YP=(Kw=class extends zp{constructor(e={}){super();ln(this,Io);ln(this,us);ln(this,od);this.config=e,Lt(this,Io,new Set),Lt(this,us,new Map),Lt(this,od,0)}build(e,n,r){const i=new GP({mutationCache:this,mutationId:++Kd(this,od)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){Pe(this,Io).add(e);const n=Zd(e);if(typeof n=="string"){const r=Pe(this,us).get(n);r?r.push(e):Pe(this,us).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Pe(this,Io).delete(e)){const n=Zd(e);if(typeof n=="string"){const r=Pe(this,us).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&Pe(this,us).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Zd(e);if(typeof n=="string"){const r=Pe(this,us).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Zd(e);if(typeof n=="string"){const i=(r=Pe(this,us).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ei.batch(()=>{Pe(this,Io).forEach(e=>{this.notify({type:"removed",mutation:e})}),Pe(this,Io).clear(),Pe(this,us).clear()})}getAll(){return Array.from(Pe(this,Io))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>hv(n,r))}findAll(e={}){return this.getAll().filter(n=>hv(e,n))}notify(e){ei.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ei.batch(()=>Promise.all(e.map(n=>n.continue().catch(ls))))}},Io=new WeakMap,us=new WeakMap,od=new WeakMap,Kw);function Zd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function pv(t){return{onFetch:(e,n)=>{var h,m,y,p,N;const r=e.options,i=(y=(m=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:y.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((N=e.state.data)==null?void 0:N.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const x=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},A=A_(e.options,e.fetchOptions),C=async(L,B,J)=>{if(v)return Promise.reject();if(B==null&&L.pages.length)return Promise.resolve(L);const V=(()=>{const E={client:e.client,queryKey:e.queryKey,pageParam:B,direction:J?"backward":"forward",meta:e.options.meta};return x(E),E})(),j=await A(V),{maxPages:P}=e.options,O=J?DP:OP;return{pages:O(L.pages,j,P),pageParams:O(L.pageParams,B,P)}};if(i&&s.length){const L=i==="backward",B=L?JP:mv,J={pages:s,pageParams:o},re=B(r,J);a=await C(J,re,L)}else{const L=t??s.length;do{const B=c===0?o[0]??r.initialPageParam:mv(r,a);if(c>0&&B==null)break;a=await C(a,B),c++}while(c<L)}return a};e.options.persister?e.fetchFn=()=>{var v,x;return(x=(v=e.options).persister)==null?void 0:x.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function mv(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function JP(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Kn,Ta,Ca,Zc,eu,Ia,tu,nu,Yw,XP=(Yw=class{constructor(t={}){ln(this,Kn);ln(this,Ta);ln(this,Ca);ln(this,Zc);ln(this,eu);ln(this,Ia);ln(this,tu);ln(this,nu);Lt(this,Kn,t.queryCache||new WP),Lt(this,Ta,t.mutationCache||new YP),Lt(this,Ca,t.defaultOptions||{}),Lt(this,Zc,new Map),Lt(this,eu,new Map),Lt(this,Ia,0)}mount(){Kd(this,Ia)._++,Pe(this,Ia)===1&&(Lt(this,tu,E_.subscribe(async t=>{t&&(await this.resumePausedMutations(),Pe(this,Kn).onFocus())})),Lt(this,nu,Xf.subscribe(async t=>{t&&(await this.resumePausedMutations(),Pe(this,Kn).onOnline())})))}unmount(){var t,e;Kd(this,Ia)._--,Pe(this,Ia)===0&&((t=Pe(this,tu))==null||t.call(this),Lt(this,tu,void 0),(e=Pe(this,nu))==null||e.call(this),Lt(this,nu,void 0))}isFetching(t){return Pe(this,Kn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Pe(this,Ta).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Pe(this,Kn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Pe(this,Kn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(e0(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Pe(this,Kn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Pe(this,Kn).get(r.queryHash),s=i==null?void 0:i.state.data,o=IP(e,s);if(o!==void 0)return Pe(this,Kn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ei.batch(()=>Pe(this,Kn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Pe(this,Kn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Pe(this,Kn);ei.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Pe(this,Kn);return ei.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=ei.batch(()=>Pe(this,Kn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ls).catch(ls)}invalidateQueries(t,e={}){return ei.batch(()=>(Pe(this,Kn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=ei.batch(()=>Pe(this,Kn).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(ls)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(ls)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Pe(this,Kn).build(this,e);return n.isStaleByTime(e0(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ls).catch(ls)}fetchInfiniteQuery(t){return t.behavior=pv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ls).catch(ls)}ensureInfiniteQueryData(t){return t.behavior=pv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Xf.isOnline()?Pe(this,Ta).resumePausedMutations():Promise.resolve()}getQueryCache(){return Pe(this,Kn)}getMutationCache(){return Pe(this,Ta)}getDefaultOptions(){return Pe(this,Ca)}setDefaultOptions(t){Lt(this,Ca,t)}setQueryDefaults(t,e){Pe(this,Zc).set(Dh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Pe(this,Zc).values()],n={};return e.forEach(r=>{Mh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Pe(this,eu).set(Dh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Pe(this,eu).values()],n={};return e.forEach(r=>{Mh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Pe(this,Ca).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=A1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===E1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Pe(this,Ca).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Pe(this,Kn).clear(),Pe(this,Ta).clear()}},Kn=new WeakMap,Ta=new WeakMap,Ca=new WeakMap,Zc=new WeakMap,eu=new WeakMap,Ia=new WeakMap,tu=new WeakMap,nu=new WeakMap,Yw),QP=S.createContext(void 0),ZP=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(QP.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fh.apply(this,arguments)}var ka;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ka||(ka={}));const gv="popstate";function ek(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return n0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Qf(i)}return nk(e,n,null,t)}function cr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function P_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tk(){return Math.random().toString(36).substr(2,8)}function yv(t,e){return{usr:t.state,key:t.key,idx:e}}function n0(t,e,n,r){return n===void 0&&(n=null),Fh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xu(e):e,{state:n,key:e&&e.key||r||tk()})}function Qf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ka.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(Fh({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function m(){a=ka.Pop;let x=h(),A=x==null?null:x-u;u=x,c&&c({action:a,location:v.location,delta:A})}function y(x,A){a=ka.Push;let C=n0(v.location,x,A);u=h()+1;let L=yv(C,u),B=v.createHref(C);try{o.pushState(L,"",B)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign(B)}s&&c&&c({action:a,location:v.location,delta:1})}function p(x,A){a=ka.Replace;let C=n0(v.location,x,A);u=h();let L=yv(C,u),B=v.createHref(C);o.replaceState(L,"",B),s&&c&&c({action:a,location:v.location,delta:0})}function N(x){let A=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof x=="string"?x:Qf(x);return C=C.replace(/ $/,"%20"),cr(A,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,A)}let v={get action(){return a},get location(){return t(i,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(gv,m),c=x,()=>{i.removeEventListener(gv,m),c=null}},createHref(x){return e(i,x)},createURL:N,encodeLocation(x){let A=N(x);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:p,go(x){return o.go(x)}};return v}var vv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vv||(vv={}));function rk(t,e,n){return n===void 0&&(n="/"),ik(t,e,n,!1)}function ik(t,e,n,r){let i=typeof e=="string"?xu(e):e,s=S1(i.pathname||"/",n);if(s==null)return null;let o=k_(t);sk(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=gk(s);a=pk(o[c],u,r)}return a}function k_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(cr(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Oa([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(cr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),k_(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:dk(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of R_(s.path))i(s,o,c)}),e}function R_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=R_(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function sk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ok=/^:[\w-]+$/,ak=3,lk=2,ck=1,uk=10,hk=-2,bv=t=>t==="*";function dk(t,e){let n=t.split("/"),r=n.length;return n.some(bv)&&(r+=hk),e&&(r+=lk),n.filter(i=>!bv(i)).reduce((i,s)=>i+(ok.test(s)?ak:s===""?ck:uk),r)}function fk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pk(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",m=xv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),y=c.route;if(!m&&u&&n&&!r[r.length-1].route.index&&(m=xv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Oa([s,m.pathname]),pathnameBase:xk(Oa([s,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(s=Oa([s,m.pathnameBase]))}return o}function xv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,h,m)=>{let{paramName:y,isOptional:p}=h;if(y==="*"){let v=a[m]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const N=a[m];return p&&!N?u[y]=void 0:u[y]=(N||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function mk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),P_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return P_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function S1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xu(t):t;return{pathname:n?n.startsWith("/")?n:vk(n,e):e,search:wk(r),hash:_k(i)}}function vk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function j_(t,e){let n=bk(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function L_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=xu(t):(i=Fh({},t),cr(!i.pathname||!i.pathname.includes("?"),Gm("?","pathname","search",i)),cr(!i.pathname||!i.pathname.includes("#"),Gm("#","pathname","hash",i)),cr(!i.search||!i.search.includes("#"),Gm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}a=m>=0?e[m]:"/"}let c=yk(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Oa=t=>t.join("/").replace(/\/\/+/g,"/"),xk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_k=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Nk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const O_=["post","put","patch","delete"];new Set(O_);const Ak=["get",...O_];new Set(Ak);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(this,arguments)}const T1=S.createContext(null),Ek=S.createContext(null),Zl=S.createContext(null),$p=S.createContext(null),ec=S.createContext({outlet:null,matches:[],isDataRoute:!1}),D_=S.createContext(null);function Sk(t,e){let{relative:n}=e===void 0?{}:e;dd()||cr(!1);let{basename:r,navigator:i}=S.useContext(Zl),{hash:s,pathname:o,search:a}=F_(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Oa([r,o])),i.createHref({pathname:c,search:a,hash:s})}function dd(){return S.useContext($p)!=null}function wu(){return dd()||cr(!1),S.useContext($p).location}function M_(t){S.useContext(Zl).static||S.useLayoutEffect(t)}function _u(){let{isDataRoute:t}=S.useContext(ec);return t?Vk():Tk()}function Tk(){dd()||cr(!1);let t=S.useContext(T1),{basename:e,future:n,navigator:r}=S.useContext(Zl),{matches:i}=S.useContext(ec),{pathname:s}=wu(),o=JSON.stringify(j_(i,n.v7_relativeSplatPath)),a=S.useRef(!1);return M_(()=>{a.current=!0}),S.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let m=L_(u,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Oa([e,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[e,r,o,s,t])}function F_(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Zl),{matches:i}=S.useContext(ec),{pathname:s}=wu(),o=JSON.stringify(j_(i,r.v7_relativeSplatPath));return S.useMemo(()=>L_(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Ck(t,e){return Ik(t,e)}function Ik(t,e,n,r){dd()||cr(!1);let{navigator:i}=S.useContext(Zl),{matches:s}=S.useContext(ec),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=wu(),h;if(e){var m;let x=typeof e=="string"?xu(e):e;c==="/"||(m=x.pathname)!=null&&m.startsWith(c)||cr(!1),h=x}else h=u;let y=h.pathname||"/",p=y;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+y.replace(/^\//,"").split("/").slice(x.length).join("/")}let N=rk(t,{pathname:p}),v=Lk(N&&N.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Oa([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Oa([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&v?S.createElement($p.Provider,{value:{location:Vh({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ka.Pop}},v):v}function Pk(){let t=Fk(),e=Nk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const kk=S.createElement(Pk,null);class Rk extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(ec.Provider,{value:this.props.routeContext},S.createElement(D_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jk(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(T1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(ec.Provider,{value:e},r)}function Lk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);h>=0||cr(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:y,errors:p}=n,N=m.route.loader&&y[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||N){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,m,y)=>{let p,N=!1,v=null,x=null;n&&(p=a&&m.route.id?a[m.route.id]:void 0,v=m.route.errorElement||kk,c&&(u<0&&y===0?(N=!0,x=null):u===y&&(N=!0,x=m.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,y+1)),C=()=>{let L;return p?L=v:N?L=x:m.route.Component?L=S.createElement(m.route.Component,null):m.route.element?L=m.route.element:L=h,S.createElement(jk,{match:m,routeContext:{outlet:h,matches:A,isDataRoute:n!=null},children:L})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?S.createElement(Rk,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:C(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):C()},null)}var V_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(V_||{}),Zf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zf||{});function Ok(t){let e=S.useContext(T1);return e||cr(!1),e}function Dk(t){let e=S.useContext(Ek);return e||cr(!1),e}function Mk(t){let e=S.useContext(ec);return e||cr(!1),e}function B_(t){let e=Mk(),n=e.matches[e.matches.length-1];return n.route.id||cr(!1),n.route.id}function Fk(){var t;let e=S.useContext(D_),n=Dk(Zf.UseRouteError),r=B_(Zf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Vk(){let{router:t}=Ok(V_.UseNavigateStable),e=B_(Zf.UseNavigateStable),n=S.useRef(!1);return M_(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Vh({fromRouteId:e},s)))},[t,e])}function Bk(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ti(t){cr(!1)}function Uk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ka.Pop,navigator:s,static:o=!1,future:a}=t;dd()&&cr(!1);let c=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:s,static:o,future:Vh({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=xu(r));let{pathname:h="/",search:m="",hash:y="",state:p=null,key:N="default"}=r,v=S.useMemo(()=>{let x=S1(h,c);return x==null?null:{location:{pathname:x,search:m,hash:y,state:p,key:N},navigationType:i}},[c,h,m,y,p,N,i]);return v==null?null:S.createElement(Zl.Provider,{value:u},S.createElement($p.Provider,{children:n,value:v}))}function zk(t){let{children:e,location:n}=t;return Ck(r0(e),n)}new Promise(()=>{});function r0(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,r0(r.props.children,s));return}r.type!==Ti&&cr(!1),!r.props.index||!r.props.children||cr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=r0(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function i0(){return i0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i0.apply(this,arguments)}function qk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $k(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Hk(t,e){return t.button===0&&(!e||e==="_self")&&!$k(t)}const Wk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Gk="6";try{window.__reactRouterVersion=Gk}catch{}const Kk="startTransition",wv=o1[Kk];function Yk(t){let{basename:e,children:n,future:r,window:i}=t,s=S.useRef();s.current==null&&(s.current=ek({window:i,v5Compat:!0}));let o=s.current,[a,c]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=S.useCallback(m=>{u&&wv?wv(()=>c(m)):c(m)},[c,u]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.useEffect(()=>Bk(r),[r]),S.createElement(Uk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Jk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:h,viewTransition:m}=e,y=qk(e,Wk),{basename:p}=S.useContext(Zl),N,v=!1;if(typeof u=="string"&&Xk.test(u)&&(N=u,Jk))try{let L=new URL(window.location.href),B=u.startsWith("//")?new URL(L.protocol+u):new URL(u),J=S1(B.pathname,p);B.origin===L.origin&&J!=null?u=J+B.search+B.hash:v=!0}catch{}let x=Sk(u,{relative:i}),A=Qk(u,{replace:o,state:a,target:c,preventScrollReset:h,relative:i,viewTransition:m});function C(L){r&&r(L),L.defaultPrevented||A(L)}return S.createElement("a",i0({},y,{href:N||x,onClick:v||s?r:C,ref:n,target:c}))});var _v;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_v||(_v={}));var Nv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Nv||(Nv={}));function Qk(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=_u(),u=wu(),h=F_(t,{relative:o});return S.useCallback(m=>{if(Hk(m,n)){m.preventDefault();let y=r!==void 0?r:Qf(u)===Qf(h);c(t,{replace:y,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,c,h,r,i,n,t,s,o,a])}const Zk=()=>{};var Av={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},z_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=s>>2,m=(s&3)<<4|a>>4;let y=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(y=64)),r.push(n[h],n[m],n[y],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(U_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||m==null)throw new tR;const y=s<<2|a>>4;if(r.push(y),u!==64){const p=a<<4&240|u>>2;if(r.push(p),m!==64){const N=u<<6&192|m;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nR=function(t){const e=U_(t);return z_.encodeByteArray(e,!0)},ep=function(t){return nR(t).replace(/\./g,"")},q_=function(t){try{return z_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=()=>rR().__FIREBASE_DEFAULTS__,sR=()=>{if(typeof process>"u"||typeof Av>"u")return;const t=Av.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&q_(t[1]);return e&&JSON.parse(e)},Hp=()=>{try{return Zk()||iR()||sR()||oR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$_=t=>{var e,n;return(n=(e=Hp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},aR=t=>{const e=$_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},H_=()=>{var t;return(t=Hp())==null?void 0:t.config},W_=t=>{var e;return(e=Hp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function G_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ep(JSON.stringify(n)),ep(JSON.stringify(o)),""].join(".")}const xh={};function uR(){const t={prod:[],emulator:[]};for(const e of Object.keys(xh))xh[e]?t.emulator.push(e):t.prod.push(e);return t}function hR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ev=!1;function K_(t,e){if(typeof window>"u"||typeof document>"u"||!Nu(window.location.host)||xh[t]===e||xh[t]||Ev)return;xh[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=uR().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function a(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,p){y.setAttribute("width","24"),y.setAttribute("id",p),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function u(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{Ev=!0,o()},y}function h(y,p){y.setAttribute("id",p),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=hR(r),p=n("text"),N=document.getElementById(p)||document.createElement("span"),v=n("learnmore"),x=document.getElementById(v)||document.createElement("a"),A=n("preprendIcon"),C=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const L=y.element;a(L),h(x,v);const B=u();c(C,A),L.append(C,N,x,B),document.body.appendChild(L)}s?(N.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($r())}function fR(){var e;const t=(e=Hp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yR(){const t=$r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vR(){return!fR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bR(){try{return typeof indexedDB=="object"}catch{return!1}}function xR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="FirebaseError";class zo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wR,Object.setPrototypeOf(this,zo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fd.prototype.create)}}class fd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_R(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zo(i,a,r)}}function _R(t,e){return t.replace(NR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NR=/\{\$([^}]+)}/g;function AR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Sv(s)&&Sv(o)){if(!Bl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Sv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ah(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function lh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ER(t,e){const n=new SR(t,e);return n.subscribe.bind(n)}class SR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Km),i.error===void 0&&(i.error=Km),i.complete===void 0&&(i.complete=Km);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Km(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t){return t&&t._delegate?t._delegate:t}class Ul{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PR(e))try{this.getOrInitializeService({instanceIdentifier:wl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=wl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wl){return this.instances.has(e)}getOptions(e=wl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wl){return this.component?this.component.multipleInstances?e:wl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IR(t){return t===wl?void 0:t}function PR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Kt||(Kt={}));const RR={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},jR=Kt.INFO,LR={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},OR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=LR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C1{constructor(e){this.name=e,this._logLevel=jR,this._logHandler=OR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...e),this._logHandler(this,Kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...e),this._logHandler(this,Kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...e),this._logHandler(this,Kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...e),this._logHandler(this,Kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...e),this._logHandler(this,Kt.ERROR,...e)}}const DR=(t,e)=>e.some(n=>t instanceof n);let Tv,Cv;function MR(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FR(){return Cv||(Cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y_=new WeakMap,s0=new WeakMap,J_=new WeakMap,Ym=new WeakMap,I1=new WeakMap;function VR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Da(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Y_.set(n,t)}).catch(()=>{}),I1.set(e,t),e}function BR(t){if(s0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});s0.set(t,e)}let o0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return s0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||J_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UR(t){o0=t(o0)}function zR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jm(this),e,...n);return J_.set(r,e.sort?e.sort():[e]),Da(r)}:FR().includes(t)?function(...e){return t.apply(Jm(this),e),Da(Y_.get(this))}:function(...e){return Da(t.apply(Jm(this),e))}}function qR(t){return typeof t=="function"?zR(t):(t instanceof IDBTransaction&&BR(t),DR(t,MR())?new Proxy(t,o0):t)}function Da(t){if(t instanceof IDBRequest)return VR(t);if(Ym.has(t))return Ym.get(t);const e=qR(t);return e!==t&&(Ym.set(t,e),I1.set(e,t)),e}const Jm=t=>I1.get(t);function $R(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Da(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Da(o.result),c.oldVersion,c.newVersion,Da(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const HR=["get","getKey","getAll","getAllKeys","count"],WR=["put","add","delete","clear"],Xm=new Map;function Iv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xm.get(e))return Xm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=WR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HR.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return Xm.set(e,s),s}UR(t=>({...t,get:(e,n,r)=>Iv(e,n)||t.get(e,n,r),has:(e,n)=>!!Iv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const a0="@firebase/app",Pv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new C1("@firebase/app"),YR="@firebase/app-compat",JR="@firebase/analytics-compat",XR="@firebase/analytics",QR="@firebase/app-check-compat",ZR="@firebase/app-check",ej="@firebase/auth",tj="@firebase/auth-compat",nj="@firebase/database",rj="@firebase/data-connect",ij="@firebase/database-compat",sj="@firebase/functions",oj="@firebase/functions-compat",aj="@firebase/installations",lj="@firebase/installations-compat",cj="@firebase/messaging",uj="@firebase/messaging-compat",hj="@firebase/performance",dj="@firebase/performance-compat",fj="@firebase/remote-config",pj="@firebase/remote-config-compat",mj="@firebase/storage",gj="@firebase/storage-compat",yj="@firebase/firestore",vj="@firebase/ai",bj="@firebase/firestore-compat",xj="firebase",wj="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="[DEFAULT]",_j={[a0]:"fire-core",[YR]:"fire-core-compat",[XR]:"fire-analytics",[JR]:"fire-analytics-compat",[ZR]:"fire-app-check",[QR]:"fire-app-check-compat",[ej]:"fire-auth",[tj]:"fire-auth-compat",[nj]:"fire-rtdb",[rj]:"fire-data-connect",[ij]:"fire-rtdb-compat",[sj]:"fire-fn",[oj]:"fire-fn-compat",[aj]:"fire-iid",[lj]:"fire-iid-compat",[cj]:"fire-fcm",[uj]:"fire-fcm-compat",[hj]:"fire-perf",[dj]:"fire-perf-compat",[fj]:"fire-rc",[pj]:"fire-rc-compat",[mj]:"fire-gcs",[gj]:"fire-gcs-compat",[yj]:"fire-fst",[bj]:"fire-fst-compat",[vj]:"fire-vertex","fire-js":"fire-js",[xj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new Map,Nj=new Map,c0=new Map;function kv(t,e){try{t.container.addComponent(e)}catch(n){Mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function au(t){const e=t.name;if(c0.has(e))return Mo.debug(`There were multiple attempts to register component ${e}.`),!1;c0.set(e,t);for(const n of tp.values())kv(n,t);for(const n of Nj.values())kv(n,t);return!0}function P1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ma=new fd("app","Firebase",Aj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ul("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ma.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=wj;function X_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:l0,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ma.create("bad-app-name",{appName:String(i)});if(n||(n=H_()),!n)throw Ma.create("no-options");const s=tp.get(i);if(s){if(Bl(n,s.options)&&Bl(r,s.config))return s;throw Ma.create("duplicate-app",{appName:i})}const o=new kR(i);for(const c of c0.values())o.addComponent(c);const a=new Ej(n,r,o);return tp.set(i,a),a}function Q_(t=l0){const e=tp.get(t);if(!e&&t===l0&&H_())return X_();if(!e)throw Ma.create("no-app",{appName:t});return e}function Fa(t,e,n){let r=_j[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mo.warn(o.join(" "));return}au(new Ul(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="firebase-heartbeat-database",Tj=1,Bh="firebase-heartbeat-store";let Qm=null;function Z_(){return Qm||(Qm=$R(Sj,Tj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ma.create("idb-open",{originalErrorMessage:t.message})})),Qm}async function Cj(t){try{const n=(await Z_()).transaction(Bh),r=await n.objectStore(Bh).get(eN(t));return await n.done,r}catch(e){if(e instanceof zo)Mo.warn(e.message);else{const n=Ma.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mo.warn(n.message)}}}async function Rv(t,e){try{const r=(await Z_()).transaction(Bh,"readwrite");await r.objectStore(Bh).put(e,eN(t)),await r.done}catch(n){if(n instanceof zo)Mo.warn(n.message);else{const r=Ma.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mo.warn(r.message)}}}function eN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=1024,Pj=30;class kj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Pj){const o=Lj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jv(),{heartbeatsToSend:r,unsentEntries:i}=Rj(this._heartbeatsCache.heartbeats),s=ep(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Mo.warn(n),""}}}function jv(){return new Date().toISOString().substring(0,10)}function Rj(t,e=Ij){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Lv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Lv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bR()?xR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Cj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Lv(t){return ep(JSON.stringify({version:2,heartbeats:t})).length}function Lj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t){au(new Ul("platform-logger",e=>new GR(e),"PRIVATE")),au(new Ul("heartbeat",e=>new kj(e),"PRIVATE")),Fa(a0,Pv,t),Fa(a0,Pv,"esm2020"),Fa("fire-js","")}Oj("");function tN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dj=tN,nN=new fd("auth","Firebase",tN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=new C1("@firebase/auth");function Mj(t,...e){np.logLevel<=Kt.WARN&&np.warn(`Auth (${Au}): ${t}`,...e)}function Tf(t,...e){np.logLevel<=Kt.ERROR&&np.error(`Auth (${Au}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t,...e){throw R1(t,...e)}function fs(t,...e){return R1(t,...e)}function k1(t,e,n){const r={...Dj(),[e]:n};return new fd("auth","Firebase",r).create(e,{appName:t.name})}function jo(t){return k1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fj(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Xi(t,"argument-error"),k1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function R1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nN.create(t,...e)}function bt(t,e,...n){if(!t)throw R1(e,...n)}function ko(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tf(e),new Error(e)}function Fo(t,e){t||ko(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Vj(){return Ov()==="http:"||Ov()==="https:"}function Ov(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vj()||mR()||"connection"in navigator)?navigator.onLine:!0}function Uj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fo(n>e,"Short delay should be less than long delay!"),this.isMobile=dR()||gR()}get(){return Bj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e){Fo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ko("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ko("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ko("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$j=new md(3e4,6e4);function tl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function nl(t,e,n,r,i={}){return iN(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=pd({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...s};return pR()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Nu(t.emulatorConfig.host)&&(u.credentials="include"),rN.fetch()(await sN(t,t.config.apiHost,n,a),u)})}async function iN(t,e,n){t._canInitEmulator=!1;const r={...zj,...e};try{const i=new Wj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ef(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ef(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ef(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ef(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw k1(t,h,u);Xi(t,h)}}catch(i){if(i instanceof zo)throw i;Xi(t,"network-request-failed",{message:String(i)})}}async function gd(t,e,n,r,i={}){const s=await nl(t,e,n,r,i);return"mfaPendingCredential"in s&&Xi(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function sN(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?j1(t.config,i):`${t.config.apiScheme}://${i}`;return qj.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Hj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fs(this.auth,"network-request-failed")),$j.get())})}}function ef(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fs(t,e,r);return i.customData._tokenResponse=n,i}function Dv(t){return t!==void 0&&t.enterprise!==void 0}class Gj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Hj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kj(t,e){return nl(t,"GET","/v2/recaptchaConfig",tl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yj(t,e){return nl(t,"POST","/v1/accounts:delete",e)}async function rp(t,e){return nl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Jj(t,e=!1){const n=Li(t),r=await n.getIdToken(e),i=L1(r);bt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wh(Zm(i.auth_time)),issuedAtTime:wh(Zm(i.iat)),expirationTime:wh(Zm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Zm(t){return Number(t)*1e3}function L1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{const i=q_(n);return i?JSON.parse(i):(Tf("Failed to decode base64 JWT payload"),null)}catch(i){return Tf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Mv(t){const e=L1(t);return bt(e,"internal-error"),bt(typeof e.exp<"u","internal-error"),bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zo&&Xj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Xj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ip(t){var m;const e=t.auth,n=await t.getIdToken(),r=await Uh(t,rp(e,{idToken:n}));bt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?oN(i.providerUserInfo):[],o=eL(t.providerData,s),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new h0(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function Zj(t){const e=Li(t);await ip(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(t,e){const n=await iN(t,{},async()=>{const r=pd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await sN(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Nu(t.emulatorConfig.host)&&(c.credentials="include"),rN.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nL(t,e){return nl(t,"POST","/v2/accounts:revokeToken",tl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bt(e.idToken,"internal-error"),bt(typeof e.idToken<"u","internal-error"),bt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){bt(e.length!==0,"internal-error");const n=Mv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await tL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Fc;return r&&(bt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(bt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(bt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fc,this.toJSON())}_performRefresh(){return ko("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t,e){bt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hs{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Qj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new h0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Uh(this,this.stsTokenManager.getToken(this.auth,e));return bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Jj(this,e)}reload(){return Zj(this)}_assign(e){this!==e&&(bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ip(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pi(this.auth.app))return Promise.reject(jo(this.auth));const e=await this.getIdToken();return await Uh(this,Yj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:y,isAnonymous:p,providerData:N,stsTokenManager:v}=n;bt(m&&v,e,"internal-error");const x=Fc.fromJSON(this.name,v);bt(typeof m=="string",e,"internal-error"),ma(r,e.name),ma(i,e.name),bt(typeof y=="boolean",e,"internal-error"),bt(typeof p=="boolean",e,"internal-error"),ma(s,e.name),ma(o,e.name),ma(a,e.name),ma(c,e.name),ma(u,e.name),ma(h,e.name);const A=new hs({uid:m,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:x,createdAt:u,lastLoginAt:h});return N&&Array.isArray(N)&&(A.providerData=N.map(C=>({...C}))),c&&(A._redirectEventId=c),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fc;i.updateFromServerResponse(n);const s=new hs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ip(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];bt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?oN(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Fc;a.updateFromIdToken(r);const c=new hs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new h0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new Map;function Ro(t){Fo(t instanceof Function,"Expected a class definition");let e=Fv.get(t);return e?(Fo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aN.type="NONE";const Vv=aN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(t,e,n){return`firebase:${t}:${e}:${n}`}class Vc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Cf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rp(this.auth,{idToken:e}).catch(()=>{});return n?hs._fromGetAccountInfoResponse(this.auth,n,e):null}return hs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vc(Ro(Vv),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ro(Vv);const o=Cf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let m;if(typeof h=="string"){const y=await rp(e,{idToken:h}).catch(()=>{});if(!y)break;m=await hs._fromGetAccountInfoResponse(e,y,h)}else m=hs._fromJSON(e,h);u!==s&&(a=m),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Vc(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Vc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fN(e))return"Blackberry";if(pN(e))return"Webos";if(cN(e))return"Safari";if((e.includes("chrome/")||uN(e))&&!e.includes("edge/"))return"Chrome";if(dN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lN(t=$r()){return/firefox\//i.test(t)}function cN(t=$r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uN(t=$r()){return/crios\//i.test(t)}function hN(t=$r()){return/iemobile/i.test(t)}function dN(t=$r()){return/android/i.test(t)}function fN(t=$r()){return/blackberry/i.test(t)}function pN(t=$r()){return/webos/i.test(t)}function O1(t=$r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rL(t=$r()){var e;return O1(t)&&!!((e=window.navigator)!=null&&e.standalone)}function iL(){return yR()&&document.documentMode===10}function mN(t=$r()){return O1(t)||dN(t)||pN(t)||fN(t)||/windows phone/i.test(t)||hN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t,e=[]){let n;switch(t){case"Browser":n=Bv($r());break;case"Worker":n=`${Bv($r())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Au}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e={}){return nl(t,"GET","/v2/passwordPolicy",tl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=6;class lL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??aL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uv(this),this.idTokenSubscription=new Uv(this),this.beforeStateQueue=new sL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ro(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Vc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rp(this,{idToken:e}),r=await hs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Pi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ip(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Uj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pi(this.app))return Promise.reject(jo(this));const n=e?Li(e):null;return n&&bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pi(this.app)?Promise.reject(jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pi(this.app)?Promise.reject(jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ro(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oL(this),n=new lL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ro(e)||this._popupRedirectResolver;bt(n,this,"argument-error"),this.redirectPersistenceManager=await Vc.create(this,[Ro(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Mj(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function rl(t){return Li(t)}class Uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=ER(n=>this.observer=n)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uL(t){Wp=t}function yN(t){return Wp.loadJS(t)}function hL(){return Wp.recaptchaEnterpriseScript}function dL(){return Wp.gapiScript}function fL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class pL{constructor(){this.enterprise=new mL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gL="recaptcha-enterprise",vN="NO_RECAPTCHA";class yL{constructor(e){this.type=gL,this.auth=rl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Kj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Gj(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;Dv(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(vN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pL().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Dv(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=hL();c.length!==0&&(c+=a),yN(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function zv(t,e,n,r=!1,i=!1){const s=new yL(t);let o;if(i)o=vN;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function d0(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await zv(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await zv(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t,e){const n=P1(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Bl(s,e??{}))return i;Xi(i,"already-initialized")}return n.initialize({options:e})}function bL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ro);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xL(t,e,n){const r=rl(t);bt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=bN(e),{host:o,port:a}=wL(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){bt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),bt(Bl(u,r.config.emulator)&&Bl(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Nu(o)?(G_(`${s}//${o}${c}`),K_("Auth",!0)):_L()}function bN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wL(t){const e=bN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:qv(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:qv(o)}}}function qv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _L(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ko("not implemented")}_getIdTokenResponse(e){return ko("not implemented")}_linkToIdToken(e,n){return ko("not implemented")}_getReauthenticationResolver(e){return ko("not implemented")}}async function NL(t,e){return nl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t,e){return gd(t,"POST","/v1/accounts:signInWithPassword",tl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(t,e){return gd(t,"POST","/v1/accounts:signInWithEmailLink",tl(t,e))}async function SL(t,e){return gd(t,"POST","/v1/accounts:signInWithEmailLink",tl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends D1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d0(e,n,"signInWithPassword",AL);case"emailLink":return EL(e,{email:this._email,oobCode:this._password});default:Xi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d0(e,r,"signUpPassword",NL);case"emailLink":return SL(e,{idToken:n,email:this._email,oobCode:this._password});default:Xi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t,e){return gd(t,"POST","/v1/accounts:signInWithIdp",tl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="http://localhost";class zl extends D1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new zl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Bc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bc(e,n)}buildRequest(){const e={requestUri:TL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IL(t){const e=ah(lh(t)).link,n=e?ah(lh(e)).deep_link_id:null,r=ah(lh(t)).deep_link_id;return(r?ah(lh(r)).link:null)||r||n||e||t}class M1{constructor(e){const n=ah(lh(e)),r=n.apiKey??null,i=n.oobCode??null,s=CL(n.mode??null);bt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=IL(e);try{return new M1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(){this.providerId=Eu.PROVIDER_ID}static credential(e,n){return zh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=M1.parseLink(n);return bt(r,"argument-error"),zh._fromEmailAndCode(e,r.code,r.tenantId)}}Eu.PROVIDER_ID="password";Eu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends F1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends yd{constructor(){super("facebook.com")}static credential(e){return zl._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends yd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zl._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Po.credential(n,r)}catch{return null}}}Po.GOOGLE_SIGN_IN_METHOD="google.com";Po.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends yd{constructor(){super("github.com")}static credential(e){return zl._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _a.credential(e.oauthAccessToken)}catch{return null}}}_a.GITHUB_SIGN_IN_METHOD="github.com";_a.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends yd{constructor(){super("twitter.com")}static credential(e,n){return zl._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Na.credential(n,r)}catch{return null}}}Na.TWITTER_SIGN_IN_METHOD="twitter.com";Na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e){return gd(t,"POST","/v1/accounts:signUp",tl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await hs._fromIdTokenResponse(e,r,i),o=$v(r);return new ql({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$v(r);return new ql({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $v(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends zo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new sp(e,n,r,i)}}function xN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?sp._fromErrorAndOperation(t,s,e,r):s})}async function kL(t,e,n=!1){const r=await Uh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ql._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(t,e,n=!1){const{auth:r}=t;if(Pi(r.app))return Promise.reject(jo(r));const i="reauthenticate";try{const s=await Uh(t,xN(r,i,e,t),n);bt(s.idToken,r,"internal-error");const o=L1(s.idToken);bt(o,r,"internal-error");const{sub:a}=o;return bt(t.uid===a,r,"user-mismatch"),ql._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Xi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(t,e,n=!1){if(Pi(t.app))return Promise.reject(jo(t));const r="signIn",i=await xN(t,r,e),s=await ql._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function jL(t,e){return wN(rl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(t){const e=rl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LL(t,e,n){if(Pi(t.app))return Promise.reject(jo(t));const r=rl(t),o=await d0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PL).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&_N(t),c}),a=await ql._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function OL(t,e,n){return Pi(t.app)?Promise.reject(jo(t)):jL(Li(t),Eu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_N(t),r})}function DL(t,e,n,r){return Li(t).onIdTokenChanged(e,n,r)}function ML(t,e,n){return Li(t).beforeAuthStateChanged(e,n)}function FL(t,e,n,r){return Li(t).onAuthStateChanged(e,n,r)}function VL(t){return Li(t).signOut()}const op="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(op,"1"),this.storage.removeItem(op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=1e3,UL=10;class AN extends NN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);iL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,UL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AN.type="LOCAL";const zL=AN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN extends NN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}EN.type="SESSION";const SN=EN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Gp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await qL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=V1("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(y.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(){return window}function HL(t){Ks().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(){return typeof Ks().WorkerGlobalScope<"u"&&typeof Ks().importScripts=="function"}async function WL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function KL(){return TN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="firebaseLocalStorageDb",YL=1,ap="firebaseLocalStorage",IN="fbase_key";class vd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kp(t,e){return t.transaction([ap],e?"readwrite":"readonly").objectStore(ap)}function JL(){const t=indexedDB.deleteDatabase(CN);return new vd(t).toPromise()}function f0(){const t=indexedDB.open(CN,YL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ap,{keyPath:IN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ap)?e(r):(r.close(),await JL(),e(await f0()))})})}async function Hv(t,e,n){const r=Kp(t,!0).put({[IN]:e,value:n});return new vd(r).toPromise()}async function XL(t,e){const n=Kp(t,!1).get(e),r=await new vd(n).toPromise();return r===void 0?null:r.value}function Wv(t,e){const n=Kp(t,!0).delete(e);return new vd(n).toPromise()}const QL=800,ZL=3;class PN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await f0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gp._getInstance(KL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await WL(),!this.activeServiceWorker)return;this.sender=new $L(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await f0();return await Hv(e,op,"1"),await Wv(e,op),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Hv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Kp(i,!1).getAll();return new vd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PN.type="LOCAL";const e8=PN;new md(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t,e){return e?Ro(e):(bt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1 extends D1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function t8(t){return wN(t.auth,new B1(t),t.bypassAuthState)}function n8(t){const{auth:e,user:n}=t;return bt(n,e,"internal-error"),RL(n,new B1(t),t.bypassAuthState)}async function r8(t){const{auth:e,user:n}=t;return bt(n,e,"internal-error"),kL(n,new B1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t8;case"linkViaPopup":case"linkViaRedirect":return r8;case"reauthViaPopup":case"reauthViaRedirect":return n8;default:Xi(this.auth,"internal-error")}}resolve(e){Fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=new md(2e3,1e4);async function s8(t,e,n){if(Pi(t.app))return Promise.reject(fs(t,"operation-not-supported-in-this-environment"));const r=rl(t);Fj(t,e,F1);const i=kN(r,n);return new Al(r,"signInViaPopup",e,i).executeNotNull()}class Al extends RN{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bt(e,this.auth,"internal-error"),e}async onExecution(){Fo(this.filter.length===1,"Popup operations only handle one event");const e=V1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,i8.get())};e()}}Al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8="pendingRedirect",If=new Map;class a8 extends RN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=If.get(this.auth._key());if(!e){try{const r=await l8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}If.set(this.auth._key(),e)}return this.bypassAuthState||If.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l8(t,e){const n=h8(e),r=u8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function c8(t,e){If.set(t._key(),e)}function u8(t){return Ro(t._redirectPersistence)}function h8(t){return Cf(o8,t.config.apiKey,t.name)}async function d8(t,e,n=!1){if(Pi(t.app))return Promise.reject(jo(t));const r=rl(t),i=kN(r,e),o=await new a8(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=10*60*1e3;class p8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jN(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(fs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f8&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gv(e))}saveEventToCache(e){this.cachedEventUids.add(Gv(e)),this.lastProcessedEventTime=Date.now()}}function Gv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function m8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g8(t,e={}){return nl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v8=/^https?/;async function b8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await g8(t);for(const n of e)try{if(x8(n))return}catch{}Xi(t,"unauthorized-domain")}function x8(t){const e=u0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!v8.test(n))return!1;if(y8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=new md(3e4,6e4);function Kv(){const t=Ks().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _8(t){return new Promise((e,n)=>{var i,s,o;function r(){Kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kv(),n(fs(t,"network-request-failed"))},timeout:w8.get()})}if((s=(i=Ks().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Ks().gapi)!=null&&o.load)r();else{const a=fL("iframefcb");return Ks()[a]=()=>{gapi.load?r():n(fs(t,"network-request-failed"))},yN(`${dL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Pf=null,e})}let Pf=null;function N8(t){return Pf=Pf||_8(t),Pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=new md(5e3,15e3),E8="__/auth/iframe",S8="emulator/auth/iframe",T8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I8(t){const e=t.config;bt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?j1(e,S8):`https://${t.config.authDomain}/${E8}`,r={apiKey:e.apiKey,appName:t.name,v:Au},i=C8.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${pd(r).slice(1)}`}async function P8(t){const e=await N8(t),n=Ks().gapi;return bt(n,t,"internal-error"),e.open({where:document.body,url:I8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T8,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=fs(t,"network-request-failed"),a=Ks().setTimeout(()=>{s(o)},A8.get());function c(){Ks().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R8=500,j8=600,L8="_blank",O8="http://localhost";class Yv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D8(t,e,n,r=R8,i=j8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...k8,width:r.toString(),height:i.toString(),top:s,left:o},u=$r().toLowerCase();n&&(a=uN(u)?L8:n),lN(u)&&(e=e||O8,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[p,N])=>`${y}${p}=${N},`,"");if(rL(u)&&a!=="_self")return M8(e||"",a),new Yv(null);const m=window.open(e||"",a,h);bt(m,t,"popup-blocked");try{m.focus()}catch{}return new Yv(m)}function M8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8="__/auth/handler",V8="emulator/auth/handler",B8=encodeURIComponent("fac");async function Jv(t,e,n,r,i,s){bt(t.config.authDomain,t,"auth-domain-config-required"),bt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Au,eventId:i};if(e instanceof F1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",AR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof yd){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${B8}=${encodeURIComponent(c)}`:"";return`${U8(t)}?${pd(a).slice(1)}${u}`}function U8({config:t}){return t.emulator?j1(t,V8):`https://${t.authDomain}/${F8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="webStorageSupport";class z8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SN,this._completeRedirectFn=d8,this._overrideRedirectResult=c8}async _openPopup(e,n,r,i){var o;Fo((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Jv(e,n,r,u0(),i);return D8(e,s,V1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Jv(e,n,r,u0(),i);return HL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await P8(e),r=new p8(e);return n.register("authEvent",i=>(bt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(eg,{type:eg},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[eg];s!==void 0&&n(!!s),Xi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=b8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mN()||cN()||O1()}}const q8=z8;var Xv="@firebase/auth",Qv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W8(t){au(new Ul("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;bt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gN(t)},u=new cL(r,i,s,c);return bL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),au(new Ul("auth-internal",e=>{const n=rl(e.getProvider("auth").getImmediate());return(r=>new $8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fa(Xv,Qv,H8(t)),Fa(Xv,Qv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=5*60,K8=W_("authIdTokenMaxAge")||G8;let Zv=null;const Y8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>K8)return;const i=n==null?void 0:n.token;Zv!==i&&(Zv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function J8(t=Q_()){const e=P1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vL(t,{popupRedirectResolver:q8,persistence:[e8,zL,SN]}),r=W_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Y8(s.toString());ML(n,o,()=>o(n.currentUser)),DL(n,a=>o(a))}}const i=$_("auth");return i&&xL(n,`http://${i}`),n}function X8(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}uL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=fs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",X8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W8("Browser");var eb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Va,LN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,j){function P(){}P.prototype=j.prototype,V.F=j.prototype,V.prototype=new P,V.prototype.constructor=V,V.D=function(O,E,I){for(var k=Array(arguments.length-2),G=2;G<arguments.length;G++)k[G-2]=arguments[G];return j.prototype[E].apply(O,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,j,P){P||(P=0);const O=Array(16);if(typeof j=="string")for(var E=0;E<16;++E)O[E]=j.charCodeAt(P++)|j.charCodeAt(P++)<<8|j.charCodeAt(P++)<<16|j.charCodeAt(P++)<<24;else for(E=0;E<16;++E)O[E]=j[P++]|j[P++]<<8|j[P++]<<16|j[P++]<<24;j=V.g[0],P=V.g[1],E=V.g[2];let I=V.g[3],k;k=j+(I^P&(E^I))+O[0]+3614090360&4294967295,j=P+(k<<7&4294967295|k>>>25),k=I+(E^j&(P^E))+O[1]+3905402710&4294967295,I=j+(k<<12&4294967295|k>>>20),k=E+(P^I&(j^P))+O[2]+606105819&4294967295,E=I+(k<<17&4294967295|k>>>15),k=P+(j^E&(I^j))+O[3]+3250441966&4294967295,P=E+(k<<22&4294967295|k>>>10),k=j+(I^P&(E^I))+O[4]+4118548399&4294967295,j=P+(k<<7&4294967295|k>>>25),k=I+(E^j&(P^E))+O[5]+1200080426&4294967295,I=j+(k<<12&4294967295|k>>>20),k=E+(P^I&(j^P))+O[6]+2821735955&4294967295,E=I+(k<<17&4294967295|k>>>15),k=P+(j^E&(I^j))+O[7]+4249261313&4294967295,P=E+(k<<22&4294967295|k>>>10),k=j+(I^P&(E^I))+O[8]+1770035416&4294967295,j=P+(k<<7&4294967295|k>>>25),k=I+(E^j&(P^E))+O[9]+2336552879&4294967295,I=j+(k<<12&4294967295|k>>>20),k=E+(P^I&(j^P))+O[10]+4294925233&4294967295,E=I+(k<<17&4294967295|k>>>15),k=P+(j^E&(I^j))+O[11]+2304563134&4294967295,P=E+(k<<22&4294967295|k>>>10),k=j+(I^P&(E^I))+O[12]+1804603682&4294967295,j=P+(k<<7&4294967295|k>>>25),k=I+(E^j&(P^E))+O[13]+4254626195&4294967295,I=j+(k<<12&4294967295|k>>>20),k=E+(P^I&(j^P))+O[14]+2792965006&4294967295,E=I+(k<<17&4294967295|k>>>15),k=P+(j^E&(I^j))+O[15]+1236535329&4294967295,P=E+(k<<22&4294967295|k>>>10),k=j+(E^I&(P^E))+O[1]+4129170786&4294967295,j=P+(k<<5&4294967295|k>>>27),k=I+(P^E&(j^P))+O[6]+3225465664&4294967295,I=j+(k<<9&4294967295|k>>>23),k=E+(j^P&(I^j))+O[11]+643717713&4294967295,E=I+(k<<14&4294967295|k>>>18),k=P+(I^j&(E^I))+O[0]+3921069994&4294967295,P=E+(k<<20&4294967295|k>>>12),k=j+(E^I&(P^E))+O[5]+3593408605&4294967295,j=P+(k<<5&4294967295|k>>>27),k=I+(P^E&(j^P))+O[10]+38016083&4294967295,I=j+(k<<9&4294967295|k>>>23),k=E+(j^P&(I^j))+O[15]+3634488961&4294967295,E=I+(k<<14&4294967295|k>>>18),k=P+(I^j&(E^I))+O[4]+3889429448&4294967295,P=E+(k<<20&4294967295|k>>>12),k=j+(E^I&(P^E))+O[9]+568446438&4294967295,j=P+(k<<5&4294967295|k>>>27),k=I+(P^E&(j^P))+O[14]+3275163606&4294967295,I=j+(k<<9&4294967295|k>>>23),k=E+(j^P&(I^j))+O[3]+4107603335&4294967295,E=I+(k<<14&4294967295|k>>>18),k=P+(I^j&(E^I))+O[8]+1163531501&4294967295,P=E+(k<<20&4294967295|k>>>12),k=j+(E^I&(P^E))+O[13]+2850285829&4294967295,j=P+(k<<5&4294967295|k>>>27),k=I+(P^E&(j^P))+O[2]+4243563512&4294967295,I=j+(k<<9&4294967295|k>>>23),k=E+(j^P&(I^j))+O[7]+1735328473&4294967295,E=I+(k<<14&4294967295|k>>>18),k=P+(I^j&(E^I))+O[12]+2368359562&4294967295,P=E+(k<<20&4294967295|k>>>12),k=j+(P^E^I)+O[5]+4294588738&4294967295,j=P+(k<<4&4294967295|k>>>28),k=I+(j^P^E)+O[8]+2272392833&4294967295,I=j+(k<<11&4294967295|k>>>21),k=E+(I^j^P)+O[11]+1839030562&4294967295,E=I+(k<<16&4294967295|k>>>16),k=P+(E^I^j)+O[14]+4259657740&4294967295,P=E+(k<<23&4294967295|k>>>9),k=j+(P^E^I)+O[1]+2763975236&4294967295,j=P+(k<<4&4294967295|k>>>28),k=I+(j^P^E)+O[4]+1272893353&4294967295,I=j+(k<<11&4294967295|k>>>21),k=E+(I^j^P)+O[7]+4139469664&4294967295,E=I+(k<<16&4294967295|k>>>16),k=P+(E^I^j)+O[10]+3200236656&4294967295,P=E+(k<<23&4294967295|k>>>9),k=j+(P^E^I)+O[13]+681279174&4294967295,j=P+(k<<4&4294967295|k>>>28),k=I+(j^P^E)+O[0]+3936430074&4294967295,I=j+(k<<11&4294967295|k>>>21),k=E+(I^j^P)+O[3]+3572445317&4294967295,E=I+(k<<16&4294967295|k>>>16),k=P+(E^I^j)+O[6]+76029189&4294967295,P=E+(k<<23&4294967295|k>>>9),k=j+(P^E^I)+O[9]+3654602809&4294967295,j=P+(k<<4&4294967295|k>>>28),k=I+(j^P^E)+O[12]+3873151461&4294967295,I=j+(k<<11&4294967295|k>>>21),k=E+(I^j^P)+O[15]+530742520&4294967295,E=I+(k<<16&4294967295|k>>>16),k=P+(E^I^j)+O[2]+3299628645&4294967295,P=E+(k<<23&4294967295|k>>>9),k=j+(E^(P|~I))+O[0]+4096336452&4294967295,j=P+(k<<6&4294967295|k>>>26),k=I+(P^(j|~E))+O[7]+1126891415&4294967295,I=j+(k<<10&4294967295|k>>>22),k=E+(j^(I|~P))+O[14]+2878612391&4294967295,E=I+(k<<15&4294967295|k>>>17),k=P+(I^(E|~j))+O[5]+4237533241&4294967295,P=E+(k<<21&4294967295|k>>>11),k=j+(E^(P|~I))+O[12]+1700485571&4294967295,j=P+(k<<6&4294967295|k>>>26),k=I+(P^(j|~E))+O[3]+2399980690&4294967295,I=j+(k<<10&4294967295|k>>>22),k=E+(j^(I|~P))+O[10]+4293915773&4294967295,E=I+(k<<15&4294967295|k>>>17),k=P+(I^(E|~j))+O[1]+2240044497&4294967295,P=E+(k<<21&4294967295|k>>>11),k=j+(E^(P|~I))+O[8]+1873313359&4294967295,j=P+(k<<6&4294967295|k>>>26),k=I+(P^(j|~E))+O[15]+4264355552&4294967295,I=j+(k<<10&4294967295|k>>>22),k=E+(j^(I|~P))+O[6]+2734768916&4294967295,E=I+(k<<15&4294967295|k>>>17),k=P+(I^(E|~j))+O[13]+1309151649&4294967295,P=E+(k<<21&4294967295|k>>>11),k=j+(E^(P|~I))+O[4]+4149444226&4294967295,j=P+(k<<6&4294967295|k>>>26),k=I+(P^(j|~E))+O[11]+3174756917&4294967295,I=j+(k<<10&4294967295|k>>>22),k=E+(j^(I|~P))+O[2]+718787259&4294967295,E=I+(k<<15&4294967295|k>>>17),k=P+(I^(E|~j))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+j&4294967295,V.g[1]=V.g[1]+(E+(k<<21&4294967295|k>>>11))&4294967295,V.g[2]=V.g[2]+E&4294967295,V.g[3]=V.g[3]+I&4294967295}r.prototype.v=function(V,j){j===void 0&&(j=V.length);const P=j-this.blockSize,O=this.C;let E=this.h,I=0;for(;I<j;){if(E==0)for(;I<=P;)i(this,V,I),I+=this.blockSize;if(typeof V=="string"){for(;I<j;)if(O[E++]=V.charCodeAt(I++),E==this.blockSize){i(this,O),E=0;break}}else for(;I<j;)if(O[E++]=V[I++],E==this.blockSize){i(this,O),E=0;break}}this.h=E,this.o+=j},r.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var j=1;j<V.length-8;++j)V[j]=0;j=this.o*8;for(var P=V.length-8;P<V.length;++P)V[P]=j&255,j/=256;for(this.v(V),V=Array(16),j=0,P=0;P<4;++P)for(let O=0;O<32;O+=8)V[j++]=this.g[P]>>>O&255;return V};function s(V,j){var P=a;return Object.prototype.hasOwnProperty.call(P,V)?P[V]:P[V]=j(V)}function o(V,j){this.h=j;const P=[];let O=!0;for(let E=V.length-1;E>=0;E--){const I=V[E]|0;O&&I==j||(P[E]=I,O=!1)}this.g=P}var a={};function c(V){return-128<=V&&V<128?s(V,function(j){return new o([j|0],j<0?-1:0)}):new o([V|0],V<0?-1:0)}function u(V){if(isNaN(V)||!isFinite(V))return m;if(V<0)return x(u(-V));const j=[];let P=1;for(let O=0;V>=P;O++)j[O]=V/P|0,P*=4294967296;return new o(j,0)}function h(V,j){if(V.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(V.charAt(0)=="-")return x(h(V.substring(1),j));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=u(Math.pow(j,8));let O=m;for(let I=0;I<V.length;I+=8){var E=Math.min(8,V.length-I);const k=parseInt(V.substring(I,I+E),j);E<8?(E=u(Math.pow(j,E)),O=O.j(E).add(u(k))):(O=O.j(P),O=O.add(u(k)))}return O}var m=c(0),y=c(1),p=c(16777216);t=o.prototype,t.m=function(){if(v(this))return-x(this).m();let V=0,j=1;for(let P=0;P<this.g.length;P++){const O=this.i(P);V+=(O>=0?O:4294967296+O)*j,j*=4294967296}return V},t.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(N(this))return"0";if(v(this))return"-"+x(this).toString(V);const j=u(Math.pow(V,6));var P=this;let O="";for(;;){const E=B(P,j).g;P=A(P,E.j(j));let I=((P.g.length>0?P.g[0]:P.h)>>>0).toString(V);if(P=E,N(P))return I+O;for(;I.length<6;)I="0"+I;O=I+O}},t.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function N(V){if(V.h!=0)return!1;for(let j=0;j<V.g.length;j++)if(V.g[j]!=0)return!1;return!0}function v(V){return V.h==-1}t.l=function(V){return V=A(this,V),v(V)?-1:N(V)?0:1};function x(V){const j=V.g.length,P=[];for(let O=0;O<j;O++)P[O]=~V.g[O];return new o(P,~V.h).add(y)}t.abs=function(){return v(this)?x(this):this},t.add=function(V){const j=Math.max(this.g.length,V.g.length),P=[];let O=0;for(let E=0;E<=j;E++){let I=O+(this.i(E)&65535)+(V.i(E)&65535),k=(I>>>16)+(this.i(E)>>>16)+(V.i(E)>>>16);O=k>>>16,I&=65535,k&=65535,P[E]=k<<16|I}return new o(P,P[P.length-1]&-2147483648?-1:0)};function A(V,j){return V.add(x(j))}t.j=function(V){if(N(this)||N(V))return m;if(v(this))return v(V)?x(this).j(x(V)):x(x(this).j(V));if(v(V))return x(this.j(x(V)));if(this.l(p)<0&&V.l(p)<0)return u(this.m()*V.m());const j=this.g.length+V.g.length,P=[];for(var O=0;O<2*j;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(let E=0;E<V.g.length;E++){const I=this.i(O)>>>16,k=this.i(O)&65535,G=V.i(E)>>>16,ce=V.i(E)&65535;P[2*O+2*E]+=k*ce,C(P,2*O+2*E),P[2*O+2*E+1]+=I*ce,C(P,2*O+2*E+1),P[2*O+2*E+1]+=k*G,C(P,2*O+2*E+1),P[2*O+2*E+2]+=I*G,C(P,2*O+2*E+2)}for(V=0;V<j;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=j;V<2*j;V++)P[V]=0;return new o(P,0)};function C(V,j){for(;(V[j]&65535)!=V[j];)V[j+1]+=V[j]>>>16,V[j]&=65535,j++}function L(V,j){this.g=V,this.h=j}function B(V,j){if(N(j))throw Error("division by zero");if(N(V))return new L(m,m);if(v(V))return j=B(x(V),j),new L(x(j.g),x(j.h));if(v(j))return j=B(V,x(j)),new L(x(j.g),j.h);if(V.g.length>30){if(v(V)||v(j))throw Error("slowDivide_ only works with positive integers.");for(var P=y,O=j;O.l(V)<=0;)P=J(P),O=J(O);var E=re(P,1),I=re(O,1);for(O=re(O,2),P=re(P,2);!N(O);){var k=I.add(O);k.l(V)<=0&&(E=E.add(P),I=k),O=re(O,1),P=re(P,1)}return j=A(V,E.j(j)),new L(E,j)}for(E=m;V.l(j)>=0;){for(P=Math.max(1,Math.floor(V.m()/j.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),I=u(P),k=I.j(j);v(k)||k.l(V)>0;)P-=O,I=u(P),k=I.j(j);N(I)&&(I=y),E=E.add(I),V=A(V,k)}return new L(E,V)}t.B=function(V){return B(this,V).h},t.and=function(V){const j=Math.max(this.g.length,V.g.length),P=[];for(let O=0;O<j;O++)P[O]=this.i(O)&V.i(O);return new o(P,this.h&V.h)},t.or=function(V){const j=Math.max(this.g.length,V.g.length),P=[];for(let O=0;O<j;O++)P[O]=this.i(O)|V.i(O);return new o(P,this.h|V.h)},t.xor=function(V){const j=Math.max(this.g.length,V.g.length),P=[];for(let O=0;O<j;O++)P[O]=this.i(O)^V.i(O);return new o(P,this.h^V.h)};function J(V){const j=V.g.length+1,P=[];for(let O=0;O<j;O++)P[O]=V.i(O)<<1|V.i(O-1)>>>31;return new o(P,V.h)}function re(V,j){const P=j>>5;j%=32;const O=V.g.length-P,E=[];for(let I=0;I<O;I++)E[I]=j>0?V.i(I+P)>>>j|V.i(I+P+1)<<32-j:V.i(I+P);return new o(E,V.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,LN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Va=o}).apply(typeof eb<"u"?eb:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ON,ch,DN,kf,p0,MN,FN,VN;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var _=0;_<f.length;++_){var R=f[_];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(f,_){if(_)e:{var R=r;f=f.split(".");for(var W=0;W<f.length-1;W++){var me=f[W];if(!(me in R))break e;R=R[me]}f=f[f.length-1],W=R[f],_=_(W),_!=W&&_!=null&&e(R,f,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(f){return f||function(_){var R=[],W;for(W in _)Object.prototype.hasOwnProperty.call(_,W)&&R.push([W,_[W]]);return R}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function c(f,_,R){return f.call.apply(f.bind,arguments)}function u(f,_,R){return u=c,u.apply(null,arguments)}function h(f,_){var R=Array.prototype.slice.call(arguments,1);return function(){var W=R.slice();return W.push.apply(W,arguments),f.apply(this,W)}}function m(f,_){function R(){}R.prototype=_.prototype,f.Z=_.prototype,f.prototype=new R,f.prototype.constructor=f,f.Ob=function(W,me,xe){for(var Be=Array(arguments.length-2),St=2;St<arguments.length;St++)Be[St-2]=arguments[St];return _.prototype[me].apply(W,Be)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function p(f){const _=f.length;if(_>0){const R=Array(_);for(let W=0;W<_;W++)R[W]=f[W];return R}return[]}function N(f,_){for(let W=1;W<arguments.length;W++){const me=arguments[W];var R=typeof me;if(R=R!="object"?R:me?Array.isArray(me)?"array":R:"null",R=="array"||R=="object"&&typeof me.length=="number"){R=f.length||0;const xe=me.length||0;f.length=R+xe;for(let Be=0;Be<xe;Be++)f[R+Be]=me[Be]}else f.push(me)}}class v{constructor(_,R){this.i=_,this.j=R,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function x(f){o.setTimeout(()=>{throw f},0)}function A(){var f=V;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class C{constructor(){this.h=this.g=null}add(_,R){const W=L.get();W.set(_,R),this.h?this.h.next=W:this.g=W,this.h=W}}var L=new v(()=>new B,f=>f.reset());class B{constructor(){this.next=this.g=this.h=null}set(_,R){this.h=_,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let J,re=!1,V=new C,j=()=>{const f=Promise.resolve(void 0);J=()=>{f.then(P)}};function P(){for(var f;f=A();){try{f.h.call(f.g)}catch(R){x(R)}var _=L;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}re=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const R=()=>{};o.addEventListener("test",R,_),o.removeEventListener("test",R,_)}catch{}return f}();function k(f){return/^[\s\xa0]*$/.test(f)}function G(f,_){E.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}m(G,E),G.prototype.init=function(f,_){const R=this.type=f.type,W=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(R=="mouseover"?_=f.fromElement:R=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),ue=0;function fe(f,_,R,W,me){this.listener=f,this.proxy=null,this.src=_,this.type=R,this.capture=!!W,this.ha=me,this.key=++ue,this.da=this.fa=!1}function ie(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ae(f,_,R){for(const W in f)_.call(R,f[W],W,f)}function Se(f,_){for(const R in f)_.call(void 0,f[R],R,f)}function _e(f){const _={};for(const R in f)_[R]=f[R];return _}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(f,_){let R,W;for(let me=1;me<arguments.length;me++){W=arguments[me];for(R in W)f[R]=W[R];for(let xe=0;xe<z.length;xe++)R=z[xe],Object.prototype.hasOwnProperty.call(W,R)&&(f[R]=W[R])}}function X(f){this.src=f,this.g={},this.h=0}X.prototype.add=function(f,_,R,W,me){const xe=f.toString();f=this.g[xe],f||(f=this.g[xe]=[],this.h++);const Be=U(f,_,W,me);return Be>-1?(_=f[Be],R||(_.fa=!1)):(_=new fe(_,this.src,xe,!!W,me),_.fa=R,f.push(_)),_};function M(f,_){const R=_.type;if(R in f.g){var W=f.g[R],me=Array.prototype.indexOf.call(W,_,void 0),xe;(xe=me>=0)&&Array.prototype.splice.call(W,me,1),xe&&(ie(_),f.g[R].length==0&&(delete f.g[R],f.h--))}}function U(f,_,R,W){for(let me=0;me<f.length;++me){const xe=f[me];if(!xe.da&&xe.listener==_&&xe.capture==!!R&&xe.ha==W)return me}return-1}var ne="closure_lm_"+(Math.random()*1e6|0),oe={};function pe(f,_,R,W,me){if(Array.isArray(_)){for(let xe=0;xe<_.length;xe++)pe(f,_[xe],R,W,me);return null}return R=Qe(R),f&&f[ce]?f.J(_,R,a(W)?!!W.capture:!!W,me):ye(f,_,R,!1,W,me)}function ye(f,_,R,W,me,xe){if(!_)throw Error("Invalid event type");const Be=a(me)?!!me.capture:!!me;let St=yt(f);if(St||(f[ne]=St=new X(f)),R=St.add(_,R,W,Be,xe),R.proxy)return R;if(W=Ne(),R.proxy=W,W.src=f,W.listener=R,f.addEventListener)I||(me=Be),me===void 0&&(me=!1),f.addEventListener(_.toString(),W,me);else if(f.attachEvent)f.attachEvent(we(_.toString()),W);else if(f.addListener&&f.removeListener)f.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Ne(){function f(R){return _.call(f.src,f.listener,R)}const _=te;return f}function Re(f,_,R,W,me){if(Array.isArray(_))for(var xe=0;xe<_.length;xe++)Re(f,_[xe],R,W,me);else W=a(W)?!!W.capture:!!W,R=Qe(R),f&&f[ce]?(f=f.i,xe=String(_).toString(),xe in f.g&&(_=f.g[xe],R=U(_,R,W,me),R>-1&&(ie(_[R]),Array.prototype.splice.call(_,R,1),_.length==0&&(delete f.g[xe],f.h--)))):f&&(f=yt(f))&&(_=f.g[_.toString()],f=-1,_&&(f=U(_,R,W,me)),(R=f>-1?_[f]:null)&&Fe(R))}function Fe(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[ce])M(_.i,f);else{var R=f.type,W=f.proxy;_.removeEventListener?_.removeEventListener(R,W,f.capture):_.detachEvent?_.detachEvent(we(R),W):_.addListener&&_.removeListener&&_.removeListener(W),(R=yt(_))?(M(R,f),R.h==0&&(R.src=null,_[ne]=null)):ie(f)}}}function we(f){return f in oe?oe[f]:oe[f]="on"+f}function te(f,_){if(f.da)f=!0;else{_=new G(_,this);const R=f.listener,W=f.ha||f.src;f.fa&&Fe(f),f=R.call(W,_)}return f}function yt(f){return f=f[ne],f instanceof X?f:null}var ht="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qe(f){return typeof f=="function"?f:(f[ht]||(f[ht]=function(_){return f.handleEvent(_)}),f[ht])}function Ie(){O.call(this),this.i=new X(this),this.M=this,this.G=null}m(Ie,O),Ie.prototype[ce]=!0,Ie.prototype.removeEventListener=function(f,_,R,W){Re(this,f,_,R,W)};function qe(f,_){var R,W=f.G;if(W)for(R=[];W;W=W.G)R.push(W);if(f=f.M,W=_.type||_,typeof _=="string")_=new E(_,f);else if(_ instanceof E)_.target=_.target||f;else{var me=_;_=new E(W,f),Y(_,me)}me=!0;let xe,Be;if(R)for(Be=R.length-1;Be>=0;Be--)xe=_.g=R[Be],me=Ue(xe,W,!0,_)&&me;if(xe=_.g=f,me=Ue(xe,W,!0,_)&&me,me=Ue(xe,W,!1,_)&&me,R)for(Be=0;Be<R.length;Be++)xe=_.g=R[Be],me=Ue(xe,W,!1,_)&&me}Ie.prototype.N=function(){if(Ie.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const R=f.g[_];for(let W=0;W<R.length;W++)ie(R[W]);delete f.g[_],f.h--}}this.G=null},Ie.prototype.J=function(f,_,R,W){return this.i.add(String(f),_,!1,R,W)},Ie.prototype.K=function(f,_,R,W){return this.i.add(String(f),_,!0,R,W)};function Ue(f,_,R,W){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let me=!0;for(let xe=0;xe<_.length;++xe){const Be=_[xe];if(Be&&!Be.da&&Be.capture==R){const St=Be.listener,An=Be.ha||Be.src;Be.fa&&M(f.i,Be),me=St.call(An,W)!==!1&&me}}return me&&!W.defaultPrevented}function _t(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=u(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:o.setTimeout(f,_||0)}function Ge(f){f.g=_t(()=>{f.g=null,f.i&&(f.i=!1,Ge(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Xt extends O{constructor(_,R){super(),this.m=_,this.l=R,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ge(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pt(f){O.call(this),this.h=f,this.g={}}m(pt,O);var nt=[];function qt(f){ae(f.g,function(_,R){this.g.hasOwnProperty(R)&&Fe(_)},f),f.g={}}pt.prototype.N=function(){pt.Z.N.call(this),qt(this)},pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wt=o.JSON.stringify,rt=o.JSON.parse,dt=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function tt(){}function an(){}var Vt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){E.call(this,"d")}m($e,E);function gt(){E.call(this,"c")}m(gt,E);var Ot={},ut=null;function Dt(){return ut=ut||new Ie}Ot.Ia="serverreachability";function vt(f){E.call(this,Ot.Ia,f)}m(vt,E);function hn(f){const _=Dt();qe(_,new vt(_))}Ot.STAT_EVENT="statevent";function Fn(f,_){E.call(this,Ot.STAT_EVENT,f),this.stat=_}m(Fn,E);function Nt(f){const _=Dt();qe(_,new Fn(_,f))}Ot.Ja="timingevent";function ot(f,_){E.call(this,Ot.Ja,f),this.size=_}m(ot,E);function $t(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},_)}function at(){this.g=!0}at.prototype.ua=function(){this.g=!1};function At(f,_,R,W,me,xe){f.info(function(){if(f.g)if(xe){var Be="",St=xe.split("&");for(let Gt=0;Gt<St.length;Gt++){var An=St[Gt].split("=");if(An.length>1){const kn=An[0];An=An[1];const yr=kn.split("_");Be=yr.length>=2&&yr[1]=="type"?Be+(kn+"="+An+"&"):Be+(kn+"=redacted&")}}}else Be=null;else Be=xe;return"XMLHTTP REQ ("+W+") [attempt "+me+"]: "+_+`
`+R+`
`+Be})}function Wt(f,_,R,W,me,xe,Be){f.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+me+"]: "+_+`
`+R+`
`+xe+" "+Be})}function mn(f,_,R,W){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+or(f,R)+(W?" "+W:"")})}function Ye(f,_){f.info(function(){return"TIMEOUT: "+_})}at.prototype.info=function(){};function or(f,_){if(!f.g)return _;if(!_)return null;try{const xe=JSON.parse(_);if(xe){for(f=0;f<xe.length;f++)if(Array.isArray(xe[f])){var R=xe[f];if(!(R.length<2)){var W=R[1];if(Array.isArray(W)&&!(W.length<1)){var me=W[0];if(me!="noop"&&me!="stop"&&me!="close")for(let Be=1;Be<W.length;Be++)W[Be]=""}}}}return wt(xe)}catch{return _}}var $n={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vn;function Cn(){}m(Cn,tt),Cn.prototype.g=function(){return new XMLHttpRequest},Vn=new Cn;function Bn(f){return encodeURIComponent(String(f))}function ur(f){var _=1;f=f.split(":");const R=[];for(;_>0&&f.length;)R.push(f.shift()),_--;return f.length&&R.push(f.join(":")),R}function Pr(f,_,R,W){this.j=f,this.i=_,this.l=R,this.S=W||1,this.V=new pt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zi}function Zi(){this.i=null,this.g="",this.h=!1}var ni={},ri={};function Hr(f,_,R){f.M=1,f.A=kr(cn(_)),f.u=R,f.R=!0,ii(f,null)}function ii(f,_){f.F=Date.now(),Di(f),f.B=cn(f.A);var R=f.B,W=f.S;Array.isArray(W)||(W=[String(W)]),mc(R.i,"t",W),f.C=0,R=f.j.L,f.h=new Zi,f.g=We(f.j,R?_:null,!f.u),f.P>0&&(f.O=new Xt(u(f.Y,f,f.g),f.P)),_=f.V,R=f.g,W=f.ba;var me="readystatechange";Array.isArray(me)||(me&&(nt[0]=me.toString()),me=nt);for(let xe=0;xe<me.length;xe++){const Be=pe(R,me[xe],W||_.handleEvent,!1,_.h||_);if(!Be)break;_.g[Be.key]=Be}_=f.J?_e(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),hn(),At(f.i,f.v,f.B,f.l,f.S,f.u)}Pr.prototype.ba=function(f){f=f.target;const _=this.O;_&&li(f)==3?_.j():this.Y(f)},Pr.prototype.Y=function(f){try{if(f==this.g)e:{const St=li(this.g),An=this.g.ya(),Gt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Xo(this.g)))){this.K||St!=4||An==7||(An==8||Gt<=0?hn(3):hn(2)),_s(this);var _=this.g.ca();this.X=_;var R=si(this);if(this.o=_==200,Wt(this.i,this.v,this.B,this.l,this.S,St,_),this.o){if(this.U&&!this.L){t:{if(this.g){var W,me=this.g;if((W=me.g?me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(W)){var xe=W;break t}}xe=null}if(f=xe)mn(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ao(this,f);else{this.o=!1,this.m=3,Nt(12),es(this),Mi(this);break e}}if(this.R){f=!0;let kn;for(;!this.K&&this.C<R.length;)if(kn=Oi(this,R),kn==ri){St==4&&(this.m=4,Nt(14),f=!1),mn(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==ni){this.m=4,Nt(15),mn(this.i,this.l,R,"[Invalid Chunk]"),f=!1;break}else mn(this.i,this.l,kn,null),ao(this,kn);if(ws(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||R.length!=0||this.h.h||(this.m=1,Nt(16),f=!1),this.o=this.o&&f,!f)mn(this.i,this.l,R,"[Invalid Chunked Response]"),es(this),Mi(this);else if(R.length>0&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.aa&&!Be.P&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),Zo(Be),Be.P=!0,Nt(11))}}else mn(this.i,this.l,R,null),ao(this,R);St==4&&es(this),this.o&&!this.K&&(St==4?Q(this.j,this):(this.o=!1,Di(this)))}else po(this.g),_==400&&R.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),es(this),Mi(this)}}}catch{}finally{}};function si(f){if(!ws(f))return f.g.la();const _=Xo(f.g);if(_==="")return"";let R="";const W=_.length,me=li(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return es(f),Mi(f),"";f.h.i=new o.TextDecoder}for(let xe=0;xe<W;xe++)f.h.h=!0,R+=f.h.i.decode(_[xe],{stream:!(me&&xe==W-1)});return _.length=0,f.h.g+=R,f.C=0,f.h.g}function ws(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Oi(f,_){var R=f.C,W=_.indexOf(`
`,R);return W==-1?ri:(R=Number(_.substring(R,W)),isNaN(R)?ni:(W+=1,W+R>_.length?ri:(_=_.slice(W,W+R),f.C=W+R,_)))}Pr.prototype.cancel=function(){this.K=!0,es(this)};function Di(f){f.T=Date.now()+f.H,oo(f,f.H)}function oo(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=$t(u(f.aa,f),_)}function _s(f){f.D&&(o.clearTimeout(f.D),f.D=null)}Pr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Ye(this.i,this.B),this.M!=2&&(hn(),Nt(17)),es(this),this.m=2,Mi(this)):oo(this,this.T-f)};function Mi(f){f.j.I==0||f.K||Q(f.j,f)}function es(f){_s(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,qt(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function ao(f,_){try{var R=f.j;if(R.I!=0&&(R.g==f||$o(R.h,f))){if(!f.L&&$o(R.h,f)&&R.I==3){try{var W=R.Ba.g.parse(_)}catch{W=null}if(Array.isArray(W)&&W.length==3){var me=W;if(me[0]==0){e:if(!R.v){if(R.g)if(R.g.F+3e3<f.F)D(R),Is(R);else break e;ts(R),Nt(18)}}else R.xa=me[1],0<R.xa-R.K&&me[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=$t(u(R.Va,R),6e3));qo(R.h)<=1&&R.ta&&(R.ta=void 0)}else de(R,11)}else if((f.L||R.g==f)&&D(R),!k(_))for(me=R.Ba.g.parse(_),_=0;_<me.length;_++){let Gt=me[_];const kn=Gt[0];if(!(kn<=R.K))if(R.K=kn,Gt=Gt[1],R.I==2)if(Gt[0]=="c"){R.M=Gt[1],R.ba=Gt[2];const yr=Gt[3];yr!=null&&(R.ka=yr,R.j.info("VER="+R.ka));const Yr=Gt[4];Yr!=null&&(R.za=Yr,R.j.info("SVER="+R.za));const jn=Gt[5];jn!=null&&typeof jn=="number"&&jn>0&&(W=1.5*jn,R.O=W,R.j.info("backChannelRequestTimeoutMs_="+W)),W=R;const jr=f.g;if(jr){const zi=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zi){var xe=W.h;xe.g||zi.indexOf("spdy")==-1&&zi.indexOf("quic")==-1&&zi.indexOf("h2")==-1||(xe.j=xe.l,xe.g=new Set,xe.h&&(lo(xe,xe.h),xe.h=null))}if(W.G){const go=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(W.wa=go,sn(W.J,W.G,go))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-f.F,R.j.info("Handshake RTT: "+R.T+"ms")),W=R;var Be=f;if(W.na=je(W,W.L?W.ba:null,W.W),Be.L){al(W.h,Be);var St=Be,An=W.O;An&&(St.H=An),St.D&&(_s(St),Di(St)),W.g=Be}else ml(W);R.i.length>0&&mo(R)}else Gt[0]!="stop"&&Gt[0]!="close"||de(R,7);else R.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?de(R,7):Cs(R):Gt[0]!="noop"&&R.l&&R.l.qa(Gt),R.A=0)}}hn(4)}catch{}}var uc=class{constructor(f,_){this.g=f,this.map=_}};function ol(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function qo(f){return f.h?1:f.g?f.g.size:0}function $o(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function lo(f,_){f.g?f.g.add(_):f.h=_}function al(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}ol.prototype.cancel=function(){if(this.i=ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ll(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const R of f.g.values())_=_.concat(R.G);return _}return p(f.i)}var cl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ho(f,_){if(f){f=f.split("&");for(let R=0;R<f.length;R++){const W=f[R].indexOf("=");let me,xe=null;W>=0?(me=f[R].substring(0,W),xe=f[R].substring(W+1)):me=f[R],_(me,xe?decodeURIComponent(xe.replace(/\+/g," ")):"")}}}function Fi(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Fi?(this.l=f.l,Ns(this,f.j),this.o=f.o,this.g=f.g,As(this,f.u),this.h=f.h,mi(this,Go(f.i)),this.m=f.m):f&&(_=String(f).match(cl))?(this.l=!1,Ns(this,_[1]||"",!0),this.o=gi(_[2]||""),this.g=gi(_[3]||"",!0),As(this,_[4]),this.h=gi(_[5]||"",!0),mi(this,_[6]||"",!0),this.m=gi(_[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}Fi.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(_n(_,hc,!0),":");var R=this.g;return(R||_=="file")&&(f.push("//"),(_=this.o)&&f.push(_n(_,hc,!0),"@"),f.push(Bn(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&f.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&f.push("/"),f.push(_n(R,R.charAt(0)=="/"?Du:Ou,!0))),(R=this.i.toString())&&f.push("?",R),(R=this.m)&&f.push("#",_n(R,dc)),f.join("")},Fi.prototype.resolve=function(f){const _=cn(this);let R=!!f.j;R?Ns(_,f.j):R=!!f.o,R?_.o=f.o:R=!!f.g,R?_.g=f.g:R=f.u!=null;var W=f.h;if(R)As(_,f.u);else if(R=!!f.h){if(W.charAt(0)!="/")if(this.g&&!this.h)W="/"+W;else{var me=_.h.lastIndexOf("/");me!=-1&&(W=_.h.slice(0,me+1)+W)}if(me=W,me==".."||me==".")W="";else if(me.indexOf("./")!=-1||me.indexOf("/.")!=-1){W=me.lastIndexOf("/",0)==0,me=me.split("/");const xe=[];for(let Be=0;Be<me.length;){const St=me[Be++];St=="."?W&&Be==me.length&&xe.push(""):St==".."?((xe.length>1||xe.length==1&&xe[0]!="")&&xe.pop(),W&&Be==me.length&&xe.push("")):(xe.push(St),W=!0)}W=xe.join("/")}else W=me}return R?_.h=W:R=f.i.toString()!=="",R?mi(_,Go(f.i)):R=!!f.m,R&&(_.m=f.m),_};function cn(f){return new Fi(f)}function Ns(f,_,R){f.j=R?gi(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function As(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function mi(f,_,R){_ instanceof Es?(f.i=_,Ss(f.i,f.l)):(R||(_=_n(_,Vi)),f.i=new Es(_,f.l))}function sn(f,_,R){f.i.set(_,R)}function kr(f){return sn(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function gi(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function _n(f,_,R){return typeof f=="string"?(f=encodeURI(f).replace(_,ul),R&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ul(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var hc=/[#\/\?@]/g,Ou=/[#\?:]/g,Du=/[#\?]/g,Vi=/[#\?@]/g,dc=/#/g;function Es(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Rr(f){f.g||(f.g=new Map,f.h=0,f.i&&Ho(f.i,function(_,R){f.add(decodeURIComponent(_.replace(/\+/g," ")),R)}))}t=Es.prototype,t.add=function(f,_){Rr(this),this.i=null,f=oi(this,f);let R=this.g.get(f);return R||this.g.set(f,R=[]),R.push(_),this.h+=1,this};function Wo(f,_){Rr(f),_=oi(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function fc(f,_){return Rr(f),_=oi(f,_),f.g.has(_)}t.forEach=function(f,_){Rr(this),this.g.forEach(function(R,W){R.forEach(function(me){f.call(_,me,W,this)},this)},this)};function pc(f,_){Rr(f);let R=[];if(typeof _=="string")fc(f,_)&&(R=R.concat(f.g.get(oi(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)R=R.concat(f[_]);return R}t.set=function(f,_){return Rr(this),this.i=null,f=oi(this,f),fc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=pc(this,f),f.length>0?String(f[0]):_):_};function mc(f,_,R){Wo(f,_),R.length>0&&(f.i=null,f.g.set(oi(f,_),p(R)),f.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let W=0;W<_.length;W++){var R=_[W];const me=Bn(R);R=pc(this,R);for(let xe=0;xe<R.length;xe++){let Be=me;R[xe]!==""&&(Be+="="+Bn(R[xe])),f.push(Be)}}return this.i=f.join("&")};function Go(f){const _=new Es;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function oi(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Ss(f,_){_&&!f.j&&(Rr(f),f.i=null,f.g.forEach(function(R,W){const me=W.toLowerCase();W!=me&&(Wo(this,W),mc(this,me,R))},f)),f.j=_}function Mu(f,_){const R=new at;if(o.Image){const W=new Image;W.onload=h(ai,R,"TestLoadImage: loaded",!0,_,W),W.onerror=h(ai,R,"TestLoadImage: error",!1,_,W),W.onabort=h(ai,R,"TestLoadImage: abort",!1,_,W),W.ontimeout=h(ai,R,"TestLoadImage: timeout",!1,_,W),o.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=f}else _(!1)}function co(f,_){const R=new at,W=new AbortController,me=setTimeout(()=>{W.abort(),ai(R,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:W.signal}).then(xe=>{clearTimeout(me),xe.ok?ai(R,"TestPingServer: ok",!0,_):ai(R,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(me),ai(R,"TestPingServer: error",!1,_)})}function ai(f,_,R,W,me){try{me&&(me.onload=null,me.onerror=null,me.onabort=null,me.ontimeout=null),W(R)}catch{}}function Et(){this.g=new dt}function hl(f){this.i=f.Sb||null,this.h=f.ab||!1}m(hl,tt),hl.prototype.g=function(){return new Ko(this.i,this.h)};function Ko(f,_){Ie.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Ko,Ie),t=Ko.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Gr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||o).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,uo(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;gc(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function gc(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?uo(this):Gr(this),this.readyState==3&&gc(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,uo(this))},t.Na=function(f){this.g&&(this.response=f,uo(this))},t.ga=function(){this.g&&uo(this)};function uo(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Gr(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var R=_.next();!R.done;)R=R.value,f.push(R[0]+": "+R[1]),R=_.next();return f.join(`\r
`)};function Gr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Bi(f){let _="";return ae(f,function(R,W){_+=W,_+=":",_+=R,_+=`\r
`}),_}function dl(f,_,R){e:{for(W in R){var W=!1;break e}W=!0}W||(R=Bi(R),typeof f=="string"?R!=null&&Bn(R):sn(f,_,R))}function In(f){Ie.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(In,Ie);var Yo=/^https?$/i,fl=["POST","PUT"];t=In.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,R,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vn.g(),this.g.onreadystatechange=y(u(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(xe){Ts(this,xe);return}if(f=R||"",R=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var me in W)R.set(me,W[me]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const xe of W.keys())R.set(xe,W.get(xe));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(R.keys()).find(xe=>xe.toLowerCase()=="content-type"),me=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(fl,_,void 0)>=0)||W||me||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[xe,Be]of R)this.g.setRequestHeader(xe,Be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(xe){Ts(this,xe)}};function Ts(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,ho(f),Jo(f)}function ho(f){f.A||(f.A=!0,qe(f,"complete"),qe(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,qe(this,"complete"),qe(this,"abort"),Jo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jo(this,!0)),In.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?fo(this):this.Xa())},t.Xa=function(){fo(this)};function fo(f){if(f.h&&typeof s<"u"){if(f.v&&li(f)==4)setTimeout(f.Ca.bind(f),0);else if(qe(f,"readystatechange"),li(f)==4){f.h=!1;try{const xe=f.ca();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var R;if(!(R=_)){var W;if(W=xe===0){let Be=String(f.D).match(cl)[1]||null;!Be&&o.self&&o.self.location&&(Be=o.self.location.protocol.slice(0,-1)),W=!Yo.test(Be?Be.toLowerCase():"")}R=W}if(R)qe(f,"complete"),qe(f,"success");else{f.o=6;try{var me=li(f)>2?f.g.statusText:""}catch{me=""}f.l=me+" ["+f.ca()+"]",ho(f)}}finally{Jo(f)}}}}function Jo(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const R=f.g;f.g=null,_||qe(f,"ready");try{R.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function li(f){return f.g?f.g.readyState:0}t.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),rt(_)}};function Xo(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function po(f){const _={};f=(f.g&&li(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<f.length;W++){if(k(f[W]))continue;var R=ur(f[W]);const me=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const xe=_[me]||[];_[me]=xe,xe.push(R)}Se(_,function(W){return W.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(f,_,R){return R&&R.internalChannelParams&&R.internalChannelParams[f]||_}function Qo(f){this.za=0,this.i=[],this.j=new at,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,f),this.Za=yi("retryDelaySeedMs",1e4,f),this.Ta=yi("forwardChannelMaxRetries",2,f),this.va=yi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ol(f&&f.concurrentRequestLimit),this.Ba=new Et,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Qo.prototype,t.ka=8,t.I=1,t.connect=function(f,_,R,W){Nt(0),this.W=f,this.H=_||{},R&&W!==void 0&&(this.H.OSID=R,this.H.OAID=W),this.F=this.X,this.J=je(this,null,this.W),mo(this)};function Cs(f){if(Ps(f),f.I==3){var _=f.V++,R=cn(f.J);if(sn(R,"SID",f.M),sn(R,"RID",_),sn(R,"TYPE","terminate"),Kr(f,R),_=new Pr(f,f.j,_),_.M=2,_.A=kr(cn(R)),R=!1,o.navigator&&o.navigator.sendBeacon)try{R=o.navigator.sendBeacon(_.A.toString(),"")}catch{}!R&&o.Image&&(new Image().src=_.A,R=!0),R||(_.g=We(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Di(_)}Ee(f)}function Is(f){f.g&&(Zo(f),f.g.cancel(),f.g=null)}function Ps(f){Is(f),f.v&&(o.clearTimeout(f.v),f.v=null),D(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function mo(f){if(!Wr(f.h)&&!f.m){f.m=!0;var _=f.Ea;J||j(),re||(J(),re=!0),V.add(_,f),f.D=0}}function yc(f,_){return qo(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=$t(u(f.Ea,f,_),se(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const me=new Pr(this,this.j,f);let xe=this.o;if(this.U&&(xe?(xe=_e(xe),Y(xe,this.U)):xe=this.U),this.u!==null||this.R||(me.J=xe,xe=null),this.S)e:{for(var _=0,R=0;R<this.i.length;R++){t:{var W=this.i[R];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(_+=W,_>4096){_=R;break e}if(_===4096||R===this.i.length-1){_=R+1;break e}}_=1e3}else _=1e3;_=pl(this,me,_),R=cn(this.J),sn(R,"RID",f),sn(R,"CVER",22),this.G&&sn(R,"X-HTTP-Session-Id",this.G),Kr(this,R),xe&&(this.R?_="headers="+Bn(Bi(xe))+"&"+_:this.u&&dl(R,this.u,xe)),lo(this.h,me),this.Ra&&sn(R,"TYPE","init"),this.S?(sn(R,"$req",_),sn(R,"SID","null"),me.U=!0,Hr(me,R,null)):Hr(me,R,_),this.I=2}}else this.I==3&&(f?Ui(this,f):this.i.length==0||Wr(this.h)||Ui(this))};function Ui(f,_){var R;_?R=_.l:R=f.V++;const W=cn(f.J);sn(W,"SID",f.M),sn(W,"RID",R),sn(W,"AID",f.K),Kr(f,W),f.u&&f.o&&dl(W,f.u,f.o),R=new Pr(f,f.j,R,f.D+1),f.u===null&&(R.J=f.o),_&&(f.i=_.G.concat(f.i)),_=pl(f,R,1e3),R.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),lo(f.h,R),Hr(R,W,_)}function Kr(f,_){f.H&&ae(f.H,function(R,W){sn(_,W,R)}),f.l&&ae({},function(R,W){sn(_,W,R)})}function pl(f,_,R){R=Math.min(f.i.length,R);const W=f.l?u(f.l.Ka,f.l,f):null;e:{var me=f.i;let St=-1;for(;;){const An=["count="+R];St==-1?R>0?(St=me[0].g,An.push("ofs="+St)):St=0:An.push("ofs="+St);let Gt=!0;for(let kn=0;kn<R;kn++){var xe=me[kn].g;const yr=me[kn].map;if(xe-=St,xe<0)St=Math.max(0,me[kn].g-100),Gt=!1;else try{xe="req"+xe+"_"||"";try{var Be=yr instanceof Map?yr:Object.entries(yr);for(const[Yr,jn]of Be){let jr=jn;a(jn)&&(jr=wt(jn)),An.push(xe+Yr+"="+encodeURIComponent(jr))}}catch(Yr){throw An.push(xe+"type="+encodeURIComponent("_badmap")),Yr}}catch{W&&W(yr)}}if(Gt){Be=An.join("&");break e}}Be=void 0}return f=f.i.splice(0,R),_.G=f,Be}function ml(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;J||j(),re||(J(),re=!0),V.add(_,f),f.A=0}}function ts(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=$t(u(f.Da,f),se(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,b(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=$t(u(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Is(this),b(this))};function Zo(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function b(f){f.g=new Pr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=cn(f.na);sn(_,"RID","rpc"),sn(_,"SID",f.M),sn(_,"AID",f.K),sn(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&sn(_,"TO",f.ia),sn(_,"TYPE","xmlhttp"),Kr(f,_),f.u&&f.o&&dl(_,f.u,f.o),f.O&&(f.g.H=f.O);var R=f.g;f=f.ba,R.M=1,R.A=kr(cn(_)),R.u=null,R.R=!0,ii(R,f)}t.Va=function(){this.C!=null&&(this.C=null,Is(this),ts(this),Nt(19))};function D(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function Q(f,_){var R=null;if(f.g==_){D(f),Zo(f),f.g=null;var W=2}else if($o(f.h,_))R=_.G,al(f.h,_),W=1;else return;if(f.I!=0){if(_.o)if(W==1){R=_.u?_.u.length:0,_=Date.now()-_.F;var me=f.D;W=Dt(),qe(W,new ot(W,R)),mo(f)}else ml(f);else if(me=_.m,me==3||me==0&&_.X>0||!(W==1&&yc(f,_)||W==2&&ts(f)))switch(R&&R.length>0&&(_=f.h,_.i=_.i.concat(R)),me){case 1:de(f,5);break;case 4:de(f,10);break;case 3:de(f,6);break;default:de(f,2)}}}function se(f,_){let R=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(R*=2),R*_}function de(f,_){if(f.j.info("Error code "+_),_==2){var R=u(f.bb,f),W=f.Ua;const me=!W;W=new Fi(W||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ns(W,"https"),kr(W),me?Mu(W.toString(),R):co(W.toString(),R)}else Nt(2);f.I=0,f.l&&f.l.pa(_),Ee(f),Ps(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Ee(f){if(f.I=0,f.ja=[],f.l){const _=ll(f.h);(_.length!=0||f.i.length!=0)&&(N(f.ja,_),N(f.ja,f.i),f.h.i.length=0,p(f.i),f.i.length=0),f.l.oa()}}function je(f,_,R){var W=R instanceof Fi?cn(R):new Fi(R);if(W.g!="")_&&(W.g=_+"."+W.g),As(W,W.u);else{var me=o.location;W=me.protocol,_=_?_+"."+me.hostname:me.hostname,me=+me.port;const xe=new Fi(null);W&&Ns(xe,W),_&&(xe.g=_),me&&As(xe,me),R&&(xe.h=R),W=xe}return R=f.G,_=f.wa,R&&_&&sn(W,R,_),sn(W,"VER",f.ka),Kr(f,W),W}function We(f,_,R){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new In(new hl({ab:R})):new In(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xe(){}t=Xe.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function mt(){}mt.prototype.g=function(f,_){return new it(f,_)};function it(f,_){Ie.call(this),this.g=new Qo(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!k(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!k(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Nn(this)}m(it,Ie),it.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},it.prototype.close=function(){Cs(this.g)},it.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var R={};R.__data__=f,f=R}else this.v&&(R={},R.__data__=wt(f),f=R);_.i.push(new uc(_.Ya++,f)),_.I==3&&mo(_)},it.prototype.N=function(){this.g.l=null,delete this.j,Cs(this.g),delete this.g,it.Z.N.call(this)};function en(f){$e.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const R in _){f=R;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}m(en,$e);function Pn(){gt.call(this),this.status=1}m(Pn,gt);function Nn(f){this.g=f}m(Nn,Xe),Nn.prototype.ra=function(){qe(this.g,"a")},Nn.prototype.qa=function(f){qe(this.g,new en(f))},Nn.prototype.pa=function(f){qe(this.g,new Pn)},Nn.prototype.oa=function(){qe(this.g,"b")},mt.prototype.createWebChannel=mt.prototype.g,it.prototype.send=it.prototype.o,it.prototype.open=it.prototype.m,it.prototype.close=it.prototype.close,VN=function(){return new mt},FN=function(){return Dt()},MN=Ot,p0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$n.NO_ERROR=0,$n.TIMEOUT=8,$n.HTTP_ERROR=6,kf=$n,wn.COMPLETE="complete",DN=wn,an.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",Ie.prototype.listen=Ie.prototype.J,ch=an,In.prototype.listenOnce=In.prototype.K,In.prototype.getLastError=In.prototype.Ha,In.prototype.getLastErrorCode=In.prototype.ya,In.prototype.getStatus=In.prototype.ca,In.prototype.getResponseJson=In.prototype.La,In.prototype.getResponseText=In.prototype.la,In.prototype.send=In.prototype.ea,In.prototype.setWithCredentials=In.prototype.Fa,ON=In}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const tb="@firebase/firestore",nb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=new C1("@firebase/firestore");function Ic(){return $l.logLevel}function He(t,...e){if($l.logLevel<=Kt.DEBUG){const n=e.map(U1);$l.debug(`Firestore (${Su}): ${t}`,...n)}}function Vo(t,...e){if($l.logLevel<=Kt.ERROR){const n=e.map(U1);$l.error(`Firestore (${Su}): ${t}`,...n)}}function lu(t,...e){if($l.logLevel<=Kt.WARN){const n=e.map(U1);$l.warn(`Firestore (${Su}): ${t}`,...n)}}function U1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,BN(t,r,n)}function BN(t,e,n){let r=`FIRESTORE (${Su}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vo(r),new Error(r)}function fn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||BN(e,i,r)}function Rt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends zo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zr.UNAUTHENTICATED))}shutdown(){}}class Z8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class e7{constructor(e){this.t=e,this.currentUser=zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fn(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Ba;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ba,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ba)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fn(typeof r.accessToken=="string",31837,{l:r}),new UN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fn(e===null||typeof e=="string",2055,{h:e}),new zr(e)}}class t7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class n7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new t7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){fn(this.o===void 0,3512);const r=s=>{s.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,He("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=i7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Yt(t,e){return t<e?-1:t>e?1:0}function m0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return tg(i)===tg(s)?Yt(i,s):tg(i)?1:-1}return Yt(t.length,e.length)}const s7=55296,o7=57343;function tg(t){const e=t.charCodeAt(0);return e>=s7&&e<=o7}function cu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="__name__";class Vs{constructor(e,n,r){n===void 0?n=0:n>e.length&&xt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Vs.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Yt(e.length,n.length)}static compareSegments(e,n){const r=Vs.isNumericId(e),i=Vs.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Vs.extractNumericId(e).compare(Vs.extractNumericId(n)):m0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Va.fromString(e.substring(4,e.length-2))}}class zn extends Vs{construct(e,n,r){return new zn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ct(Oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new zn(n)}static emptyPath(){return new zn([])}}const a7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends Vs{construct(e,n,r){return new Cr(e,n,r)}static isValidIdentifier(e){return a7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ib}static keyField(){return new Cr([ib])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ct(Oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ct(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ct(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ct(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cr(n)}static emptyPath(){return new Cr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(zn.fromString(e))}static fromName(e){return new ft(zn.fromString(e).popFirst(5))}static empty(){return new ft(zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return zn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new zn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(t,e,n){if(!n)throw new ct(Oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c7(t,e,n,r){if(e===!0&&r===!0)throw new ct(Oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sb(t){if(!ft.isDocumentKey(t))throw new ct(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function q1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xt(12329,{type:typeof t})}function qh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ct(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=q1(t);throw new ct(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,e){const n={typeString:t};return e&&(n.value=e),n}function bd(t,e){if(!zN(t))throw new ct(Oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ct(Oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=-62135596800,ab=1e6;class Dn{static now(){return Dn.fromMillis(Date.now())}static fromDate(e){return Dn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ab);return new Dn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ct(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ob)throw new ct(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ab}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bd(e,Dn._jsonSchema))return new Dn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ob;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dn._jsonSchemaVersion="firestore/timestamp/1.0",Dn._jsonSchema={type:lr("string",Dn._jsonSchemaVersion),seconds:lr("number"),nanoseconds:lr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Dn(0,0))}static max(){return new Ct(new Dn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=-1;function u7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ct.fromTimestamp(r===1e9?new Dn(n+1,0):new Dn(n,r));return new Ga(i,ft.empty(),e)}function h7(t){return new Ga(t.readTime,t.key,$h)}class Ga{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ga(Ct.min(),ft.empty(),$h)}static max(){return new Ga(Ct.max(),ft.empty(),$h)}}function d7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ft.comparator(t.documentKey,e.documentKey),n!==0?n:Yt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(t){if(t.code!==Oe.FAILED_PRECONDITION||t.message!==f7)throw t;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ke((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ke?n:ke.resolve(n)}catch(n){return ke.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.reject(n)}static resolve(e){return new ke((n,r)=>{n(e)})}static reject(e){return new ke((n,r)=>{r(e)})}static waitFor(e){return new ke((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=ke.resolve(!1);for(const r of e)n=n.next(i=>i?ke.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ke((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new ke((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function m7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=-1;function Jp(t){return t==null}function lp(t){return t===0&&1/t==-1/0}function g7(t){return typeof t=="number"&&Number.isInteger(t)&&!lp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="";function y7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lb(e)),e=v7(t.get(n),e);return lb(e)}function v7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case qN:n+="";break;default:n+=s}}return n}function lb(t){return t+qN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $N(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){this.comparator=e,this.root=n||Tr.EMPTY}insert(e,n){return new qn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tr.BLACK,null,null))}remove(e){return new qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Tr.RED,this.left=i??Tr.EMPTY,this.right=s??Tr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Tr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xt(27949);return e+(this.isRed()?0:1)}}Tr.EMPTY=null,Tr.RED=!0,Tr.BLACK=!1;Tr.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Tr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.comparator=e,this.data=new qn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ub(this.data.getIterator())}getIteratorFrom(e){return new ub(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gr(this.comparator);return n.data=e,n}}class ub{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.fields=e,e.sort(Cr.comparator)}static empty(){return new ds([])}unionWith(e){let n=new gr(Cr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ds(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new HN("Invalid base64 string: "+s):s}}(e);return new Ir(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ir(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const b7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ka(t){if(fn(!!t,39018),typeof t=="string"){let e=0;const n=b7.exec(t);if(fn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tr(t.seconds),nanos:tr(t.nanos)}}function tr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ya(t){return typeof t=="string"?Ir.fromBase64String(t):Ir.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="server_timestamp",GN="__type__",KN="__previous_value__",YN="__local_write_time__";function H1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[GN])==null?void 0:r.stringValue)===WN}function Xp(t){const e=t.mapValue.fields[KN];return H1(e)?Xp(e):e}function Hh(t){const e=Ka(t.mapValue.fields[YN].timestampValue);return new Dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n,r,i,s,o,a,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const cp="(default)";class Wh{constructor(e,n){this.projectId=e,this.database=n||cp}static empty(){return new Wh("","")}get isDefaultDatabase(){return this.database===cp}isEqual(e){return e instanceof Wh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="__type__",XN="__max__",rf={mapValue:{fields:{__type__:{stringValue:XN}}}},QN="__vector__",up="value";function Ja(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?H1(t)?4:_7(t)?9007199254740991:w7(t)?10:11:xt(28295,{value:t})}function no(t,e){if(t===e)return!0;const n=Ja(t);if(n!==Ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hh(t).isEqual(Hh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ka(i.timestampValue),a=Ka(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ya(i.bytesValue).isEqual(Ya(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return tr(i.geoPointValue.latitude)===tr(s.geoPointValue.latitude)&&tr(i.geoPointValue.longitude)===tr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return tr(i.integerValue)===tr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=tr(i.doubleValue),a=tr(s.doubleValue);return o===a?lp(o)===lp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return cu(t.arrayValue.values||[],e.arrayValue.values||[],no);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(cb(o)!==cb(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!no(o[c],a[c])))return!1;return!0}(t,e);default:return xt(52216,{left:t})}}function Gh(t,e){return(t.values||[]).find(n=>no(n,e))!==void 0}function uu(t,e){if(t===e)return 0;const n=Ja(t),r=Ja(e);if(n!==r)return Yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=tr(s.integerValue||s.doubleValue),c=tr(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return hb(t.timestampValue,e.timestampValue);case 4:return hb(Hh(t),Hh(e));case 5:return m0(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ya(s),c=Ya(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=Yt(a[u],c[u]);if(h!==0)return h}return Yt(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Yt(tr(s.latitude),tr(o.latitude));return a!==0?a:Yt(tr(s.longitude),tr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return db(t.arrayValue,e.arrayValue);case 10:return function(s,o){var y,p,N,v;const a=s.fields||{},c=o.fields||{},u=(y=a[up])==null?void 0:y.arrayValue,h=(p=c[up])==null?void 0:p.arrayValue,m=Yt(((N=u==null?void 0:u.values)==null?void 0:N.length)||0,((v=h==null?void 0:h.values)==null?void 0:v.length)||0);return m!==0?m:db(u,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===rf.mapValue&&o===rf.mapValue)return 0;if(s===rf.mapValue)return 1;if(o===rf.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const y=m0(c[m],h[m]);if(y!==0)return y;const p=uu(a[c[m]],u[h[m]]);if(p!==0)return p}return Yt(c.length,h.length)}(t.mapValue,e.mapValue);default:throw xt(23264,{he:n})}}function hb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Yt(t,e);const n=Ka(t),r=Ka(e),i=Yt(n.seconds,r.seconds);return i!==0?i:Yt(n.nanos,r.nanos)}function db(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=uu(n[i],r[i]);if(s)return s}return Yt(n.length,r.length)}function hu(t){return g0(t)}function g0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ka(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ya(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ft.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=g0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${g0(n.fields[o])}`;return i+"}"}(t.mapValue):xt(61005,{value:t})}function Rf(t){switch(Ja(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xp(t);return e?16+Rf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ya(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Rf(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return tc(r.fields,(s,o)=>{i+=s.length+Rf(o)}),i}(t.mapValue);default:throw xt(13486,{value:t})}}function y0(t){return!!t&&"integerValue"in t}function W1(t){return!!t&&"arrayValue"in t}function fb(t){return!!t&&"nullValue"in t}function pb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jf(t){return!!t&&"mapValue"in t}function w7(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[JN])==null?void 0:r.stringValue)===QN}function _h(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return tc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_h(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_h(t.arrayValue.values[n]);return e}return{...t}}function _7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===XN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.value=e}static empty(){return new Ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_h(n)}setAll(e){let n=Cr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=_h(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());jf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return no(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){tc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ki(_h(this.value))}}function ZN(t){const e=[];return tc(t.fields,(n,r)=>{const i=new Cr([n]);if(jf(r)){const s=ZN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ds(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qr(e,0,Ct.min(),Ct.min(),Ct.min(),Ki.empty(),0)}static newFoundDocument(e,n,r,i){return new qr(e,1,n,Ct.min(),r,i,0)}static newNoDocument(e,n){return new qr(e,2,n,Ct.min(),Ct.min(),Ki.empty(),0)}static newUnknownDocument(e,n){return new qr(e,3,n,Ct.min(),Ct.min(),Ki.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.position=e,this.inclusive=n}}function mb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ft.comparator(ft.fromName(o.referenceValue),n.key):r=uu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function gb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!no(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n="asc"){this.field=e,this.dir=n}}function N7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{}class mr extends e4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new E7(e,n,r):n==="array-contains"?new C7(e,r):n==="in"?new I7(e,r):n==="not-in"?new P7(e,r):n==="array-contains-any"?new k7(e,r):new mr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new S7(e,r):new T7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(uu(n,this.value)):n!==null&&Ja(this.value)===Ja(n)&&this.matchesComparison(uu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ro extends e4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ro(e,n)}matches(e){return t4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function t4(t){return t.op==="and"}function n4(t){return A7(t)&&t4(t)}function A7(t){for(const e of t.filters)if(e instanceof ro)return!1;return!0}function v0(t){if(t instanceof mr)return t.field.canonicalString()+t.op.toString()+hu(t.value);if(n4(t))return t.filters.map(e=>v0(e)).join(",");{const e=t.filters.map(n=>v0(n)).join(",");return`${t.op}(${e})`}}function r4(t,e){return t instanceof mr?function(r,i){return i instanceof mr&&r.op===i.op&&r.field.isEqual(i.field)&&no(r.value,i.value)}(t,e):t instanceof ro?function(r,i){return i instanceof ro&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&r4(o,i.filters[a]),!0):!1}(t,e):void xt(19439)}function i4(t){return t instanceof mr?function(n){return`${n.field.canonicalString()} ${n.op} ${hu(n.value)}`}(t):t instanceof ro?function(n){return n.op.toString()+" {"+n.getFilters().map(i4).join(" ,")+"}"}(t):"Filter"}class E7 extends mr{constructor(e,n,r){super(e,n,r),this.key=ft.fromName(r.referenceValue)}matches(e){const n=ft.comparator(e.key,this.key);return this.matchesComparison(n)}}class S7 extends mr{constructor(e,n){super(e,"in",n),this.keys=s4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class T7 extends mr{constructor(e,n){super(e,"not-in",n),this.keys=s4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function s4(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ft.fromName(r.referenceValue))}class C7 extends mr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return W1(n)&&Gh(n.arrayValue,this.value)}}class I7 extends mr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gh(this.value.arrayValue,n)}}class P7 extends mr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gh(this.value.arrayValue,n)}}class k7 extends mr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!W1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function yb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new R7(t,e,n,r,i,s,o)}function G1(t){const e=Rt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>v0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Jp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hu(r)).join(",")),e.Te=n}return e.Te}function K1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!N7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!r4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gb(t.startAt,e.startAt)&&gb(t.endAt,e.endAt)}function b0(t){return ft.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function j7(t,e,n,r,i,s,o,a){return new Qp(t,e,n,r,i,s,o,a)}function Y1(t){return new Qp(t)}function vb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function L7(t){return t.collectionGroup!==null}function Nh(t){const e=Rt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new gr(Cr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new dp(s,r))}),n.has(Cr.keyField().canonicalString())||e.Ie.push(new dp(Cr.keyField(),r))}return e.Ie}function Ys(t){const e=Rt(t);return e.Ee||(e.Ee=O7(e,Nh(t))),e.Ee}function O7(t,e){if(t.limitType==="F")return yb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new dp(i.field,s)});const n=t.endAt?new hp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hp(t.startAt.position,t.startAt.inclusive):null;return yb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function x0(t,e,n){return new Qp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zp(t,e){return K1(Ys(t),Ys(e))&&t.limitType===e.limitType}function o4(t){return`${G1(Ys(t))}|lt:${t.limitType}`}function Pc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>i4(i)).join(", ")}]`),Jp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>hu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>hu(i)).join(",")),`Target(${r})`}(Ys(t))}; limitType=${t.limitType})`}function em(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ft.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Nh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const u=mb(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Nh(r),i)||r.endAt&&!function(o,a,c){const u=mb(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Nh(r),i))}(t,e)}function D7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function a4(t){return(e,n)=>{let r=!1;for(const i of Nh(t)){const s=M7(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function M7(t,e,n){const r=t.field.isKeyField()?ft.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?uu(c,u):xt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){tc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return $N(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7=new qn(ft.comparator);function Bo(){return F7}const l4=new qn(ft.comparator);function uh(...t){let e=l4;for(const n of t)e=e.insert(n.key,n);return e}function c4(t){let e=l4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function El(){return Ah()}function u4(){return Ah()}function Ah(){return new nc(t=>t.toString(),(t,e)=>t.isEqual(e))}const V7=new qn(ft.comparator),B7=new gr(ft.comparator);function Jt(...t){let e=B7;for(const n of t)e=e.add(n);return e}const U7=new gr(Yt);function z7(){return U7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lp(e)?"-0":e}}function h4(t){return{integerValue:""+t}}function q7(t,e){return g7(e)?h4(e):J1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this._=void 0}}function $7(t,e,n){return t instanceof fp?function(i,s){const o={fields:{[GN]:{stringValue:WN},[YN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&H1(s)&&(s=Xp(s)),s&&(o.fields[KN]=s),{mapValue:o}}(n,e):t instanceof Kh?f4(t,e):t instanceof Yh?p4(t,e):function(i,s){const o=d4(i,s),a=bb(o)+bb(i.Ae);return y0(o)&&y0(i.Ae)?h4(a):J1(i.serializer,a)}(t,e)}function H7(t,e,n){return t instanceof Kh?f4(t,e):t instanceof Yh?p4(t,e):n}function d4(t,e){return t instanceof pp?function(r){return y0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class fp extends tm{}class Kh extends tm{constructor(e){super(),this.elements=e}}function f4(t,e){const n=m4(e);for(const r of t.elements)n.some(i=>no(i,r))||n.push(r);return{arrayValue:{values:n}}}class Yh extends tm{constructor(e){super(),this.elements=e}}function p4(t,e){let n=m4(e);for(const r of t.elements)n=n.filter(i=>!no(i,r));return{arrayValue:{values:n}}}class pp extends tm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function bb(t){return tr(t.integerValue||t.doubleValue)}function m4(t){return W1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function W7(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Kh&&i instanceof Kh||r instanceof Yh&&i instanceof Yh?cu(r.elements,i.elements,no):r instanceof pp&&i instanceof pp?no(r.Ae,i.Ae):r instanceof fp&&i instanceof fp}(t.transform,e.transform)}class G7{constructor(e,n){this.version=e,this.transformResults=n}}class Lo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Lo}static exists(e){return new Lo(void 0,e)}static updateTime(e){return new Lo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nm{}function g4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new v4(t.key,Lo.none()):new xd(t.key,t.data,Lo.none());{const n=t.data,r=Ki.empty();let i=new gr(Cr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new rc(t.key,r,new ds(i.toArray()),Lo.none())}}function K7(t,e,n){t instanceof xd?function(i,s,o){const a=i.value.clone(),c=wb(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof rc?function(i,s,o){if(!Lf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=wb(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(y4(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Eh(t,e,n,r){return t instanceof xd?function(s,o,a,c){if(!Lf(s.precondition,o))return a;const u=s.value.clone(),h=_b(s.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof rc?function(s,o,a,c){if(!Lf(s.precondition,o))return a;const u=_b(s.fieldTransforms,c,o),h=o.data;return h.setAll(y4(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,a){return Lf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Y7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=d4(r.transform,i||null);s!=null&&(n===null&&(n=Ki.empty()),n.set(r.field,s))}return n||null}function xb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cu(r,i,(s,o)=>W7(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xd extends nm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class rc extends nm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function y4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wb(t,e,n){const r=new Map;fn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,H7(o,a,n[i]))}return r}function _b(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,$7(s,o,e))}return r}class v4 extends nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J7 extends nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&K7(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=u4();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=g4(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Jt())}isEqual(e){return this.batchId===e.batchId&&cu(this.mutations,e.mutations,(n,r)=>xb(n,r))&&cu(this.baseMutations,e.baseMutations,(n,r)=>xb(n,r))}}class X1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){fn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return V7}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new X1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q7=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ar,nn;function eO(t){switch(t){case Oe.OK:return xt(64938);case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0;default:return xt(15467,{code:t})}}function b4(t){if(t===void 0)return Vo("GRPC error has no .code"),Oe.UNKNOWN;switch(t){case ar.OK:return Oe.OK;case ar.CANCELLED:return Oe.CANCELLED;case ar.UNKNOWN:return Oe.UNKNOWN;case ar.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case ar.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case ar.INTERNAL:return Oe.INTERNAL;case ar.UNAVAILABLE:return Oe.UNAVAILABLE;case ar.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case ar.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case ar.NOT_FOUND:return Oe.NOT_FOUND;case ar.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case ar.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case ar.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case ar.ABORTED:return Oe.ABORTED;case ar.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case ar.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case ar.DATA_LOSS:return Oe.DATA_LOSS;default:return xt(39323,{code:t})}}(nn=ar||(ar={}))[nn.OK=0]="OK",nn[nn.CANCELLED=1]="CANCELLED",nn[nn.UNKNOWN=2]="UNKNOWN",nn[nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nn[nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nn[nn.NOT_FOUND=5]="NOT_FOUND",nn[nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",nn[nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",nn[nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",nn[nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nn[nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nn[nn.ABORTED=10]="ABORTED",nn[nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",nn[nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",nn[nn.INTERNAL=13]="INTERNAL",nn[nn.UNAVAILABLE=14]="UNAVAILABLE",nn[nn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new Va([4294967295,4294967295],0);function Nb(t){const e=tO().encode(t),n=new LN;return n.update(e),new Uint8Array(n.digest())}function Ab(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Va([n,r],0),new Va([i,s],0)]}class Q1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hh(`Invalid padding: ${n}`);if(r<0)throw new hh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Va.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Va.fromNumber(r)));return i.compare(nO)===1&&(i=new Va([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Nb(e),[r,i]=Ab(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Q1(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=Nb(e),[r,i]=Ab(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rm(Ct.min(),i,new qn(Yt),Bo(),Jt())}}class wd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wd(r,n,Jt(),Jt(),Jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class x4{constructor(e,n){this.targetId=e,this.Ce=n}}class w4{constructor(e,n,r=Ir.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Eb{constructor(){this.ve=0,this.Fe=Sb(),this.Me=Ir.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Jt(),n=Jt(),r=Jt();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xt(38017,{changeType:s})}}),new wd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Sb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,fn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bo(),this.Je=sf(),this.He=sf(),this.Ye=new qn(Yt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(b0(s))if(r===0){const o=new ft(s.path);this.et(n,o,qr.newNoDocument(o,Ct.min()))}else fn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ya(r).toUint8Array()}catch(c){if(c instanceof HN)return lu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Q1(o,i,s)}catch(c){return lu(c instanceof hh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&b0(a.target)){const c=new ft(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,qr.newNoDocument(c,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=Jt();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new rm(e,n,this.Ye,this.je,r);return this.je=Bo(),this.Je=sf(),this.He=sf(),this.Ye=new qn(Yt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Eb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new gr(Yt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new gr(Yt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||He("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Eb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sf(){return new qn(ft.comparator)}function Sb(){return new qn(ft.comparator)}const iO={asc:"ASCENDING",desc:"DESCENDING"},sO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oO={and:"AND",or:"OR"};class aO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function w0(t,e){return t.useProto3Json||Jp(e)?e:{value:e}}function mp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lO(t,e){return mp(t,e.toTimestamp())}function Js(t){return fn(!!t,49232),Ct.fromTimestamp(function(n){const r=Ka(n);return new Dn(r.seconds,r.nanos)}(t))}function Z1(t,e){return _0(t,e).canonicalString()}function _0(t,e){const n=function(i){return new zn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function N4(t){const e=zn.fromString(t);return fn(C4(e),10190,{key:e.toString()}),e}function N0(t,e){return Z1(t.databaseId,e.path)}function ng(t,e){const n=N4(e);if(n.get(1)!==t.databaseId.projectId)throw new ct(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ct(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ft(E4(n))}function A4(t,e){return Z1(t.databaseId,e)}function cO(t){const e=N4(t);return e.length===4?zn.emptyPath():E4(e)}function A0(t){return new zn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function E4(t){return fn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Tb(t,e,n){return{name:N0(t,e),fields:n.value.mapValue.fields}}function uO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:xt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(fn(h===void 0||typeof h=="string",58123),Ir.fromBase64String(h||"")):(fn(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ir.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?Oe.UNKNOWN:b4(u.code);return new ct(h,u.message||"")}(o);n=new w4(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ng(t,r.document.name),s=Js(r.document.updateTime),o=r.document.createTime?Js(r.document.createTime):Ct.min(),a=new Ki({mapValue:{fields:r.document.fields}}),c=qr.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Of(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ng(t,r.document),s=r.readTime?Js(r.readTime):Ct.min(),o=qr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Of([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ng(t,r.document),s=r.removedTargetIds||[];n=new Of([],s,i,null)}else{if(!("filter"in e))return xt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Z7(i,s),a=r.targetId;n=new x4(a,o)}}return n}function hO(t,e){let n;if(e instanceof xd)n={update:Tb(t,e.key,e.value)};else if(e instanceof v4)n={delete:N0(t,e.key)};else if(e instanceof rc)n={update:Tb(t,e.key,e.data),updateMask:xO(e.fieldMask)};else{if(!(e instanceof J7))return xt(16599,{Vt:e.type});n={verify:N0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof fp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Kh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pp)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw xt(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:lO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:xt(27497)}(t,e.precondition)),n}function dO(t,e){return t&&t.length>0?(fn(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Js(i.updateTime):Js(s);return o.isEqual(Ct.min())&&(o=Js(s)),new G7(o,i.transformResults||[])}(n,e))):[]}function fO(t,e){return{documents:[A4(t,e.path)]}}function pO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=A4(t,i);const s=function(u){if(u.length!==0)return T4(ro.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(y){return{field:kc(y.field),direction:yO(y.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=w0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function mO(t){let e=cO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){fn(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(m){const y=S4(m);return y instanceof ro&&n4(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(y=>function(N){return new dp(Rc(N.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(m){let y;return y=typeof m=="object"?m.value:m,Jp(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(m){const y=!!m.before,p=m.values||[];return new hp(p,y)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const y=!m.before,p=m.values||[];return new hp(p,y)}(n.endAt)),j7(e,i,o,s,a,"F",c,u)}function gO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function S4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rc(n.unaryFilter.field);return mr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rc(n.unaryFilter.field);return mr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Rc(n.unaryFilter.field);return mr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Rc(n.unaryFilter.field);return mr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}}(t):t.fieldFilter!==void 0?function(n){return mr.create(Rc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ro.create(n.compositeFilter.filters.map(r=>S4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xt(1026)}}(n.compositeFilter.op))}(t):xt(30097,{filter:t})}function yO(t){return iO[t]}function vO(t){return sO[t]}function bO(t){return oO[t]}function kc(t){return{fieldPath:t.canonicalString()}}function Rc(t){return Cr.fromServerFormat(t.fieldPath)}function T4(t){return t instanceof mr?function(n){if(n.op==="=="){if(pb(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NAN"}};if(fb(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pb(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NOT_NAN"}};if(fb(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kc(n.field),op:vO(n.op),value:n.value}}}(t):t instanceof ro?function(n){const r=n.getFilters().map(i=>T4(i));return r.length===1?r[0]:{compositeFilter:{op:bO(n.op),filters:r}}}(t):xt(54877,{filter:t})}function xO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function C4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r,i,s=Ct.min(),o=Ct.min(),a=Ir.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.yt=e}}function _O(t){const e=mO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?x0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.Cn=new AO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ke.resolve()}getCollectionParents(e,n){return ke.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ke.resolve()}deleteFieldIndex(e,n){return ke.resolve()}deleteAllFieldIndexes(e){return ke.resolve()}createTargetIndexes(e,n){return ke.resolve()}getDocumentsMatchingTarget(e,n){return ke.resolve(null)}getIndexType(e,n){return ke.resolve(0)}getFieldIndexes(e,n){return ke.resolve([])}getNextCollectionGroupToUpdate(e){return ke.resolve(null)}getMinOffset(e,n){return ke.resolve(Ga.min())}getMinOffsetFromCollectionGroup(e,n){return ke.resolve(Ga.min())}updateCollectionGroup(e,n,r){return ke.resolve()}updateIndexEntries(e,n){return ke.resolve()}}class AO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gr(zn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gr(zn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I4=41943040;class di{static withCacheSize(e){return new di(e,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di.DEFAULT_COLLECTION_PERCENTILE=10,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,di.DEFAULT=new di(I4,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),di.DISABLED=new di(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new du(0)}static cr(){return new du(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="LruGarbageCollector",EO=1048576;function Pb([t,e],[n,r]){const i=Yt(t,n);return i===0?Yt(e,r):i}class SO{constructor(e){this.Ir=e,this.buffer=new gr(Pb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Pb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){He(Ib,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cu(n)?He(Ib,"Ignoring IndexedDB error during garbage collection: ",n):await Tu(n)}await this.Vr(3e5)})}}class CO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ke.resolve(Yp.ce);const r=new SO(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(He("LruGarbageCollector","Garbage collection skipped; disabled"),ke.resolve(Cb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cb):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(u=Date.now(),Ic()<=Kt.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),ke.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function IO(t,e){return new CO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.changes=new nc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ke.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Eh(r.mutation,i,ds.empty(),Dn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Jt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Jt()){const i=El();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=uh();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=El();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Jt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Bo();const o=Ah(),a=function(){return Ah()}();return n.forEach((c,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof rc)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Eh(h.mutation,u,h.mutation.getFieldMask(),Dn.now())):o.set(u.key,ds.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new kO(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ah();let i=new qn((o,a)=>o-a),s=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||ds.empty();h=a.applyToLocalView(u,h),r.set(c,h);const m=(i.get(a.batchId)||Jt()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,m=u4();h.forEach(y=>{if(!s.has(y)){const p=g4(n.get(y),r.get(y));p!==null&&m.set(y,p),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return ke.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ft.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):L7(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ke.resolve(El());let a=$h,c=s;return o.next(u=>ke.forEach(u,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(h)?ke.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{c=c.insert(h,y)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Jt())).next(h=>({batchId:a,changes:c4(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ft(n)).next(r=>{let i=uh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=uh();return this.indexManager.getCollectionParents(e,s).next(a=>ke.forEach(a,c=>{const u=function(m,y){return new Qp(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((m,y)=>{o=o.insert(m,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,qr.newInvalidDocument(h)))});let a=uh();return o.forEach((c,u)=>{const h=s.get(c);h!==void 0&&Eh(h.mutation,u,ds.empty(),Dn.now()),em(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ke.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Js(i.createTime)}}(n)),ke.resolve()}getNamedQuery(e,n){return ke.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:_O(i.bundledQuery),readTime:Js(i.readTime)}}(n)),ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.overlays=new qn(ft.comparator),this.qr=new Map}getOverlay(e,n){return ke.resolve(this.overlays.get(n))}getOverlays(e,n){const r=El();return ke.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),ke.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),ke.resolve()}getOverlaysForCollection(e,n,r){const i=El(),s=n.length+1,o=new ft(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ke.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qn((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=El(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=El(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return ke.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Q7(n,r));let s=this.qr.get(n);s===void 0&&(s=Jt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.sessionToken=Ir.EMPTY_BYTE_STRING}getSessionToken(e){return ke.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.Qr=new gr(br.$r),this.Ur=new gr(br.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new br(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new br(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ft(new zn([])),r=new br(n,e),i=new br(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ft(new zn([])),r=new br(n,e),i=new br(n,e+1);let s=Jt();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new br(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class br{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ft.comparator(e.key,n.key)||Yt(e.Yr,n.Yr)}static Kr(e,n){return Yt(e.Yr,n.Yr)||ft.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new gr(br.$r)}checkEmpty(e){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new X7(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new br(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ke.resolve(o)}lookupMutationBatch(e,n){return ke.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ke.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?$1:this.tr-1)}getAllMutationBatches(e){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new br(n,0),i=new br(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),ke.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gr(Yt);return n.forEach(i=>{const s=new br(i,0),o=new br(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),ke.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ft.isDocumentKey(s)||(s=s.child(""));const o=new br(new ft(s),0);let a=new gr(Yt);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Yr)),!0)},o),ke.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){fn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ke.forEach(n.mutations,i=>{const s=new br(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new br(n,0),i=this.Zr.firstAfterOrEqual(r);return ke.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ke.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.ri=e,this.docs=function(){return new qn(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ke.resolve(r?r.document.mutableCopy():qr.newInvalidDocument(n))}getEntries(e,n){let r=Bo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qr.newInvalidDocument(i))}),ke.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Bo();const o=n.path,a=new ft(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||d7(h7(h),r)<=0||(i.has(h.key)||em(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return ke.resolve(s)}getAllFromCollectionGroup(e,n,r,i){xt(9500)}ii(e,n){return ke.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new FO(this)}getSize(e){return ke.resolve(this.size)}}class FO extends PO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),ke.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.persistence=e,this.si=new nc(n=>G1(n),K1),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new e2,this.targetCount=0,this.ai=du.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ke.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new du(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ke.resolve()}updateTargetData(e,n){return this.Pr(n),ke.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ke.waitFor(s).next(()=>i)}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ke.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ke.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ke.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ke.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ke.resolve(r)}containsKey(e,n){return ke.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n){this.ui={},this.overlays={},this.ci=new Yp(0),this.li=!1,this.li=!0,this.hi=new OO,this.referenceDelegate=e(this),this.Pi=new VO(this),this.indexManager=new NO,this.remoteDocumentCache=function(i){return new MO(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new wO(n),this.Ii=new jO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new DO(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){He("MemoryPersistence","Starting transaction:",e);const i=new BO(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return ke.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class BO extends p7{constructor(e){super(),this.currentSequenceNumber=e}}class t2{constructor(e){this.persistence=e,this.Ri=new e2,this.Vi=null}static mi(e){return new t2(e)}get fi(){if(this.Vi)return this.Vi;throw xt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ke.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ke.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.fi,r=>{const i=ft.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,Ct.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ke.or([()=>ke.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class gp{constructor(e,n){this.persistence=e,this.pi=new nc(r=>y7(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=IO(this,n)}static mi(e,n){return new gp(e,n)}Ei(){}di(e){return ke.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ke.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?ke.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Ct.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ke.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ke.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ke.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ke.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rf(e.data.value)),n}br(e,n,r){return ke.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ke.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Jt(),i=Jt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return vR()?8:m7($r())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new UO;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ic()<=Kt.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",Pc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ke.resolve()):(Ic()<=Kt.DEBUG&&He("QueryEngine","Query:",Pc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ic()<=Kt.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",Pc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ys(n))):ke.resolve())}ys(e,n){if(vb(n))return ke.resolve(null);let r=Ys(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=x0(n,null,"F"),r=Ys(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Jt(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,x0(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,i){return vb(n)||i.isEqual(Ct.min())?ke.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?ke.resolve(null):(Ic()<=Kt.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pc(n)),this.vs(e,o,n,u7(i,$h)).next(a=>a))})}Ds(e,n){let r=new gr(a4(e));return n.forEach((i,s)=>{em(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Ic()<=Kt.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",Pc(n)),this.ps.getDocumentsMatchingQuery(e,n,Ga.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="LocalStore",qO=3e8;class $O{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new qn(Yt),this.xs=new nc(s=>G1(s),K1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function HO(t,e,n,r){return new $O(t,e,n,r)}async function k4(t,e){const n=Rt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Jt();for(const u of i){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function WO(t,e){const n=Rt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const m=u.batch,y=m.keys();let p=ke.resolve();return y.forEach(N=>{p=p.next(()=>h.getEntry(c,N)).next(v=>{const x=u.docVersions.get(N);fn(x!==null,48541),v.version.compareTo(x)<0&&(m.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),h.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Jt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function R4(t){const e=Rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function GO(t,e){const n=Rt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,m)=>{const y=i.get(m);if(!y)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,m)));let p=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?p=p.withResumeToken(Ir.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),i=i.insert(m,p),function(v,x,A){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=qO?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(y,p,h)&&a.push(n.Pi.updateTargetData(s,p))});let c=Bo(),u=Jt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(KO(s,o,e.documentUpdates).next(h=>{c=h.ks,u=h.qs})),!r.isEqual(Ct.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return ke.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ms=i,s))}function KO(t,e,n){let r=Jt(),i=Jt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Bo();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ct.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):He(r2,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:i}})}function YO(t,e){const n=Rt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JO(t,e){const n=Rt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,ke.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Ra(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function E0(t,e,n){const r=Rt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Cu(o))throw o;He(r2,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function kb(t,e,n){const r=Rt(t);let i=Ct.min(),s=Jt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const m=Rt(c),y=m.xs.get(h);return y!==void 0?ke.resolve(m.Ms.get(y)):m.Pi.getTargetData(u,h)}(r,o,Ys(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Ct.min(),n?s:Jt())).next(a=>(XO(r,D7(e),a),{documents:a,Qs:s})))}function XO(t,e,n){let r=t.Os.get(e)||Ct.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class Rb{constructor(){this.activeTargetIds=z7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QO{constructor(){this.Mo=new Rb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Rb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="ConnectivityMonitor";class Lb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){He(jb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){He(jb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of=null;function S0(){return of===null?of=function(){return 268435456+Math.round(2147483648*Math.random())}():of++,"0x"+of.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="RestConnection",eD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===cp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=S0(),a=this.zo(e,n.toUriEncodedString());He(rg,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:u}=new URL(a),h=Nu(u);return this.Jo(e,a,c,r,h).then(m=>(He(rg,`Received RPC '${e}' ${o}: `,m),m),m=>{throw lu(rg,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Su}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=eD[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="WebChannelConnection";class rD extends tD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=S0();return new Promise((a,c)=>{const u=new ON;u.setWithCredentials(!0),u.listenOnce(DN.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case kf.NO_ERROR:const m=u.getResponseJson();He(Dr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case kf.TIMEOUT:He(Dr,`RPC '${e}' ${o} timed out`),c(new ct(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case kf.HTTP_ERROR:const y=u.getStatus();if(He(Dr,`RPC '${e}' ${o} failed with status:`,y,"response text:",u.getResponseText()),y>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const N=p==null?void 0:p.error;if(N&&N.status&&N.message){const v=function(A){const C=A.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(C)>=0?C:Oe.UNKNOWN}(N.status);c(new ct(v,N.message))}else c(new ct(Oe.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ct(Oe.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{He(Dr,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);He(Dr,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}T_(e,n,r){const i=S0(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VN(),a=FN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=s.join("");He(Dr,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=o.createWebChannel(h,c);this.I_(m);let y=!1,p=!1;const N=new nD({Yo:x=>{p?He(Dr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(y||(He(Dr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),He(Dr,`RPC '${e}' stream ${i} sending:`,x),m.send(x))},Zo:()=>m.close()}),v=(x,A,C)=>{x.listen(A,L=>{try{C(L)}catch(B){setTimeout(()=>{throw B},0)}})};return v(m,ch.EventType.OPEN,()=>{p||(He(Dr,`RPC '${e}' stream ${i} transport opened.`),N.o_())}),v(m,ch.EventType.CLOSE,()=>{p||(p=!0,He(Dr,`RPC '${e}' stream ${i} transport closed`),N.a_(),this.E_(m))}),v(m,ch.EventType.ERROR,x=>{p||(p=!0,lu(Dr,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),N.a_(new ct(Oe.UNAVAILABLE,"The operation could not be completed")))}),v(m,ch.EventType.MESSAGE,x=>{var A;if(!p){const C=x.data[0];fn(!!C,16349);const L=C,B=(L==null?void 0:L.error)||((A=L[0])==null?void 0:A.error);if(B){He(Dr,`RPC '${e}' stream ${i} received error:`,B);const J=B.status;let re=function(P){const O=ar[P];if(O!==void 0)return b4(O)}(J),V=B.message;re===void 0&&(re=Oe.INTERNAL,V="Unknown error status: "+J+" with message "+B.message),p=!0,N.a_(new ct(re,V)),m.close()}else He(Dr,`RPC '${e}' stream ${i} received:`,C),N.u_(C)}}),v(a,MN.STAT_EVENT,x=>{x.stat===p0.PROXY?He(Dr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===p0.NOPROXY&&He(Dr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.__()},0),N}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function ig(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t){return new aO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="PersistentStream";class L4{constructor(e,n,r,i,s,o,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new j4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Oe.RESOURCE_EXHAUSTED?(Vo(n.toString()),Vo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new ct(Oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return He(Ob,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(He(Ob,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iD extends L4{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=uO(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ct.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ct.min():o.readTime?Js(o.readTime):Ct.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=A0(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=b0(c)?{documents:fO(s,c)}:{query:pO(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_4(s,o.resumeToken);const u=w0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ct.min())>0){a.readTime=mp(s,o.snapshotVersion.toTimestamp());const u=w0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=gO(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=A0(this.serializer),n.removeTarget=e,this.q_(n)}}class sD extends L4{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return fn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){fn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=dO(e.writeResults,e.commitTime),r=Js(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=A0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>hO(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{}class aD extends oD{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ct(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,_0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ct(Oe.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,_0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ct(Oe.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class lD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vo(n),this.aa=!1):He("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="RemoteStore";class cD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{ic(this)&&(He(Hl,"Restarting streams for network reachability change."),await async function(c){const u=Rt(c);u.Ea.add(4),await _d(u),u.Ra.set("Unknown"),u.Ea.delete(4),await sm(u)}(this))})}),this.Ra=new lD(r,i)}}async function sm(t){if(ic(t))for(const e of t.da)await e(!0)}async function _d(t){for(const e of t.da)await e(!1)}function O4(t,e){const n=Rt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),a2(n)?o2(n):Iu(n).O_()&&s2(n,e))}function i2(t,e){const n=Rt(t),r=Iu(n);n.Ia.delete(e),r.O_()&&D4(n,e),n.Ia.size===0&&(r.O_()?r.L_():ic(n)&&n.Ra.set("Unknown"))}function s2(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Iu(t).Y_(e)}function D4(t,e){t.Va.Ue(e),Iu(t).Z_(e)}function o2(t){t.Va=new rO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Iu(t).start(),t.Ra.ua()}function a2(t){return ic(t)&&!Iu(t).x_()&&t.Ia.size>0}function ic(t){return Rt(t).Ea.size===0}function M4(t){t.Va=void 0}async function uD(t){t.Ra.set("Online")}async function hD(t){t.Ia.forEach((e,n)=>{s2(t,e)})}async function dD(t,e){M4(t),a2(t)?(t.Ra.ha(e),o2(t)):t.Ra.set("Unknown")}async function fD(t,e,n){if(t.Ra.set("Online"),e instanceof w4&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){He(Hl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yp(t,r)}else if(e instanceof Of?t.Va.Ze(e):e instanceof x4?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ct.min()))try{const r=await R4(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.Ia.get(u);h&&s.Ia.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=s.Ia.get(c);if(!h)return;s.Ia.set(c,h.withResumeToken(Ir.EMPTY_BYTE_STRING,h.snapshotVersion)),D4(s,c);const m=new Ra(h.target,c,u,h.sequenceNumber);s2(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){He(Hl,"Failed to raise snapshot:",r),await yp(t,r)}}async function yp(t,e,n){if(!Cu(e))throw e;t.Ea.add(1),await _d(t),t.Ra.set("Offline"),n||(n=()=>R4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{He(Hl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await sm(t)})}function F4(t,e){return e().catch(n=>yp(t,n,e))}async function om(t){const e=Rt(t),n=Xa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$1;for(;pD(e);)try{const i=await YO(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,mD(e,i)}catch(i){await yp(e,i)}V4(e)&&B4(e)}function pD(t){return ic(t)&&t.Ta.length<10}function mD(t,e){t.Ta.push(e);const n=Xa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function V4(t){return ic(t)&&!Xa(t).x_()&&t.Ta.length>0}function B4(t){Xa(t).start()}async function gD(t){Xa(t).ra()}async function yD(t){const e=Xa(t);for(const n of t.Ta)e.ea(n.mutations)}async function vD(t,e,n){const r=t.Ta.shift(),i=X1.from(r,e,n);await F4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await om(t)}async function bD(t,e){e&&Xa(t).X_&&await async function(r,i){if(function(o){return eO(o)&&o!==Oe.ABORTED}(i.code)){const s=r.Ta.shift();Xa(r).B_(),await F4(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await om(r)}}(t,e),V4(t)&&B4(t)}async function Db(t,e){const n=Rt(t);n.asyncQueue.verifyOperationInProgress(),He(Hl,"RemoteStore received new credentials");const r=ic(n);n.Ea.add(3),await _d(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sm(n)}async function xD(t,e){const n=Rt(t);e?(n.Ea.delete(2),await sm(n)):e||(n.Ea.add(2),await _d(n),n.Ra.set("Unknown"))}function Iu(t){return t.ma||(t.ma=function(n,r,i){const s=Rt(n);return s.sa(),new iD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:uD.bind(null,t),t_:hD.bind(null,t),r_:dD.bind(null,t),H_:fD.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),a2(t)?o2(t):t.Ra.set("Unknown")):(await t.ma.stop(),M4(t))})),t.ma}function Xa(t){return t.fa||(t.fa=function(n,r,i){const s=Rt(n);return s.sa(),new sD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:gD.bind(null,t),r_:bD.bind(null,t),ta:yD.bind(null,t),na:vD.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await om(t)):(await t.fa.stop(),t.Ta.length>0&&(He(Hl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new l2(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function c2(t,e){if(Vo("AsyncQueue",`${e}: ${t}`),Cu(t))return new ct(Oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{static emptySet(e){return new Uc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ft.comparator(n.key,r.key):(n,r)=>ft.comparator(n.key,r.key),this.keyedMap=uh(),this.sortedSet=new qn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.ga=new qn(ft.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class fu{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new fu(e,n,Uc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class _D{constructor(){this.queries=Fb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Rt(n),s=i.queries;i.queries=Fb(),s.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new ct(Oe.ABORTED,"Firestore shutting down"))}}function Fb(){return new nc(t=>o4(t),Zp)}async function ND(t,e){const n=Rt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new wD,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=c2(o,`Initialization of query '${Pc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&u2(n)}async function AD(t,e){const n=Rt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ED(t,e){const n=Rt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&u2(n)}function SD(t,e,n){const r=Rt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function u2(t){t.Ca.forEach(e=>{e.next()})}var T0,Vb;(Vb=T0||(T0={})).Ma="default",Vb.Cache="cache";class TD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=fu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==T0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.key=e}}class z4{constructor(e){this.key=e}}class CD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Jt(),this.mutatedKeys=Jt(),this.eu=a4(e),this.tu=new Uc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Mb,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const y=i.get(h),p=em(this.query,m)?m:null,N=!!y&&this.mutatedKeys.has(y.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;y&&p?y.data.isEqual(p.data)?N!==v&&(r.track({type:3,doc:p}),x=!0):this.su(y,p)||(r.track({type:2,doc:p}),x=!0,(c&&this.eu(p,c)>0||u&&this.eu(p,u)<0)&&(a=!0)):!y&&p?(r.track({type:0,doc:p}),x=!0):y&&!p&&(r.track({type:1,doc:y}),x=!0,(c||u)&&(a=!0)),x&&(p?(o=o.add(p),s=v?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,m)=>function(p,N){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Rt:x})}};return v(p)-v(N)}(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new fu(this.query,e.tu,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Mb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Jt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new z4(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new U4(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Jt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return fu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const h2="SyncEngine";class ID{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class PD{constructor(e){this.key=e,this.hu=!1}}class kD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new nc(a=>o4(a),Zp),this.Iu=new Map,this.Eu=new Set,this.du=new qn(ft.comparator),this.Au=new Map,this.Ru=new e2,this.Vu={},this.mu=new Map,this.fu=du.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RD(t,e,n=!0){const r=K4(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await q4(r,e,n,!0),i}async function jD(t,e){const n=K4(t);await q4(n,e,!0,!1)}async function q4(t,e,n,r){const i=await JO(t.localStore,Ys(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await LD(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&O4(t.remoteStore,i),a}async function LD(t,e,n,r,i){t.pu=(m,y,p)=>async function(v,x,A,C){let L=x.view.ru(A);L.Cs&&(L=await kb(v.localStore,x.query,!1).then(({documents:V})=>x.view.ru(V,L)));const B=C&&C.targetChanges.get(x.targetId),J=C&&C.targetMismatches.get(x.targetId)!=null,re=x.view.applyChanges(L,v.isPrimaryClient,B,J);return Ub(v,x.targetId,re.au),re.snapshot}(t,m,y,p);const s=await kb(t.localStore,e,!0),o=new CD(e,s.Qs),a=o.ru(s.documents),c=wd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);Ub(t,n,u.au);const h=new ID(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function OD(t,e,n){const r=Rt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Zp(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await E0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&i2(r.remoteStore,i.targetId),C0(r,i.targetId)}).catch(Tu)):(C0(r,i.targetId),await E0(r.localStore,i.targetId,!0))}async function DD(t,e){const n=Rt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),i2(n.remoteStore,r.targetId))}async function MD(t,e,n){const r=$D(t);try{const i=await function(o,a){const c=Rt(o),u=Dn.now(),h=a.reduce((p,N)=>p.add(N.key),Jt());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let N=Bo(),v=Jt();return c.Ns.getEntries(p,h).next(x=>{N=x,N.forEach((A,C)=>{C.isValidDocument()||(v=v.add(A))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,N)).next(x=>{m=x;const A=[];for(const C of a){const L=Y7(C,m.get(C.key).overlayedDocument);L!=null&&A.push(new rc(C.key,L,ZN(L.value.mapValue),Lo.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,A,a)}).next(x=>{y=x;const A=x.applyToLocalDocumentSet(m,v);return c.documentOverlayCache.saveOverlays(p,x.batchId,A)})}).then(()=>({batchId:y.batchId,changes:c4(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new qn(Yt)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Nd(r,i.changes),await om(r.remoteStore)}catch(i){const s=c2(i,"Failed to persist write");n.reject(s)}}async function $4(t,e){const n=Rt(t);try{const r=await GO(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(fn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?fn(o.hu,14607):i.removedDocuments.size>0&&(fn(o.hu,42227),o.hu=!1))}),await Nd(n,r,e)}catch(r){await Tu(r)}}function Bb(t,e,n){const r=Rt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=Rt(o);c.onlineState=a;let u=!1;c.queries.forEach((h,m)=>{for(const y of m.Sa)y.va(a)&&(u=!0)}),u&&u2(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function FD(t,e,n){const r=Rt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new qn(ft.comparator);o=o.insert(s,qr.newNoDocument(s,Ct.min()));const a=Jt().add(s),c=new rm(Ct.min(),new Map,new qn(Yt),o,a);await $4(r,c),r.du=r.du.remove(s),r.Au.delete(e),d2(r)}else await E0(r.localStore,e,!1).then(()=>C0(r,e,n)).catch(Tu)}async function VD(t,e){const n=Rt(t),r=e.batch.batchId;try{const i=await WO(n.localStore,e);W4(n,r,null),H4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nd(n,i)}catch(i){await Tu(i)}}async function BD(t,e,n){const r=Rt(t);try{const i=await function(o,a){const c=Rt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(m=>(fn(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);W4(r,e,n),H4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nd(r,i)}catch(i){await Tu(i)}}function H4(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function W4(t,e,n){const r=Rt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function C0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||G4(t,r)})}function G4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(i2(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),d2(t))}function Ub(t,e,n){for(const r of n)r instanceof U4?(t.Ru.addReference(r.key,e),UD(t,r)):r instanceof z4?(He(h2,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||G4(t,r.key)):xt(19791,{wu:r})}function UD(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(He(h2,"New document in limbo: "+n),t.Eu.add(r),d2(t))}function d2(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ft(zn.fromString(e)),r=t.fu.next();t.Au.set(r,new PD(n)),t.du=t.du.insert(n,r),O4(t.remoteStore,new Ra(Ys(Y1(n.path)),r,"TargetPurposeLimboResolution",Yp.ce))}}async function Nd(t,e,n){const r=Rt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const m=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){i.push(u);const m=n2.As(c.targetId,u);s.push(m)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(c,u){const h=Rt(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ke.forEach(u,y=>ke.forEach(y.Es,p=>h.persistence.referenceDelegate.addReference(m,y.targetId,p)).next(()=>ke.forEach(y.ds,p=>h.persistence.referenceDelegate.removeReference(m,y.targetId,p)))))}catch(m){if(!Cu(m))throw m;He(r2,"Failed to update sequence numbers: "+m)}for(const m of u){const y=m.targetId;if(!m.fromCache){const p=h.Ms.get(y),N=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(N);h.Ms=h.Ms.insert(y,v)}}}(r.localStore,s))}async function zD(t,e){const n=Rt(t);if(!n.currentUser.isEqual(e)){He(h2,"User change. New user:",e.toKey());const r=await k4(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(c=>{c.reject(new ct(Oe.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nd(n,r.Ls)}}function qD(t,e){const n=Rt(t),r=n.Au.get(e);if(r&&r.hu)return Jt().add(r.key);{let i=Jt();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function K4(t){const e=Rt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FD.bind(null,e),e.Pu.H_=ED.bind(null,e.eventManager),e.Pu.yu=SD.bind(null,e.eventManager),e}function $D(t){const e=Rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BD.bind(null,e),e}class vp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=im(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return HO(this.persistence,new zO,e.initialUser,this.serializer)}Cu(e){return new P4(t2.mi,this.serializer)}Du(e){return new QO}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vp.provider={build:()=>new vp};class HD extends vp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){fn(this.persistence.referenceDelegate instanceof gp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TO(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?di.withCacheSize(this.cacheSizeBytes):di.DEFAULT;return new P4(r=>gp.mi(r,n),this.serializer)}}class I0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zD.bind(null,this.syncEngine),await xD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _D}()}createDatastore(e){const n=im(e.databaseInfo.databaseId),r=function(s){return new rD(s)}(e.databaseInfo);return function(s,o,a,c){return new aD(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new cD(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Bb(this.syncEngine,n,0),function(){return Lb.v()?new Lb:new ZO}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,h){const m=new kD(i,s,o,a,c,u);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Rt(i);He(Hl,"RemoteStore shutting down."),s.Ea.add(5),await _d(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}I0.provider={build:()=>new I0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="FirestoreClient";class GD{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zr.UNAUTHENTICATED,this.clientId=z1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{He(Qa,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(He(Qa,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=c2(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sg(t,e){t.asyncQueue.verifyOperationInProgress(),He(Qa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await k4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KD(t);He(Qa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Db(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Db(e.remoteStore,i)),t._onlineComponents=e}async function KD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){He(Qa,"Using user provided OfflineComponentProvider");try{await sg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Oe.FAILED_PRECONDITION||i.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;lu("Error using user provided cache. Falling back to memory cache: "+n),await sg(t,new vp)}}else He(Qa,"Using default OfflineComponentProvider"),await sg(t,new HD(void 0));return t._offlineComponents}async function Y4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(He(Qa,"Using user provided OnlineComponentProvider"),await zb(t,t._uninitializedComponentsProvider._online)):(He(Qa,"Using default OnlineComponentProvider"),await zb(t,new I0))),t._onlineComponents}function YD(t){return Y4(t).then(e=>e.syncEngine)}async function JD(t){const e=await Y4(t),n=e.eventManager;return n.onListen=RD.bind(null,e.syncEngine),n.onUnlisten=OD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=DD.bind(null,e.syncEngine),n}function XD(t,e,n={}){const r=new Ba;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const h=new WD({next:y=>{h.Nu(),o.enqueueAndForget(()=>AD(s,m));const p=y.docs.has(a);!p&&y.fromCache?u.reject(new ct(Oe.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&y.fromCache&&c&&c.source==="server"?u.reject(new ct(Oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(y)},error:y=>u.reject(y)}),m=new TD(Y1(a.path),h,{includeMetadataChanges:!0,qa:!0});return ND(s,m)}(await JD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="firestore.googleapis.com",$b=!0;class Hb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ct(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=X4,this.ssl=$b}else this.host=e.host,this.ssl=e.ssl??$b;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=I4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EO)throw new ct(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J4(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class f2{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Q8;switch(r.type){case"firstParty":return new n7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qb.get(n);r&&(He("ComponentProvider","Removing Datastore"),qb.delete(n),r.terminate())}(this),Promise.resolve()}}function QD(t,e,n,r={}){var u;t=qh(t,f2);const i=Nu(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(G_(`https://${a}`),K_("Firestore",!0)),s.host!==X4&&s.host!==a&&lu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:a,ssl:i,emulatorOptions:r};if(!Bl(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=zr.MOCK_USER;else{h=cR(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new ct(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new zr(y)}t._authCredentials=new Z8(new UN(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new p2(this.firestore,e,this._query)}}class wr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wr(this.firestore,e,this._key)}toJSON(){return{type:wr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bd(n,wr._jsonSchema))return new wr(e,r||null,new ft(zn.fromString(n.referencePath)))}}wr._jsonSchemaVersion="firestore/documentReference/1.0",wr._jsonSchema={type:lr("string",wr._jsonSchemaVersion),referencePath:lr("string")};class Jh extends p2{constructor(e,n,r){super(e,n,Y1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wr(this.firestore,null,new ft(e))}withConverter(e){return new Jh(this.firestore,e,this._path)}}function af(t,e,...n){if(t=Li(t),arguments.length===1&&(e=z1.newId()),l7("doc","path",e),t instanceof f2){const r=zn.fromString(e,...n);return sb(r),new wr(t,null,new ft(r))}{if(!(t instanceof wr||t instanceof Jh))throw new ct(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zn.fromString(e,...n));return sb(r),new wr(t.firestore,t instanceof Jh?t.converter:null,new ft(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="AsyncQueue";class Gb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new j4(this,"async_queue_retry"),this._c=()=>{const r=ig();r&&He(Wb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ig();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ig();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ba;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Cu(e))throw e;He(Wb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Vo("INTERNAL UNHANDLED ERROR: ",Kb(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=l2.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&xt(47125,{Pc:Kb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Kb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class m2 extends f2{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Gb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gb(e),this._firestoreClient=void 0,await e}}}function ZD(t,e){const n=typeof t=="object"?t:Q_(),r=typeof t=="string"?t:cp,i=P1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=aR("firestore");s&&QD(i,...s)}return i}function Q4(t){if(t._terminated)throw new ct(Oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eM(t),t._firestoreClient}function eM(t){var r,i,s;const e=t._freezeSettings(),n=function(a,c,u,h){return new x7(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,J4(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new GD(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yi(Ir.fromBase64String(e))}catch(n){throw new ct(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yi(Ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bd(e,Yi._jsonSchema))return Yi.fromBase64String(e.bytes)}}Yi._jsonSchemaVersion="firestore/bytes/1.0",Yi._jsonSchema={type:lr("string",Yi._jsonSchemaVersion),bytes:lr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ct(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ct(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ct(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xs._jsonSchemaVersion}}static fromJSON(e){if(bd(e,Xs._jsonSchema))return new Xs(e.latitude,e.longitude)}}Xs._jsonSchemaVersion="firestore/geoPoint/1.0",Xs._jsonSchema={type:lr("string",Xs._jsonSchemaVersion),latitude:lr("number"),longitude:lr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bd(e,Qs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Qs(e.vectorValues);throw new ct(Oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qs._jsonSchemaVersion="firestore/vectorValue/1.0",Qs._jsonSchema={type:lr("string",Qs._jsonSchemaVersion),vectorValues:lr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=/^__.*__$/;class nM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new rc(e,this.data,this.fieldMask,n,this.fieldTransforms):new xd(e,this.data,n,this.fieldTransforms)}}function eA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ac:t})}}class y2{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new y2({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(eA(this.Ac)&&tM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||im(e)}Cc(e,n,r,i=!1){return new y2({Ac:e,methodName:n,Dc:r,path:Cr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iM(t){const e=t._freezeSettings(),n=im(t._databaseId);return new rM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sM(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);iA("Data must be an object, but it was:",o,r);const a=nA(r,o);let c,u;if(s.merge)c=new ds(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const m of s.mergeFields){const y=oM(e,m,n);if(!o.contains(y))throw new ct(Oe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);lM(h,y)||h.push(y)}c=new ds(h),u=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=o.fieldTransforms;return new nM(new Ki(a),c,u)}function tA(t,e){if(rA(t=Li(t)))return iA("Unsupported field value:",e,t),nA(t,e);if(t instanceof Z4)return function(r,i){if(!eA(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=tA(a,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Li(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return q7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Dn.fromDate(r);return{timestampValue:mp(i.serializer,s)}}if(r instanceof Dn){const s=new Dn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mp(i.serializer,s)}}if(r instanceof Xs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yi)return{bytesValue:_4(i.serializer,r._byteString)};if(r instanceof wr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Z1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qs)return function(o,a){return{mapValue:{fields:{[JN]:{stringValue:QN},[up]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return J1(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${q1(r)}`)}(t,e)}function nA(t,e){const n={};return $N(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tc(t,(r,i)=>{const s=tA(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function rA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dn||t instanceof Xs||t instanceof Yi||t instanceof wr||t instanceof Z4||t instanceof Qs)}function iA(t,e,n){if(!rA(n)||!zN(n)){const r=q1(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function oM(t,e,n){if((e=Li(e))instanceof g2)return e._internalPath;if(typeof e=="string")return sA(t,e);throw bp("Field path arguments must be of type string or ",t,!1,void 0,n)}const aM=new RegExp("[~\\*/\\[\\]]");function sA(t,e,n){if(e.search(aM)>=0)throw bp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new g2(...e.split("."))._internalPath}catch{throw bp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ct(Oe.INVALID_ARGUMENT,a+t+c)}function lM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(aA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cM extends oA{data(){return super.data()}}function aA(t,e){return typeof e=="string"?sA(t,e):e instanceof g2?e._internalPath:e._delegate._internalPath}class uM{convertValue(e,n="none"){switch(Ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return tc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[up].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>tr(o.doubleValue));return new Qs(n)}convertGeoPoint(e){return new Xs(tr(e.latitude),tr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hh(e));default:return null}}convertTimestamp(e){const n=Ka(e);return new Dn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=zn.fromString(e);fn(C4(r),9688,{name:e});const i=new Wh(r.get(1),r.get(3)),s=new ft(r.popFirst(5));return i.isEqual(n)||Vo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class dh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dl extends oA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(aA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Dl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Dl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Dl._jsonSchema={type:lr("string",Dl._jsonSchemaVersion),bundleSource:lr("string","DocumentSnapshot"),bundleName:lr("string"),bundle:lr("string")};class Df extends Dl{data(e={}){return super.data(e)}}class Sh{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new dh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Df(this._firestore,this._userDataWriter,r.key,r,new dh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new Df(i._firestore,i._userDataWriter,a.doc.key,a.doc,new dh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new Df(i._firestore,i._userDataWriter,a.doc.key,a.doc,new dh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:dM(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=z1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(t){t=qh(t,wr);const e=qh(t.firestore,m2);return XD(Q4(e),t._key).then(n=>mM(e,t,n))}Sh._jsonSchemaVersion="firestore/querySnapshot/1.0",Sh._jsonSchema={type:lr("string",Sh._jsonSchemaVersion),bundleSource:lr("string","QuerySnapshot"),bundleName:lr("string"),bundle:lr("string")};class fM extends uM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wr(this.firestore,null,n)}}function Jb(t,e,n){t=qh(t,wr);const r=qh(t.firestore,m2),i=hM(t.converter,e);return pM(r,[sM(iM(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Lo.none())])}function pM(t,e){return function(r,i){const s=new Ba;return r.asyncQueue.enqueueAndForget(async()=>MD(await YD(r),i,s)),s.promise}(Q4(t),e)}function mM(t,e,n){const r=n.docs.get(e._key),i=new fM(t);return new Dl(t,i,e._key,r,new dh(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Su=i})(Au),au(new Ul("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new m2(new e7(r.getProvider("auth-internal")),new r7(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ct(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wh(u.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Fa(tb,nb,e),Fa(tb,nb,"esm2020")})();var gM="firebase",yM="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fa(gM,yM,"app");const vM={firebase:{apiKey:"AIzaSyBk7Atv7matMzNT8xiDpzB7z-5wBAIhCos",authDomain:"aqua2promo-998b7.firebaseapp.com",projectId:"aqua2promo-998b7",storageBucket:"aqua2promo-998b7.firebasestorage.app",messagingSenderId:"36925593507",appId:"1:36925593507:web:dd9452351b5dd070ae6c16",measurementId:"G-74V4THXV11"},apiUrl:"https://aiwillendjobs.com"},bM=vM.firebase,lA=X_(bM),rh=J8(lA),lf=ZD(lA),cA=S.createContext();function Pu(){return S.useContext(cA)}function xM({children:t}){const[e,n]=S.useState(null),[r,i]=S.useState(null),[s,o]=S.useState(!0);async function a(p,N,v){try{const A=(await LL(rh,p,N)).user;return await Jb(af(lf,"users",A.uid),{name:v.name,email:v.email,businessName:v.businessName,mobile:v.mobile,emailVerified:!1,createdAt:new Date}),A}catch(x){throw x}}async function c(p,N){return OL(rh,p,N)}async function u(){const p=new Po;try{const v=(await s8(rh,p)).user;return(await Yb(af(lf,"users",v.uid))).exists()||await Jb(af(lf,"users",v.uid),{name:v.displayName,email:v.email,businessName:"",mobile:"",emailVerified:!0,createdAt:new Date}),v}catch(N){throw N}}async function h(){return VL(rh)}async function m(p){try{const N=await Yb(af(lf,"users",p));return N.exists()?N.data():null}catch(N){return console.error("Error getting user data:",N),null}}S.useEffect(()=>FL(rh,async N=>{if(N){n(N);const v=await m(N.uid);i(v)}else n(null),i(null);o(!1)}),[]);const y={currentUser:e,userData:r,signup:a,login:c,googleLogin:u,logout:h,getUserData:m};return l.jsx(cA.Provider,{value:y,children:!s&&t})}const wM=Lp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:scale-105 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 hover:scale-105 hover:shadow-lg",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-gradient-primary text-white hover:shadow-glow hover:scale-105 font-semibold border-0",accent:"bg-gradient-accent text-white hover:shadow-lg hover:scale-105 font-semibold"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Me=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?xT:"button";return l.jsx(o,{className:kt(wM({variant:e,size:n,className:t})),ref:s,...i})});Me.displayName="Button";const uA=""+new URL("logo_33_11zon-dqZoQtck.webp",import.meta.url).href,_M=()=>{const[t,e]=S.useState(!1),n=wu(),{currentUser:r}=Pu(),i=(r==null?void 0:r.email)==="admin@aqua2promo@gmail.com",s=[{name:"Home",path:"/"},{name:"About",path:"/about"},{name:"Products",path:"/products"},{name:"Contact",path:"/contact"}],o=a=>n.pathname===a;return l.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border shadow-sm",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"flex items-center justify-between h-20",children:[l.jsxs(Ht,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[l.jsx("img",{src:uA,alt:"Aqua2Promo",className:"h-14 w-14"}),l.jsx("span",{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Aqua2Promo"})]}),l.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[s.map(a=>l.jsxs(Ht,{to:a.path,className:`text-sm font-medium transition-all duration-300 relative group ${o(a.path)?"text-primary":"text-foreground hover:text-primary"}`,children:[a.name,l.jsx("span",{className:`absolute bottom-0 left-0 w-full h-0.5 bg-gradient-primary transform origin-left transition-transform duration-300 ${o(a.path)?"scale-x-100":"scale-x-0 group-hover:scale-x-100"}`})]},a.path)),l.jsx(Me,{variant:"hero",size:"lg",asChild:!0,children:l.jsx(Ht,{to:"/booking",children:"Book Appointment"})}),l.jsx(Me,{variant:"outline",size:"lg",asChild:!0,children:l.jsx(Ht,{to:"/try3d",children:"Try 3D Design"})}),r?l.jsxs(l.Fragment,{children:[l.jsx(Me,{variant:"outline",asChild:!0,children:l.jsxs(Ht,{to:"/contract",children:[l.jsx(Rh,{className:"w-4 h-4 mr-2"}),"Contract"]})}),i&&l.jsx(Me,{variant:"outline",asChild:!0,children:l.jsxs(Ht,{to:"/admin",children:[l.jsx(Wf,{className:"w-4 h-4 mr-2"}),"Admin"]})}),l.jsx(Me,{variant:"outline",asChild:!0,children:l.jsxs(Ht,{to:"/profile",children:[l.jsx(jh,{className:"w-4 h-4 mr-2"}),"Profile"]})})]}):l.jsxs(l.Fragment,{children:[l.jsx(Me,{variant:"outline",asChild:!0,children:l.jsx(Ht,{to:"/login",children:"Login"})}),l.jsx(Me,{variant:"default",asChild:!0,children:l.jsx(Ht,{to:"/signup",children:"Sign Up"})})]})]}),l.jsx("button",{onClick:()=>e(!t),className:"md:hidden p-2 text-foreground hover:text-primary transition-colors",children:t?l.jsx(h1,{size:24}):l.jsx(NC,{size:24})})]}),t&&l.jsxs("div",{className:"md:hidden py-6 space-y-4 animate-fade-in",children:[s.map(a=>l.jsx(Ht,{to:a.path,onClick:()=>e(!1),className:`block py-2 text-base font-medium transition-colors ${o(a.path)?"text-primary":"text-foreground hover:text-primary"}`,children:a.name},a.path)),l.jsx(Me,{variant:"hero",size:"lg",className:"w-full",asChild:!0,children:l.jsx(Ht,{to:"/booking",onClick:()=>e(!1),children:"Book Appointment"})}),l.jsx(Me,{variant:"outline",size:"lg",className:"w-full",asChild:!0,children:l.jsx(Ht,{to:"/try3d",onClick:()=>e(!1),children:"Try 3D Design"})}),r?l.jsxs(l.Fragment,{children:[l.jsx(Me,{variant:"outline",className:"w-full",asChild:!0,children:l.jsxs(Ht,{to:"/contract",onClick:()=>e(!1),children:[l.jsx(Rh,{className:"w-4 h-4 mr-2"}),"Contract"]})}),i&&l.jsx(Me,{variant:"outline",className:"w-full",asChild:!0,children:l.jsxs(Ht,{to:"/admin",onClick:()=>e(!1),children:[l.jsx(Wf,{className:"w-4 h-4 mr-2"}),"Admin"]})}),l.jsx(Me,{variant:"outline",className:"w-full",asChild:!0,children:l.jsxs(Ht,{to:"/profile",onClick:()=>e(!1),children:[l.jsx(jh,{className:"w-4 h-4 mr-2"}),"Profile"]})})]}):l.jsxs(l.Fragment,{children:[l.jsx(Me,{variant:"outline",className:"w-full",asChild:!0,children:l.jsx(Ht,{to:"/login",onClick:()=>e(!1),children:"Login"})}),l.jsx(Me,{variant:"default",className:"w-full",asChild:!0,children:l.jsx(Ht,{to:"/signup",onClick:()=>e(!1),children:"Sign Up"})})]})]})]})})},NM=()=>l.jsx("footer",{className:"bg-secondary text-secondary-foreground",children:l.jsxs("div",{className:"container mx-auto px-4 py-16",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:uA,alt:"Aqua2Promo",className:"h-12 w-12"}),l.jsx("span",{className:"text-xl font-bold text-white",children:"Aqua2Promo"})]}),l.jsx("p",{className:"text-secondary-foreground/80 text-sm leading-relaxed",children:"Lucknow's premier customized water bottle brand. Quality, customization, and sustainability in every bottle."}),l.jsxs("div",{className:"flex gap-4 pt-4",children:[l.jsx("a",{href:"#",className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:l.jsx(yC,{size:20})}),l.jsx("a",{href:"#",className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:l.jsx(bC,{size:20})}),l.jsx("a",{href:"#",className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:l.jsx(CC,{size:20})}),l.jsx("a",{href:"#",className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:l.jsx(xC,{size:20})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Quick Links"}),l.jsxs("ul",{className:"space-y-3",children:[l.jsx("li",{children:l.jsx(Ht,{to:"/",className:"text-sm hover:text-primary transition-colors",children:"Home"})}),l.jsx("li",{children:l.jsx(Ht,{to:"/about",className:"text-sm hover:text-primary transition-colors",children:"About Us"})}),l.jsx("li",{children:l.jsx(Ht,{to:"/products",className:"text-sm hover:text-primary transition-colors",children:"Products"})}),l.jsx("li",{children:l.jsx(Ht,{to:"/try3d",className:"text-sm hover:text-primary transition-colors",children:"Customize Bottle"})}),l.jsx("li",{children:l.jsx(Ht,{to:"/contact",className:"text-sm hover:text-primary transition-colors",children:"Contact"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Our Services"}),l.jsxs("ul",{className:"space-y-3",children:[l.jsx("li",{className:"text-sm",children:"Custom Label Design"}),l.jsx("li",{className:"text-sm",children:"Bulk Orders for Hotels"}),l.jsx("li",{className:"text-sm",children:"Restaurant Branding"}),l.jsx("li",{className:"text-sm",children:"Event Customization"}),l.jsx("li",{className:"text-sm",children:"Premium Packaging"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Contact Us"}),l.jsxs("ul",{className:"space-y-4",children:[l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx(L5,{size:20,className:"text-primary mt-1 flex-shrink-0"}),l.jsx("span",{className:"text-sm",children:"9b, 169B, Vrindavan Colony, Lucknow, Uttar Pradesh 226029"})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(Op,{size:20,className:"text-primary flex-shrink-0"}),l.jsx("span",{className:"text-sm",children:"+91 8858146872"})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(iu,{size:20,className:"text-primary flex-shrink-0"}),l.jsx("span",{className:"text-sm",children:"aqua2promo@gmail.com"})]})]})]})]}),l.jsx("div",{className:"border-t border-white/10 mt-12 pt-8 text-center",children:l.jsxs("p",{className:"text-sm text-secondary-foreground/60",children:["© ",new Date().getFullYear()," Aqua2Promo. All rights reserved."]})})]})}),AM=()=>{const{pathname:t}=wu();return S.useEffect(()=>{window.scrollTo(0,0)},[t]),null},sr=S.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:kt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));sr.displayName="Card";const sc=S.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:kt("flex flex-col space-y-1.5 p-6",t),...e}));sc.displayName="CardHeader";const oc=S.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:kt("text-2xl font-semibold leading-none tracking-tight",t),...e}));oc.displayName="CardTitle";const EM=S.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:kt("text-sm text-muted-foreground",t),...e}));EM.displayName="CardDescription";const ac=S.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:kt("p-6 pt-0",t),...e}));ac.displayName="CardContent";const SM=S.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:kt("flex items-center p-6 pt-0",t),...e}));SM.displayName="CardFooter";const TM=""+new URL("hero-bottles_21_11zon-CrtAtyLr.webp",import.meta.url).href,Xb=""+new URL("IMG_20251019_000015_30_11zon-JDa5XsQ_.webp",import.meta.url).href,P0=""+new URL("IMG_20251016_140450_26_11zon-CxsX_5HG.webp",import.meta.url).href,k0=""+new URL("IMG_20251019_000126_32_11zon-CZwnAE4o.webp",import.meta.url).href,CM=""+new URL("bottle-gumtea-yellow_7_11zon-BBZzrXA1.webp",import.meta.url).href,hA=""+new URL("bottles-collection-gumtea_10_11zon-DUd9uTWj.webp",import.meta.url).href,IM=""+new URL("bottle-waterfall_12_11zon-CTS8EZsG.webp",import.meta.url).href,dA=""+new URL("bottle-restaurant-scene_9_11zon-FIUog9aS.webp",import.meta.url).href,PM=""+new URL("bottles-trio_11_11zon-BDXOO3e7.webp",import.meta.url).href,fA=""+new URL("bottle-dhaba-single_5_11zon-wY8SZuHA.webp",import.meta.url).href,kM=""+new URL("IMG_20251016_140424-pTjmHo40.png",import.meta.url).href,RM=""+new URL("premiumbottledesign111-C310dp2X.webp",import.meta.url).href,jM=""+new URL("submitquote-BZSLG9W1.webp",import.meta.url).href,LM=""+new URL("designready-CfJDbXhH.webp",import.meta.url).href,OM=""+new URL("productdelivery-BQvcLe3I.webp",import.meta.url).href,DM=()=>{const[t,e]=S.useState({features:!1,about:!1,howToOrder:!1,rotatingBottle:!1,nutrition:!1,collection:!1,testimonials:!1}),[n,r]=S.useState(0),[i,s]=S.useState(!0),[o,a]=S.useState(3),c={features:S.useRef(null),about:S.useRef(null),howToOrder:S.useRef(null),rotatingBottle:S.useRef(null),nutrition:S.useRef(null),collection:S.useRef(null),testimonials:S.useRef(null)};S.useEffect(()=>{const m=Object.entries(c).map(([y,p])=>{const N=new IntersectionObserver(([v])=>{v.isIntersecting&&e(x=>({...x,[y]:!0}))},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return p.current&&N.observe(p.current),N});return()=>{m.forEach(y=>y.disconnect())}},[]),S.useEffect(()=>{const m=()=>{window.innerWidth<768?a(1):window.innerWidth<1024?a(2):a(3)};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),S.useEffect(()=>{if(!i)return;const m=setInterval(()=>{r(y=>(y+1)%(6-o+1))},3e3);return()=>clearInterval(m)},[i,o]);const u=()=>{r(m=>(m+1)%(6-o+1)),s(!1)},h=()=>{r(m=>(m-1+(6-o+1))%(6-o+1)),s(!1)};return l.jsxs("div",{className:"min-h-screen",children:[l.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-hero pt-20",children:[l.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRoLTJ2LTJoMnYyem0wLTRoLTJ2LTJoMnYyem0wLTRoLTJ2LTJoMnYyem0wLTRoLTJ2LTJoMnYyem0wLTRoLTJ2LTJoMnYyem0wLTRoLTJ2LTJoMnYyeiIvPjwvZz48L2c+PC9zdmc+')] opacity-20"}),l.jsx("div",{className:"container mx-auto px-4 relative z-10",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-white leading-tight",children:"Customize Your Water Bottle for Your Brand"}),l.jsx("p",{className:"text-xl md:text-2xl text-white/90 leading-relaxed",children:"Get a 3D model view of your design on the bottle. Apply your design and see how it looks in real-time!"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[l.jsx(Me,{variant:"hero",size:"lg",className:"text-lg h-14 px-8 shadow-2xl",asChild:!0,children:l.jsxs(Ht,{to:"/booking",children:["Get Quote ",l.jsx($y,{className:"ml-2"})]})}),l.jsx(Me,{variant:"accent",size:"lg",className:"text-lg h-14 px-8 shadow-2xl",asChild:!0,children:l.jsxs(Ht,{to:"/try3d",children:["Personalize Bottle ",l.jsx(Pa,{className:"ml-2"})]})})]})]}),l.jsxs("div",{className:"relative animate-float",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-primary rounded-full blur-3xl opacity-30 animate-glow"}),l.jsx("img",{src:TM,alt:"Customized Water Bottles",className:"relative z-10 rounded-3xl shadow-2xl"})]})]})})]}),l.jsx("section",{ref:c.features,className:"py-24 bg-background",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:`text-center mb-16 ${t.features?"animate-slide-in-down":"opacity-0"}`,children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-primary bg-clip-text text-transparent",children:"Why Choose Aqua2Promo?"}),l.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Refresh your style with custom-labeled water bottles designed for excellence"})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:Ef,title:"Premium Quality",description:"Best quality bottles with superior durability and design",animation:"animate-slide-in-left"},{icon:Pa,title:"Custom Designs",description:"Fully customizable labels to match your brand identity",animation:"animate-fade-in-up"},{icon:Wy,title:"100% Recyclable",description:"Eco-friendly materials, preservative-free water",animation:"animate-fade-in-up"},{icon:Wf,title:"Trusted Brand",description:"Lucknow's #1 customized water bottle provider",animation:"animate-slide-in-right"}].map((m,y)=>l.jsxs(sr,{className:`p-8 hover:shadow-xl transition-all duration-300 hover:-translate-y-2 border-2 border-transparent hover:border-primary ${t.features?m.animation:"opacity-0"}`,style:{animationDelay:t.features?`${y*200}ms`:"0ms"},children:[l.jsx(m.icon,{className:"w-12 h-12 text-primary mb-4"}),l.jsx("h3",{className:"text-xl font-semibold mb-3",children:m.title}),l.jsx("p",{className:"text-muted-foreground",children:m.description})]},y))})]})}),l.jsx("section",{ref:c.about,className:"py-12 bg-muted/30",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center max-w-6xl mx-auto",children:[l.jsxs("div",{className:`space-y-6 text-center lg:text-left ${t.about?"animate-fade-in-left":"opacity-0"}`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-primary rounded-full flex items-center justify-center",children:l.jsx(Pa,{className:"w-6 h-6 text-white"})}),l.jsxs("h2",{className:"text-3xl md:text-4xl font-bold",children:["About ",l.jsx("span",{className:"bg-gradient-primary bg-clip-text text-transparent",children:"Aqua2Promo"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-base text-muted-foreground leading-relaxed",children:"We are Lucknow's premier customized water bottle brand, dedicated to delivering premium quality bottles with personalized branding solutions."}),l.jsx("p",{className:"text-base text-muted-foreground leading-relaxed",children:"Our mission is to help hotels, cafes, restaurants, and events stand out with beautifully designed, eco-friendly water bottles that carry your brand with pride."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 my-6",children:[l.jsxs("div",{className:"bg-white/50 backdrop-blur-sm rounded-lg p-4 border border-primary/20 hover:border-primary/40 transition-all duration-300 hover:scale-105",children:[l.jsx("div",{className:"text-2xl font-bold text-primary",children:"500+"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Happy Clients"})]}),l.jsxs("div",{className:"bg-white/50 backdrop-blur-sm rounded-lg p-4 border border-primary/20 hover:border-primary/40 transition-all duration-300 hover:scale-105",children:[l.jsx("div",{className:"text-2xl font-bold text-primary",children:"100%"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Eco-Friendly"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),l.jsx("span",{className:"text-muted-foreground",children:"Premium Quality Materials"})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),l.jsx("span",{className:"text-muted-foreground",children:"3D Visualization Technology"})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),l.jsx("span",{className:"text-muted-foreground",children:"Fast Delivery & Support"})]})]}),l.jsx(Me,{variant:"default",size:"lg",asChild:!0,className:"w-full sm:w-auto",children:l.jsxs(Ht,{to:"/about",children:["Learn More About Us ",l.jsx($y,{className:"ml-2"})]})})]}),l.jsx("div",{className:`grid grid-cols-2 gap-2 max-w-md mx-auto ${t.about?"animate-fade-in-right":"opacity-0"}`,style:{animationDelay:t.about?"300ms":"0ms"},children:[{img:k0,span:"col-span-2"},{img:P0,span:""},{img:Xb,span:""}].map((m,y)=>l.jsx("img",{src:m.img,alt:`Customized bottle ${y+1}`,className:`rounded-md shadow-sm hover:shadow-md transition-all duration-300 hover:scale-105 ${m.span}`},y))})]})})}),l.jsx("section",{ref:c.howToOrder,className:"py-24 bg-background",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:`text-center mb-16 ${t.howToOrder?"animate-fade-in-up":"opacity-0"}`,children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"How to Order"}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"Simple steps to get your custom bottles"})]}),l.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[{step:"01",title:"Submit Quote",desc:"Share your brand requirements and quantity",image:jM,animation:"animate-slide-in-left"},{step:"02",title:"Approve Design",desc:"Review and approve your custom label design",image:LM,animation:"animate-slide-in-center"},{step:"03",title:"Place Order",desc:"Confirm order and receive premium bottles",image:OM,animation:"animate-slide-in-right"}].map((m,y)=>l.jsxs("div",{className:`text-center space-y-4 group ${t.howToOrder?m.animation:"opacity-0"}`,style:{animationDelay:t.howToOrder?`${y*200}ms`:"0ms"},children:[l.jsxs("div",{className:"relative mb-6",children:[l.jsx("img",{src:m.image,alt:m.title,className:"w-72 h-72 circular-image shadow-lg group-hover:shadow-2xl transition-all duration-300 group-hover:scale-95 mx-auto"}),l.jsx("div",{className:"absolute -top-4 -right-4 w-20 h-20 rounded-full bg-gradient-primary text-white flex items-center justify-center text-3xl font-bold shadow-lg group-hover:scale-110 transition-transform",children:m.step})]}),l.jsx("h3",{className:"text-2xl font-semibold",children:m.title}),l.jsx("p",{className:"text-muted-foreground",children:m.desc})]},y))})]})}),l.jsx("section",{ref:c.rotatingBottle,className:"py-24 bg-gradient-to-br from-blue-50 to-indigo-100 relative overflow-hidden",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:`text-center mb-16 ${t.rotatingBottle?"animate-fade-in-up":"opacity-0"}`,children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4 text-gray-800",children:"Premium Water Bottles"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Experience the perfect blend of quality and design with our rotating bottle showcase"})]}),l.jsx("div",{className:`flex justify-center items-center ${t.rotatingBottle?"animate-scale-in":"opacity-0"}`,style:{animationDelay:t.rotatingBottle?"300ms":"0ms"},children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:`${t.rotatingBottle?"animate-spin-slow":""}`,children:l.jsx("img",{src:kM,alt:"Rotating Water Bottle",className:"w-90 h-96 object-contain drop-shadow-2xl bg-removed"})}),l.jsx("div",{className:"absolute -top-4 -left-4 w-8 h-8 bg-blue-500 rounded-full animate-bounce opacity-60"}),l.jsx("div",{className:"absolute -bottom-4 -right-4 w-6 h-6 bg-indigo-500 rounded-full animate-bounce opacity-60",style:{animationDelay:"0.5s"}}),l.jsx("div",{className:"absolute top-1/2 -left-8 w-4 h-4 bg-cyan-500 rounded-full animate-bounce opacity-60",style:{animationDelay:"1s"}}),l.jsx("div",{className:"absolute top-1/2 -right-8 w-5 h-5 bg-blue-400 rounded-full animate-bounce opacity-60",style:{animationDelay:"1.5s"}})]})}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mt-16 max-w-4xl mx-auto",children:[l.jsxs("div",{className:`text-center ${t.rotatingBottle?"animate-slide-in-left":"opacity-0"}`,style:{animationDelay:t.rotatingBottle?"600ms":"0ms"},children:[l.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Pa,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"360° Design"}),l.jsx("p",{className:"text-gray-600",children:"Full rotation view of our premium bottles"})]}),l.jsxs("div",{className:`text-center ${t.rotatingBottle?"animate-fade-in-up":"opacity-0"}`,style:{animationDelay:t.rotatingBottle?"700ms":"0ms"},children:[l.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Ef,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Premium Quality"}),l.jsx("p",{className:"text-gray-600",children:"High-grade materials and craftsmanship"})]}),l.jsxs("div",{className:`text-center ${t.rotatingBottle?"animate-slide-in-right":"opacity-0"}`,style:{animationDelay:t.rotatingBottle?"800ms":"0ms"},children:[l.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Wf,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Durable"}),l.jsx("p",{className:"text-gray-600",children:"Built to last with superior durability"})]})]})]})}),l.jsx("section",{ref:c.nutrition,className:"w-full bg-white py-16",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:`text-center mb-12 ${t.nutrition?"animate-fade-in-up":"opacity-0"}`,children:[l.jsx("p",{className:"text-blue-600 font-semibold tracking-wide uppercase",children:"What We Offer"}),l.jsx("h2",{className:"text-4xl font-bold mt-2",children:"Nutrition Rich Water"})]}),l.jsxs("div",{className:`flex flex-wrap justify-center items-center gap-16 px-6 ${t.nutrition?"animate-fade-in-up":"opacity-0"}`,style:{animationDelay:t.nutrition?"200ms":"0ms"},children:[l.jsxs("div",{className:"flex flex-col gap-12",children:[l.jsxs("div",{className:`flex items-start gap-4 max-w-sm ${t.nutrition?"animate-slide-in-left":"opacity-0"}`,style:{animationDelay:t.nutrition?"400ms":"0ms"},children:[l.jsx("div",{className:"bg-blue-600 p-4 rounded-md",children:l.jsx(dC,{size:40,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Vitamin B12"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"infusion and other minerals to make sure your health is taken care of."})]})]}),l.jsxs("div",{className:`flex items-start gap-4 max-w-sm ${t.nutrition?"animate-slide-in-left":"opacity-0"}`,style:{animationDelay:t.nutrition?"600ms":"0ms"},children:[l.jsx("div",{className:"bg-blue-600 p-4 rounded-md",children:l.jsx(pC,{size:40,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Ozonised"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"to keep everything natural and healthy for you."})]})]})]}),l.jsx("div",{className:`flex justify-center ${t.nutrition?"animate-zoom-in":"opacity-0"}`,style:{animationDelay:t.nutrition?"300ms":"0ms"},children:l.jsx("img",{src:RM,alt:"Water Bottle",className:"w-96 drop-shadow-lg transform transition-all duration-1000 bg-removed-alt",style:{transform:t.nutrition?"scale(1)":"scale(0.3)",transition:"transform 0.8s ease-out"}})}),l.jsxs("div",{className:"flex flex-col gap-12",children:[l.jsxs("div",{className:`flex items-start gap-4 max-w-sm ${t.nutrition?"animate-slide-in-right":"opacity-0"}`,style:{animationDelay:t.nutrition?"500ms":"0ms"},children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"EMF"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"EMF to keep the product fresh and safe from germs and bacteria."})]}),l.jsx("div",{className:"bg-blue-600 p-4 rounded-md",children:l.jsx(SC,{size:40,className:"text-white"})})]}),l.jsxs("div",{className:`flex items-start gap-4 max-w-sm ${t.nutrition?"animate-slide-in-right":"opacity-0"}`,style:{animationDelay:t.nutrition?"700ms":"0ms"},children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"GAC"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"to ensure that all harmful substances are removed from the product."})]}),l.jsx("div",{className:"bg-blue-600 p-4 rounded-md",children:l.jsx(Wy,{size:40,className:"text-white"})})]})]})]})]})}),l.jsx("section",{ref:c.collection,className:"py-24 bg-background",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:`text-center mb-16 ${t.collection?"animate-fade-in-up":"opacity-0"}`,children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Our Bottle Collection"}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"Diverse designs for every brand identity"})]}),l.jsxs("div",{className:"relative max-w-6xl mx-auto",children:[l.jsx("button",{onClick:h,className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10 bg-white/90 hover:bg-white shadow-lg rounded-full p-3 transition-all duration-300 hover:scale-110",children:l.jsx(I5,{className:"w-6 h-6 text-gray-700"})}),l.jsx("button",{onClick:u,className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-10 bg-white/90 hover:bg-white shadow-lg rounded-full p-3 transition-all duration-300 hover:scale-110",children:l.jsx(P5,{className:"w-6 h-6 text-gray-700"})}),l.jsx("div",{className:"overflow-hidden rounded-2xl",children:l.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${n*(100/o)}%)`},children:[{img:hA,name:"Gumtea Collection"},{img:CM,name:"Premium Single Bottle"},{img:dA,name:"Restaurant Series"},{img:PM,name:"Trio Collection"},{img:fA,name:"Dhaba Delight Special"},{img:IM,name:"Nature Edition"}].map((m,y)=>l.jsx("div",{className:"w-full sm:w-1/2 lg:w-1/3 flex-shrink-0 px-4",children:l.jsxs(sr,{className:`overflow-hidden hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 group ${t.collection?"animate-scale-in":"opacity-0"}`,children:[l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsx("img",{src:m.img,alt:m.name,className:"w-full h-80 object-cover group-hover:scale-110 transition-transform duration-500"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-primary opacity-0 group-hover:opacity-30 transition-opacity duration-300"})]}),l.jsx("div",{className:"p-6",children:l.jsx("h3",{className:"text-xl font-semibold text-center",children:m.name})})]})},y))})}),l.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:Array.from({length:6-o+1}).map((m,y)=>l.jsx("button",{onClick:()=>{r(y),s(!1)},className:`w-3 h-3 rounded-full transition-all duration-300 ${n===y?"bg-primary scale-125":"bg-gray-300 hover:bg-gray-400"}`},y))})]})]})}),l.jsx("section",{ref:c.testimonials,className:"py-24 bg-muted/30",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:`text-center mb-16 ${t.testimonials?"animate-fade-in-up":"opacity-0"}`,children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"What Our Customers Say"}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"Trusted by leading brands across Lucknow"})]}),l.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{name:"Gumtea Cafe",feedback:"Outstanding quality and amazing customization options!",logo:k0,rating:5},{name:"Dhaba Delight",feedback:"Perfect branding solution for our restaurant.",logo:P0,rating:5},{name:"Hotel Premium",feedback:"Professional service and premium bottles that impress our guests.",logo:Xb,rating:5}].map((m,y)=>l.jsxs(sr,{className:`p-8 hover:shadow-xl transition-all duration-300 hover:-translate-y-2 border-2 border-transparent hover:border-primary ${t.testimonials?"animate-slide-in-elastic":"opacity-0"}`,style:{animationDelay:t.testimonials?`${y*200}ms`:"0ms"},children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("img",{src:m.logo,alt:m.name,className:"w-16 h-16 rounded-full object-cover border-2 border-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-lg",children:m.name}),l.jsx("div",{className:"flex gap-1 mt-1",children:[...Array(m.rating)].map((p,N)=>l.jsx(Ef,{className:"w-4 h-4 fill-primary text-primary"},N))})]})]}),l.jsxs("p",{className:"text-lg italic text-muted-foreground",children:['"',m.feedback,'"']})]},y))})]})}),l.jsx("section",{className:"py-24 bg-background",children:l.jsx("div",{className:"container mx-auto px-4 text-center",children:l.jsxs("div",{className:"animate-slide-in-up-slow",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Ready to Customize Your Bottles?"}),l.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Get started today and see your brand come to life on premium water bottles"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(Me,{variant:"hero",size:"lg",className:"text-lg h-14 px-8",asChild:!0,children:l.jsx(Ht,{to:"/booking",children:"Book Appointment"})}),l.jsx(Me,{variant:"secondary",size:"lg",className:"text-lg h-14 px-8",asChild:!0,children:l.jsx(Ht,{to:"/products",children:"View Products"})})]})]})})})]})},MM=""+new URL("20250804_143613_1_11zon-Bnm7mjwj.webp",import.meta.url).href,FM=""+new URL("client_services_13_11zon-CRiDMNIX.webp",import.meta.url).href,VM=()=>{const[t,e]=S.useState({hero:!0,mission:!1,values:!1,team:!1,stats:!1}),[n,r]=S.useState(!1),[i,s]=S.useState("water-subscription"),o={mission:S.useRef(null),values:S.useRef(null),team:S.useRef(null),stats:S.useRef(null)};return S.useEffect(()=>{const a=Object.entries(o).map(([c,u])=>{const h=new IntersectionObserver(([m])=>{m.isIntersecting&&(e(y=>({...y,[c]:!0})),c==="team"&&r(!0))},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return u.current&&h.observe(u.current),h});return()=>{a.forEach(c=>c.disconnect())}},[]),l.jsxs("div",{className:"min-h-screen pt-20",children:[l.jsxs("section",{className:"py-16 bg-gradient-hero text-white",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-white opacity-95",children:l.jsx("svg",{className:"w-full h-full",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:l.jsx("path",{d:"M0,60 Q300,20 600,60 T1200,60 L1200,120 L0,120 Z",fill:"white"})})}),l.jsxs("div",{className:"absolute right-10 top-1/2 transform -translate-y-1/2 opacity-20",children:[l.jsx("div",{className:"w-24 h-36 bg-white/30 rounded-full border-4 border-white/40"}),l.jsx("div",{className:"w-6 h-6 bg-white/40 rounded-full mx-auto -mt-1"})]})]}),l.jsx("div",{className:"container mx-auto px-4 relative z-10",children:l.jsxs("div",{className:"max-w-3xl mx-auto text-center space-y-4",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold drop-shadow-lg text-white",children:"About Aqua2Promo"}),l.jsx("p",{className:"text-lg md:text-xl text-white/90 leading-relaxed drop-shadow-md",children:"Lucknow's Best Customized Water Bottle Brand"}),l.jsx("div",{className:"mt-6",children:l.jsx(Me,{variant:"accent",size:"lg",className:"text-lg h-12 px-6 shadow-2xl bg-white text-blue-600 hover:bg-white/90 border-2 border-white/20",asChild:!0,children:l.jsxs(Ht,{to:"/try3d",children:["Try Our 3D Customizer ",l.jsx(Pa,{className:"ml-2"})]})})})]})})]}),l.jsx("section",{ref:o.mission,className:"py-16 bg-background",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center",children:[l.jsxs("div",{className:`space-y-4 ${t.mission?"animate-slide-in-diagonal":"opacity-0"}`,children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Our Mission"}),l.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"At Aqua2Promo, we believe that every brand deserves to shine. Our mission is to provide premium, customizable water bottles that not only hydrate but also elevate your brand presence."}),l.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"We combine cutting-edge 3D visualization technology with traditional craftsmanship to deliver bottles that perfectly represent your vision. From hotels to cafes, restaurants to events, we help businesses make a lasting impression."}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[l.jsxs(sr,{className:"p-4 text-center border-2 border-blue-200 hover:border-blue-500 transition-colors bg-blue-50/50",children:[l.jsx("div",{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent mb-1",children:"500+"}),l.jsx("div",{className:"text-muted-foreground text-sm",children:"Happy Clients"})]}),l.jsxs(sr,{className:"p-4 text-center border-2 border-blue-200 hover:border-blue-500 transition-colors bg-blue-50/50",children:[l.jsx("div",{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent mb-1",children:"100%"}),l.jsx("div",{className:"text-muted-foreground text-sm",children:"Recyclable"})]})]})]}),l.jsxs("div",{className:`relative ${t.mission?"animate-fade-in-right":"opacity-0"}`,style:{animationDelay:t.mission?"300ms":"0ms"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-primary rounded-3xl blur-3xl opacity-20 animate-glow"}),l.jsx("img",{src:MM,alt:"3D Bottle Preview",className:"relative z-10 rounded-3xl shadow-2xl animate-float w-full h-full object-cover mx-auto"})]})]})})}),l.jsx("section",{ref:o.values,className:"py-16 bg-blue-50/30",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:`text-center mb-12 ${t.values?"animate-fade-in-up":"opacity-0"}`,children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-primary bg-clip-text text-transparent",children:"Our Values"}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"What drives us every day"})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:Ef,title:"Premium Quality",description:"We never compromise on the quality of our bottles and printing"},{icon:Pa,title:"Innovation",description:"Using 3D technology to revolutionize bottle customization"},{icon:Gg,title:"Customer First",description:"Your satisfaction and brand success is our top priority"},{icon:TC,title:"Sustainability",description:"100% recyclable materials for a greener tomorrow"}].map((a,c)=>l.jsxs(sr,{className:`p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-2 border-2 border-blue-200 hover:border-blue-500 bg-white/80 ${t.values?"animate-wave-in":"opacity-0"}`,style:{animationDelay:t.values?`${c*200}ms`:"0ms"},children:[l.jsx(a.icon,{className:"w-10 h-10 text-blue-600 mb-3"}),l.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:a.title}),l.jsx("p",{className:"text-muted-foreground text-sm",children:a.description})]},c))})]})}),l.jsx("section",{className:"py-24 bg-white",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[l.jsx("div",{className:"relative",children:l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:FM,alt:"Client Services",className:"w-full h-auto rounded-2xl shadow-2xl"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-2xl"})]})})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"w-1 h-8 bg-gradient-primary mr-4"}),l.jsx("span",{className:"text-blue-600 font-semibold text-lg",children:"EFFECTIVE"})]}),l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-4",children:"Client Services"}),l.jsx("p",{className:"text-lg text-gray-600",children:"Comprehensive solutions for your bottled water branding needs"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsxs("button",{onClick:()=>s(i==="store-ship"?null:"store-ship"),className:"w-full px-6 py-4 bg-gray-50 hover:bg-gray-100 transition-colors duration-200 flex items-center justify-between text-left",children:[l.jsx("span",{className:"font-semibold text-gray-700",children:"STORE & SHIP SERVICE"}),l.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${i==="store-ship"?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i==="store-ship"&&l.jsx("div",{className:"px-6 py-4 bg-gray-50",children:l.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We handle your entire production, securely store it at our facility, and ship it whenever you need — whether it's a single case or a full truckload. You only pay for shipping and handling, and we take care of the rest."})})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsxs("button",{onClick:()=>s(i==="water-subscription"?null:"water-subscription"),className:"w-full px-6 py-4 bg-gray-50 hover:bg-gray-100 transition-colors duration-200 flex items-center justify-between text-left",children:[l.jsx("span",{className:"font-semibold text-gray-700",children:"WATER SUBSCRIPTION"}),l.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${i==="water-subscription"?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i==="water-subscription"&&l.jsx("div",{className:"px-6 py-4 bg-gray-50",children:l.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Our flexible bottled water subscription makes it easy to manage your supply. Simply prepay for your desired quantity, schedule your delivery dates, and we'll ensure timely shipments according to your plan."})})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsxs("button",{onClick:()=>s(i==="distribution"?null:"distribution"),className:"w-full px-6 py-4 bg-gray-50 hover:bg-gray-100 transition-colors duration-200 flex items-center justify-between text-left",children:[l.jsx("span",{className:"font-semibold text-gray-700",children:"DISTRIBUTION & CO-PACKAGING"}),l.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${i==="distribution"?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i==="distribution"&&l.jsx("div",{className:"px-6 py-4 bg-gray-50",children:l.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We proudly collaborate with promotional distributors, bottlers, and fulfillment centers nationwide. Whether it's a one-time bulk order, weekly auto-shipment, or monthly replenishment, we offer a range of distribution options to keep your clients consistently stocked with their custom-branded water."})})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsxs("button",{onClick:()=>s(i==="branding"?null:"branding"),className:"w-full px-6 py-4 bg-gray-50 hover:bg-gray-100 transition-colors duration-200 flex items-center justify-between text-left",children:[l.jsx("span",{className:"font-semibold text-gray-700",children:"POWERFUL BRANDING"}),l.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${i==="branding"?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i==="branding"&&l.jsx("div",{className:"px-6 py-4 bg-gray-50",children:l.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Custom-labeled bottled water is an excellent promotional product that reinforces brand visibility. Partnering with us provides your organization with a profitable, high-margin branding solution that leaves a lasting impression."})})]})]})]})]})})}),l.jsxs("section",{ref:o.team,className:"py-24 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-blue-200/30 rounded-full blur-xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-purple-200/30 rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}}),l.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-indigo-200/30 rounded-full blur-xl animate-pulse",style:{animationDelay:"2s"}})]}),l.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[l.jsxs("div",{className:`text-center mb-20 ${t.team?"animate-slide-in-down":"opacity-0"}`,children:[l.jsx("div",{className:"inline-block mb-6",children:l.jsx("div",{className:"w-16 h-16 bg-gradient-primary rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:l.jsx(Pa,{className:"w-8 h-8 text-white"})})}),l.jsx("h2",{className:"text-4xl md:text-6xl font-bold mb-4 bg-gradient-primary bg-clip-text text-transparent",children:"Our Process"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto mb-8",children:"From design to delivery - a seamless journey to your perfect bottle"}),l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsx("div",{className:"flex justify-center items-center mb-4",children:l.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"6 Simple Steps"})}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-primary rounded-full transition-all duration-1000 ease-out",style:{width:n?"100%":"0%"}})})]})]}),l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Design Pickup",desc:"Share your brand logo and requirements with our team",icon:"📋",color:"from-blue-500 to-cyan-500",delay:"200ms",position:"top-left"},{title:"Label Design",desc:"Our designers create a custom label that matches your vision",icon:"🎨",color:"from-blue-600 to-indigo-500",delay:"400ms",position:"top-center"},{title:"3D Preview",desc:"See your design on a 3D bottle model before production",icon:"🔍",color:"from-cyan-500 to-blue-500",delay:"600ms",position:"top-right"},{title:"Label Printing",desc:"High-quality printing on premium waterproof material",icon:"🖨️",color:"from-indigo-500 to-blue-600",delay:"800ms",position:"bottom-right"},{title:"Packaging",desc:"Careful packaging to ensure safe delivery",icon:"📦",color:"from-blue-500 to-cyan-500",delay:"1000ms",position:"bottom-center"},{title:"Shipping",desc:"Fast and reliable delivery to your location",icon:"🚚",color:"from-cyan-500 to-blue-500",delay:"1200ms",position:"bottom-left"}].map((a,c)=>l.jsx("div",{className:`group relative transition-all duration-700 ease-out ${n?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-8"}`,style:{animationDelay:n?`${c*100}ms`:"0ms"},children:l.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-500 group-hover:-translate-y-3 border border-white/20 relative z-20",children:[l.jsx("div",{className:"absolute -top-4 -right-4 w-14 h-14 bg-gradient-primary text-white rounded-full flex items-center justify-center text-xl font-bold shadow-2xl group-hover:scale-125 transition-all duration-300",children:c+1}),l.jsx("div",{className:`w-24 h-24 bg-gradient-to-r ${a.color} rounded-2xl flex items-center justify-center text-5xl mb-6 mx-auto group-hover:scale-125 transition-all duration-500 shadow-2xl`,children:a.icon}),l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800 group-hover:text-primary transition-colors",children:a.title}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:a.desc})]})]})},c))}),l.jsx("div",{className:`mt-16 ${t.team?"animate-fade-in-up":"opacity-0"}`,style:{animationDelay:t.team?"500ms":"0ms"},children:l.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-full p-4 shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold text-gray-700 mb-2",children:[l.jsx("span",{children:"Start"}),l.jsx("span",{children:"Complete"})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-green-500 rounded-full animate-pulse"})})]})})]})]})]}),l.jsx("section",{className:"py-24 bg-gradient-primary text-white",children:l.jsx("div",{className:"container mx-auto px-4 text-center",children:l.jsxs("div",{className:"animate-pulse-in",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Let's Create Something Amazing"}),l.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Ready to see your brand on premium customized water bottles?"}),l.jsx(Me,{variant:"accent",size:"lg",className:"text-lg h-14 px-8 bg-white text-primary hover:bg-white/90",asChild:!0,children:l.jsx(Ht,{to:"/booking",children:"Get Started Today"})})]})})})]})},BM=""+new URL("bottle-gumtea_6_11zon-DNNom-HK.webp",import.meta.url).href,UM=""+new URL("IMG_20251016_140748_28_11zon-hyn-zX-H.webp",import.meta.url).href,zM=""+new URL("bottle-dhaba_4_11zon-DxdbGvMh.webp",import.meta.url).href,qM=""+new URL("rasoicollection-BS5lTqpO.webp",import.meta.url).href,$M=""+new URL("yourbrandyourlogo-DrlinIvK.webp",import.meta.url).href,HM=()=>{const[t,e]=S.useState({hero:!0,products:!1,features:!1,cta:!1}),[n,r]=S.useState(0),[i,s]=S.useState(!0),o={products:S.useRef(null),features:S.useRef(null),cta:S.useRef(null)},a=[{img:hA,brand:"Gumtea Cafe"},{img:dA,brand:"Rasoi Indian Restaurant"},{img:fA,brand:"Dhaba Delight (Restaurant & Cafe)"},{img:BM,brand:"Gumtea Collection"},{img:qM,brand:"Rasoi Collection"},{img:zM,brand:"Dhaba Collection"}],c=3,u=Math.ceil(a.length/c);S.useEffect(()=>{const N=Object.entries(o).map(([v,x])=>{const A=new IntersectionObserver(([C])=>{C.isIntersecting&&e(L=>({...L,[v]:!0}))},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return x.current&&A.observe(x.current),A});return()=>{N.forEach(v=>v.disconnect())}},[]),S.useEffect(()=>{if(!i)return;const N=setInterval(()=>{r(v=>(v+1)%u)},3e3);return()=>clearInterval(N)},[i,u]);const h=()=>{r(N=>(N+1)%u),s(!1)},m=()=>{r(N=>(N-1+u)%u),s(!1)},y=N=>{r(N),s(!1)},p=[{id:1,name:"Square Shape Packaged Drinking Water - 500ml",description:"Perfect for cafes and restaurants. Classic design with full customization.",image:P0,features:["500ml capacity","BPA-free plastic","Full-wrap label area","Leak-proof cap"],price:"Contact for pricing"},{id:2,name:"Square Shape Packaged Drinking Water - 1L",description:"Ideal for hotels and events. Sleek and elegant design.",image:UM,features:["1 Liter capacity","Premium finish","Custom label design","Recyclable material"],price:"Contact for pricing"},{id:3,name:"Pyramid Shape Packaged Drinking Water  - 500ml & 1L",description:"Unique pyramid design for standout branding.",image:k0,features:["500ml & 1 Liter capacity","Distinctive shape","360° branding area","Eye-catching design"],price:"Contact for pricing"}];return l.jsxs("div",{className:"min-h-screen pt-20",children:[l.jsx("section",{className:"py-24 bg-gradient-hero text-white",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-6 animate-fade-in",children:[l.jsx("h1",{className:"text-5xl md:text-6xl font-bold",children:"Products"}),l.jsx("p",{className:"text-xl md:text-2xl text-white/90 leading-relaxed",children:"Premium customizable water bottles for every need"})]})})}),l.jsx("section",{ref:o.products,className:"py-24 bg-background",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"OUR CUSTOMISED BOTTLE TYPES"}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"Choose from our premium collection of customizable water bottles"})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:p.map((N,v)=>l.jsxs(sr,{className:`overflow-hidden hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 ${t.products?"animate-scale-in":"opacity-0"}`,style:{animationDelay:t.products?`${v*200}ms`:"0ms"},children:[l.jsxs("div",{className:"relative overflow-hidden group",children:[l.jsx("img",{src:N.image,alt:N.name,className:"w-full h-80 object-cover group-hover:scale-110 transition-transform duration-500"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-primary opacity-0 group-hover:opacity-20 transition-opacity duration-300"})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsx("h3",{className:"text-2xl font-bold",children:N.name}),l.jsx("p",{className:"text-muted-foreground",children:N.description}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-sm text-primary",children:"Features:"}),l.jsx("ul",{className:"space-y-1",children:N.features.map((x,A)=>l.jsxs("li",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),x]},A))})]}),l.jsxs("div",{className:"pt-4 flex flex-col gap-3",children:[l.jsx("div",{className:"text-lg font-semibold text-primary",children:N.price}),l.jsx(Me,{variant:"hero",className:"w-full",asChild:!0,children:l.jsxs(Ht,{to:"/try3d",children:["Try in Your Design ",l.jsx(Pa,{className:"ml-2"})]})}),l.jsx(Me,{variant:"outline",className:"w-full",asChild:!0,children:l.jsxs(Ht,{to:"/booking",children:["Request Quote ",l.jsx(mC,{className:"ml-2"})]})})]})]})]},N.id))})]})}),l.jsx("section",{ref:o.features,className:"py-24 bg-muted/30",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:`text-center mb-16 ${t.features?"animate-zoom-in":"opacity-0"}`,children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Our Customers"}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"Trusted by top brands across the region"})]}),l.jsxs("div",{className:"relative",onMouseEnter:()=>s(!1),onMouseLeave:()=>s(!0),children:[l.jsx("button",{onClick:m,className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 w-12 h-12 bg-white/90 hover:bg-white rounded-full shadow-lg flex items-center justify-center transition-all duration-300 hover:scale-110","aria-label":"Previous slide",children:l.jsx(I5,{className:"w-6 h-6 text-primary"})}),l.jsx("button",{onClick:h,className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 w-12 h-12 bg-white/90 hover:bg-white rounded-full shadow-lg flex items-center justify-center transition-all duration-300 hover:scale-110","aria-label":"Next slide",children:l.jsx(P5,{className:"w-6 h-6 text-primary"})}),l.jsx("div",{className:"overflow-hidden",children:l.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${n*100}%)`},children:Array.from({length:u}).map((N,v)=>l.jsx("div",{className:"w-full flex-shrink-0",children:l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 px-4",children:a.slice(v*c,(v+1)*c).map((x,A)=>l.jsxs(sr,{className:`overflow-hidden hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 group ${t.features?"animate-slide-in-bounce":"opacity-0"}`,style:{animationDelay:t.features?`${A*150}ms`:"0ms"},children:[l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsx("img",{src:x.img,alt:x.brand,className:"w-full h-80 object-cover group-hover:scale-110 transition-transform duration-500"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-primary opacity-0 group-hover:opacity-20 transition-opacity duration-300"})]}),l.jsx("div",{className:"p-6 text-center",children:l.jsx("h3",{className:"text-xl font-bold",children:x.brand})})]},`${v}-${A}`))})},v))})}),l.jsx("div",{className:"flex justify-center mt-8 gap-2",children:Array.from({length:u}).map((N,v)=>l.jsx("button",{onClick:()=>y(v),className:`w-3 h-3 rounded-full transition-all duration-300 ${v===n?"bg-primary scale-125":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to slide ${v+1}`},v))})]})]})}),l.jsx("section",{ref:o.cta,className:"py-24 bg-gradient-to-br from-blue-50 to-indigo-100",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:`text-center mb-16 ${t.cta?"animate-slide-in-down":"opacity-0"}`,children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Your Brand, Your Logo"}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"Transform your vision into reality with our premium customization services"})]}),l.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-2xl mb-16",children:[l.jsx("img",{src:$M,alt:"Your Brand Your Logo - Custom Water Bottles",className:"w-full h-auto object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),l.jsxs("div",{className:"absolute bottom-8 left-8 right-8 text-white",children:[l.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Premium Customization"}),l.jsx("p",{className:"text-lg md:text-xl text-white/90 max-w-2xl",children:"From concept to creation, we bring your brand to life with high-quality custom water bottles that make a lasting impression."})]})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{title:"Custom Design",description:"Professional design services to create the perfect label for your brand",icon:"🎨"},{title:"Premium Quality",description:"High-grade materials ensuring durability and professional appearance",icon:"⭐"},{title:"Fast Delivery",description:"Quick turnaround times to meet your business deadlines",icon:"⚡"},{title:"Bulk Orders",description:"Competitive pricing for large quantity orders with volume discounts",icon:"📦"}].map((N,v)=>l.jsxs(sr,{className:`p-6 text-center hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-primary ${t.cta?"animate-flip-in":"opacity-0"}`,style:{animationDelay:t.cta?`${v*150}ms`:"0ms"},children:[l.jsx("div",{className:"text-4xl mb-4",children:N.icon}),l.jsx("h3",{className:"text-xl font-semibold mb-3",children:N.title}),l.jsx("p",{className:"text-muted-foreground",children:N.description})]},v))}),l.jsx("div",{className:"mt-16 p-8 bg-white/80 backdrop-blur-sm rounded-2xl border border-white/20 shadow-xl",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-2xl font-bold text-primary mb-4",children:"Ready to Get Started?"}),l.jsxs("p",{className:"text-lg text-muted-foreground mb-6",children:[l.jsx("strong",{children:"Minimum Order:"})," 30 Peti (after confirmation)"]}),l.jsx("p",{className:"text-muted-foreground mb-8",children:"Contact us for bulk pricing and custom requirements. We're here to help bring your vision to life!"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(Me,{variant:"hero",size:"lg",className:"text-lg h-12 px-8",asChild:!0,children:l.jsx(Ht,{to:"/try3d",children:"Start Customizing"})}),l.jsx(Me,{variant:"outline",size:"lg",className:"text-lg h-12 px-8",asChild:!0,children:l.jsx(Ht,{to:"/contact",children:"Get Quote"})})]})]})})]})}),l.jsx("section",{className:"py-24 bg-gradient-primary text-white",children:l.jsx("div",{className:"container mx-auto px-4 text-center",children:l.jsxs("div",{className:"animate-slide-in-elastic",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Ready to See Your Design?"}),l.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Use our 3D customization tool to visualize your bottles before ordering"}),l.jsx(Me,{variant:"accent",size:"lg",className:"text-lg h-14 px-8 bg-white text-primary hover:bg-white/90",asChild:!0,children:l.jsx(Ht,{to:"/try3d",children:"Customize Now"})})]})})})]})},WM=()=>{const[t,e]=S.useState({firstName:"",lastName:"",email:"",phone:"",businessType:"",quantity:"",message:""}),[n,r]=S.useState(!1),[i,s]=S.useState(""),o=c=>{const{name:u,value:h}=c.target;e(m=>({...m,[u]:h}))},a=async c=>{c.preventDefault(),r(!0),s("");try{const u="https://aiwillendjobs.com/api";console.log("Sending request to:",`${u}/contact`),console.log("Form data:",t);const h=await fetch(`${u}/contact`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});console.log("Response status:",h.status),console.log("Response ok:",h.ok),h.ok?(s("success"),e({firstName:"",lastName:"",email:"",phone:"",businessType:"",quantity:"",message:""})):s("error")}catch(u){console.error("Error submitting form:",u),s("error")}finally{r(!1)}};return l.jsxs("div",{className:"min-h-screen pt-20",children:[l.jsx("section",{className:"py-16 bg-gradient-hero text-white",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-6 animate-fade-in",children:[l.jsx("h1",{className:"text-5xl md:text-6xl font-bold",children:"Contact Us"}),l.jsx("p",{className:"text-xl md:text-2xl text-white/90 leading-relaxed",children:"Get in touch with our team for quotes and inquiries"})]})})}),l.jsx("section",{className:"py-16 bg-background",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[l.jsx("div",{children:l.jsxs(sr,{className:"p-8",children:[l.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Send Us a Message"}),l.jsxs("form",{onSubmit:a,className:"space-y-6",children:[i==="success"&&l.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg",children:"✅ Thank you! We'll contact you within 24 hours."}),i==="error"&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:"❌ Something went wrong. Please try again."}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"First Name *"}),l.jsx("input",{type:"text",name:"firstName",value:t.firstName,onChange:o,placeholder:"John",required:!0,className:"w-full px-4 py-3 rounded-lg border border-border focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Last Name *"}),l.jsx("input",{type:"text",name:"lastName",value:t.lastName,onChange:o,placeholder:"Doe",required:!0,className:"w-full px-4 py-3 rounded-lg border border-border focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-colors"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Email Address *"}),l.jsx("input",{type:"email",name:"email",value:t.email,onChange:o,placeholder:"john@example.com",required:!0,className:"w-full px-4 py-3 rounded-lg border border-border focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Phone Number *"}),l.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:o,placeholder:"+91 XXX XXX XXXX",required:!0,className:"w-full px-4 py-3 rounded-lg border border-border focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Business Type"}),l.jsxs("select",{name:"businessType",value:t.businessType,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-border focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-colors",children:[l.jsx("option",{value:"",children:"Select your business type (Optional)"}),l.jsx("option",{value:"Hotel",children:"Hotel"}),l.jsx("option",{value:"Cafe/Restaurant",children:"Cafe/Restaurant"}),l.jsx("option",{value:"Event Company",children:"Event Company"}),l.jsx("option",{value:"Corporate",children:"Corporate"}),l.jsx("option",{value:"Other",children:"Other"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Quantity Required (Optional)"}),l.jsx("input",{type:"number",name:"quantity",value:t.quantity,onChange:o,placeholder:"1000 (Optional)",className:"w-full px-4 py-3 rounded-lg border border-border focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Message (Optional)"}),l.jsx("textarea",{rows:4,name:"message",value:t.message,onChange:o,placeholder:"Tell us about your requirements...",className:"w-full px-4 py-3 rounded-lg border border-border focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-colors resize-none"})]}),l.jsx(Me,{type:"submit",variant:"hero",size:"lg",className:"w-full text-lg h-14",disabled:n,children:n?"Sending...":"Send Message"})]})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(sr,{className:"p-8",children:[l.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Contact Information"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(L5,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-1",children:"Address"}),l.jsx("p",{className:"text-muted-foreground",children:"9b, 169B, Vrindavan Colony, Lucknow, Uttar Pradesh 226029"})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(Op,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-1",children:"Phone"}),l.jsx("p",{className:"text-muted-foreground",children:"+91 8858146872"})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(iu,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-1",children:"Email"}),l.jsx("p",{className:"text-muted-foreground",children:"aqua2promo@gmail.com"})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(R5,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-1",children:"Business Hours"}),l.jsxs("p",{className:"text-muted-foreground",children:["Monday - Saturday: 9:00 AM - 6:00 PM",l.jsx("br",{}),"Sunday: Closed"]})]})]})]})]}),l.jsx(sr,{className:"p-4 overflow-hidden",children:l.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d911.626542321147!2d80.95638010839401!3d26.766218519455894!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x399bfb6d2d29d6d9%3A0x359d6baa22e4193c!2s9b%2C%20169B%2C%20Vrindavan%20Colony%2C%20Lucknow%2C%20Uttar%20Pradesh%20226029!5e0!3m2!1sen!2sin!4v1760837643664!5m2!1sen!2sin",width:"100%",height:"300",style:{border:0,borderRadius:"0.5rem"},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Aqua2Promo Location"})})]})]})})}),l.jsx("section",{className:"py-16 bg-gradient-primary text-white",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Prefer to Book an Appointment?"}),l.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Schedule a consultation with our team to discuss your requirements"}),l.jsx(Me,{variant:"accent",size:"lg",className:"text-lg h-14 px-8 bg-white text-primary hover:bg-white/90",asChild:!0,children:l.jsx("a",{href:"/booking",children:"Book Appointment"})})]})})]})},GM=()=>{const[t,e]=S.useState({fullName:"",companyName:"",email:"",phone:"",preferredDate:"",preferredTime:"",meetingType:"",businessType:"",estimatedQuantity:"",bottlePreferences:[],additionalRequirements:""}),[n,r]=S.useState(!1),[i,s]=S.useState(""),o=c=>{const{name:u,value:h,type:m,checked:y}=c.target;e(m==="checkbox"?p=>({...p,bottlePreferences:y?[...p.bottlePreferences,h]:p.bottlePreferences.filter(N=>N!==h)}):p=>({...p,[u]:h}))},a=async c=>{c.preventDefault(),r(!0),s("");try{const u="https://aiwillendjobs.com/api";console.log("Sending booking request to:",`${u}/booking`),console.log("Form data:",t);const h=await fetch(`${u}/booking`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});console.log("Response status:",h.status),console.log("Response ok:",h.ok),h.ok?(s("success"),e({fullName:"",companyName:"",email:"",phone:"",preferredDate:"",preferredTime:"",meetingType:"",businessType:"",estimatedQuantity:"",bottlePreferences:[],additionalRequirements:""})):s("error")}catch(u){console.error("Error submitting booking form:",u),s("error")}finally{r(!1)}};return l.jsxs("div",{className:"min-h-screen pt-20",children:[l.jsx("section",{className:"py-16 bg-gradient-hero text-white",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-6 animate-fade-in",children:[l.jsx("h1",{className:"text-5xl md:text-6xl font-bold",children:"Book an Appointment"}),l.jsx("p",{className:"text-xl md:text-2xl text-white/90 leading-relaxed",children:"Schedule a consultation to discuss your customization needs"})]})})}),l.jsx("section",{className:"py-16 bg-background",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs(sr,{className:"p-8 md:p-12",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Schedule Your Consultation"}),l.jsx("p",{className:"text-muted-foreground text-lg",children:"Fill out the form below and our team will get back to you within 24 hours to confirm your appointment."})]}),l.jsxs("form",{onSubmit:a,className:"space-y-8",children:[i==="success"&&l.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg",children:"✅ Thank you! Your appointment has been booked. We'll contact you within 24 hours to confirm."}),i==="error"&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:"❌ Something went wrong. Please try again."}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[l.jsx(Gg,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Full Name *"}),l.jsx("input",{type:"text",name:"fullName",value:t.fullName,onChange:o,placeholder:"John Doe",required:!0,className:"w-full px-4 py-3 rounded-lg border border-border focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Company Name *"}),l.jsx("input",{type:"text",name:"companyName",value:t.companyName,onChange:o,placeholder:"Acme Hotels",required:!0,className:"w-full px-4 py-3 rounded-lg border border-border focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-colors"})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Email Address *"}),l.jsx("input",{type:"email",name:"email",value:t.email,onChange:o,placeholder:"john@example.com",required:!0,className:"w-full px-4 py-3 rounded-lg border border-border focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Phone Number *"}),l.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:o,placeholder:"+91 XXX XXX XXXX",required:!0,className:"w-full px-4 py-3 rounded-lg border border-border focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-colors"})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[l.jsx(Hy,{className:"w-5 h-5 text-primary"}),"Appointment Details"]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Preferred Date *"}),l.jsx("input",{type:"date",name:"preferredDate",value:t.preferredDate,onChange:o,required:!0,className:"w-full px-4 py-3 rounded-lg border border-border focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Preferred Time *"}),l.jsxs("select",{name:"preferredTime",value:t.preferredTime,onChange:o,required:!0,className:"w-full px-4 py-3 rounded-lg border border-border focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-colors",children:[l.jsx("option",{value:"",children:"Select time"}),l.jsx("option",{value:"9:00",children:"9:00 AM"}),l.jsx("option",{value:"10:00",children:"10:00 AM"}),l.jsx("option",{value:"11:00",children:"11:00 AM"}),l.jsx("option",{value:"12:00",children:"12:00 PM"}),l.jsx("option",{value:"14:00",children:"2:00 PM"}),l.jsx("option",{value:"15:00",children:"3:00 PM"}),l.jsx("option",{value:"16:00",children:"4:00 PM"}),l.jsx("option",{value:"17:00",children:"5:00 PM"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Meeting Type *"}),l.jsxs("select",{name:"meetingType",value:t.meetingType,onChange:o,required:!0,className:"w-full px-4 py-3 rounded-lg border border-border focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-colors",children:[l.jsx("option",{value:"",children:"Select meeting type"}),l.jsx("option",{value:"in-person",children:"In-Person Meeting"}),l.jsx("option",{value:"phone",children:"Phone Call"}),l.jsx("option",{value:"video",children:"Video Conference"})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[l.jsx(Rh,{className:"w-5 h-5 text-primary"}),"Project Details"]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Business Type *"}),l.jsxs("select",{name:"businessType",value:t.businessType,onChange:o,required:!0,className:"w-full px-4 py-3 rounded-lg border border-border focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-colors",children:[l.jsx("option",{value:"",children:"Select business type"}),l.jsx("option",{value:"hotel",children:"Hotel"}),l.jsx("option",{value:"cafe",children:"Cafe/Restaurant"}),l.jsx("option",{value:"event",children:"Event Company"}),l.jsx("option",{value:"corporate",children:"Corporate"}),l.jsx("option",{value:"other",children:"Other"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Estimated Quantity *"}),l.jsx("input",{type:"number",name:"estimatedQuantity",value:t.estimatedQuantity,onChange:o,placeholder:"1000",required:!0,className:"w-full px-4 py-3 rounded-lg border border-border focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-colors"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Bottle Preference"}),l.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Standard","Pyramid","Square"].map(c=>l.jsxs("label",{className:"flex items-center gap-2 p-3 border-2 border-border rounded-lg hover:border-primary transition-colors cursor-pointer",children:[l.jsx("input",{type:"checkbox",value:c,checked:t.bottlePreferences.includes(c),onChange:o,className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium",children:c})]},c))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Additional Requirements"}),l.jsx("textarea",{rows:5,name:"additionalRequirements",value:t.additionalRequirements,onChange:o,placeholder:"Tell us more about your project requirements, deadlines, special requests, etc...",className:"w-full px-4 py-3 rounded-lg border border-border focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-colors resize-none"})]})]}),l.jsx("div",{className:"pt-4",children:l.jsxs(Me,{variant:"hero",size:"lg",className:"w-full text-lg h-14",type:"submit",disabled:n,children:[l.jsx(R5,{className:"mr-2"}),n?"Booking...":"Book Appointment"]})})]})]}),l.jsx("div",{className:"grid md:grid-cols-3 gap-6 mt-8",children:[{icon:Hy,title:"Flexible Scheduling",description:"Choose a time that works best for you"},{icon:Gg,title:"Expert Consultation",description:"Talk with our design specialists"},{icon:Rh,title:"Custom Quote",description:"Get a detailed quote for your project"}].map((c,u)=>l.jsxs(sr,{className:"p-6 text-center hover:shadow-lg transition-all",children:[l.jsx(c.icon,{className:"w-10 h-10 text-primary mx-auto mb-3"}),l.jsx("h4",{className:"font-semibold mb-2",children:c.title}),l.jsx("p",{className:"text-sm text-muted-foreground",children:c.description})]},u))})]})})}),l.jsx("section",{className:"py-16 bg-gradient-primary text-white",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Have Questions?"}),l.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Feel free to contact us directly for immediate assistance"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(Me,{variant:"accent",size:"lg",className:"text-lg h-14 px-8 bg-white text-primary hover:bg-white/90",asChild:!0,children:l.jsx("a",{href:"/contact",children:"Contact Us"})}),l.jsx(Me,{variant:"secondary",size:"lg",className:"text-lg h-14 px-8",asChild:!0,children:l.jsx("a",{href:"tel:+918858146872",children:"Call Now"})})]})]})})]})},KM=Symbol(),v2=Symbol(),fh="a",pA="f",Qb="p",mA="c",gA="t",b2="h",Th="w",x2="o",w2="k";let YM=(t,e)=>new Proxy(t,e);const R0=Object.getPrototypeOf,j0=new WeakMap,yA=t=>t&&(j0.has(t)?j0.get(t):R0(t)===Object.prototype||R0(t)===Array.prototype),xp=t=>typeof t=="object"&&t!==null,JM=t=>Object.values(Object.getOwnPropertyDescriptors(t)).some(e=>!e.configurable&&!e.writable),XM=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(R0(t),e)},QM=(t,e)=>{const n={[pA]:e};let r=!1;const i=(a,c)=>{if(!r){let u=n[fh].get(t);if(u||(u={},n[fh].set(t,u)),a===Th)u[Th]=!0;else{let h=u[a];h||(h=new Set,u[a]=h),h.add(c)}}},s=()=>{r=!0,n[fh].delete(t)},o={get(a,c){return c===v2?t:(i(w2,c),vA(Reflect.get(a,c),n[fh],n[mA],n[gA]))},has(a,c){return c===KM?(s(),!0):(i(b2,c),Reflect.has(a,c))},getOwnPropertyDescriptor(a,c){return i(x2,c),Reflect.getOwnPropertyDescriptor(a,c)},ownKeys(a){return i(Th),Reflect.ownKeys(a)}};return e&&(o.set=o.deleteProperty=()=>!1),[o,n]},_2=t=>t[v2]||t,vA=(t,e,n,r)=>{if(!yA(t))return t;let i=r&&r.get(t);if(!i){const c=_2(t);JM(c)?i=[c,XM(c)]:i=[c],r==null||r.set(t,i)}const[s,o]=i;let a=n&&n.get(s);return(!a||a[1][pA]!==!!o)&&(a=QM(s,!!o),a[1][Qb]=YM(o||s,a[0]),n&&n.set(s,a)),a[1][fh]=e,a[1][mA]=n,a[1][gA]=r,a[1][Qb]},ZM=(t,e)=>{const n=Reflect.ownKeys(t),r=Reflect.ownKeys(e);return n.length!==r.length||n.some((i,s)=>i!==r[s])},bA=(t,e,n,r,i=Object.is)=>{if(i(t,e))return!1;if(!xp(t)||!xp(e))return!0;const s=n.get(_2(t));if(!s)return!0;if(r){if(r.get(t)===e)return!1;r.set(t,e)}let o=null;for(const a of s[b2]||[])if(o=Reflect.has(t,a)!==Reflect.has(e,a),o)return o;if(s[Th]===!0){if(o=ZM(t,e),o)return o}else for(const a of s[x2]||[]){const c=!!Reflect.getOwnPropertyDescriptor(t,a),u=!!Reflect.getOwnPropertyDescriptor(e,a);if(o=c!==u,o)return o}for(const a of s[w2]||[])if(o=bA(t[a],e[a],n,r,i),o)return o;if(o===null)throw new Error("invalid used");return o},e9=t=>yA(t)&&t[v2]||null,Zb=(t,e=!0)=>{j0.set(t,e)},t9=(t,e,n)=>{const r=[],i=new WeakSet,s=(o,a)=>{var c,u,h;if(i.has(o))return;xp(o)&&i.add(o);const m=xp(o)&&e.get(_2(o));if(m){if((c=m[b2])===null||c===void 0||c.forEach(y=>{const p=`:has(${String(y)})`;r.push(a?[...a,p]:[p])}),m[Th]===!0){const y=":ownKeys";r.push(a?[...a,y]:[y])}else(u=m[x2])===null||u===void 0||u.forEach(y=>{const p=`:hasOwn(${String(y)})`;r.push(a?[...a,p]:[p])});(h=m[w2])===null||h===void 0||h.forEach(y=>{"value"in(Object.getOwnPropertyDescriptor(o,y)||{})&&s(o[y],a?[...a,y]:[y])})}else a&&r.push(a)};return s(t),r},wp={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_PROJECT_ID:"ogfwyxmscrfdhfzhvfku",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9nZnd5eG1zY3JmZGhmemh2Zmt1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA0NTM1NTUsImV4cCI6MjA3NjAyOTU1NX0.QTWUhOG1wdLW3F_dyJmClqba8KoJX2CrbznbFs15oAw",VITE_SUPABASE_URL:"https://ogfwyxmscrfdhfzhvfku.supabase.co"},N2=t=>typeof t=="object"&&t!==null,n9=t=>N2(t)&&!A2.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),xA=(t,e)=>{const n=ex.get(t);if((n==null?void 0:n[0])===e)return n[1];const r=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return Zb(r,!0),ex.set(t,[e,r]),Reflect.ownKeys(t).forEach(i=>{if(Object.getOwnPropertyDescriptor(r,i))return;const s=Reflect.get(t,i),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,i),a={value:s,enumerable:o,configurable:!0};if(A2.has(s))Zb(s,!1);else if(Wl.has(s)){const[c,u]=Wl.get(s);a.value=xA(c,u())}Object.defineProperty(r,i,a)}),Object.preventExtensions(r)},r9=(t,e,n,r)=>({deleteProperty(i,s){const o=Reflect.get(i,s);n(s);const a=Reflect.deleteProperty(i,s);return a&&r(["delete",[s],o]),a},set(i,s,o,a){const c=!t()&&Reflect.has(i,s),u=Reflect.get(i,s,a);if(c&&(tx(u,o)||_p.has(o)&&tx(u,_p.get(o))))return!0;n(s),N2(o)&&(o=e9(o)||o);const h=!Wl.has(o)&&s9(o)?wA(o):o;return e(s,h),Reflect.set(i,s,h,a),r(["set",[s],o,u]),!0}}),Wl=new WeakMap,A2=new WeakSet,ex=new WeakMap,og=[1],_p=new WeakMap;let tx=Object.is,i9=(t,e)=>new Proxy(t,e),s9=n9,o9=xA,a9=r9;function wA(t={}){if(!N2(t))throw new Error("object required");const e=_p.get(t);if(e)return e;let n=og[0];const r=new Set,i=(x,A=++og[0])=>{n!==A&&(s=n=A,r.forEach(C=>C(x,A)))};let s=n;const o=(x=og[0])=>(s!==x&&(s=x,c.forEach(([A])=>{const C=A[1](x);C>n&&(n=C)})),n),a=x=>(A,C)=>{const L=[...A];L[1]=[x,...L[1]],i(L,C)},c=new Map,u=(x,A)=>{const C=!A2.has(A)&&Wl.get(A);if(C){if((wp?"production":void 0)!=="production"&&c.has(x))throw new Error("prop listener already exists");if(r.size){const L=C[2](a(x));c.set(x,[C,L])}else c.set(x,[C])}},h=x=>{var A;const C=c.get(x);C&&(c.delete(x),(A=C[1])==null||A.call(C))},m=x=>(r.add(x),r.size===1&&c.forEach(([C,L],B)=>{if((wp?"production":void 0)!=="production"&&L)throw new Error("remove already exists");const J=C[2](a(B));c.set(B,[C,J])}),()=>{r.delete(x),r.size===0&&c.forEach(([C,L],B)=>{L&&(L(),c.set(B,[C]))})});let y=!0;const p=a9(()=>y,u,h,i),N=i9(t,p);_p.set(t,N);const v=[t,o,m];return Wl.set(N,v),Reflect.ownKeys(t).forEach(x=>{const A=Object.getOwnPropertyDescriptor(t,x);"value"in A&&A.writable&&(N[x]=t[x])}),y=!1,N}function l9(t,e,n){const r=Wl.get(t);(wp?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[2];let a=!1;const u=o(h=>{s.push(h),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,u()}}function nx(t){const e=Wl.get(t);(wp?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[n,r]=e;return o9(n,r())}const c9={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_PROJECT_ID:"ogfwyxmscrfdhfzhvfku",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9nZnd5eG1zY3JmZGhmemh2Zmt1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA0NTM1NTUsImV4cCI6MjA3NjAyOTU1NX0.QTWUhOG1wdLW3F_dyJmClqba8KoJX2CrbznbFs15oAw",VITE_SUPABASE_URL:"https://ogfwyxmscrfdhfzhvfku.supabase.co"},u9=(t,e)=>{const n=S.useRef(void 0);S.useEffect(()=>{n.current=t9(t,e)}),S.useDebugValue(n.current)},h9=u9,d9=new WeakMap;function Ad(t,e){const r=S.useMemo(()=>t&&new WeakMap,[t]),i=S.useRef(void 0);let s=!0;const o=S.useSyncExternalStore(S.useCallback(c=>{const u=l9(t,c);return c(),u},[t,void 0]),()=>{const c=nx(t);try{if(!s&&i.current&&!bA(i.current,c,r,new WeakMap))return i.current}catch{}return c},()=>nx(t));s=!1,S.useLayoutEffect(()=>{i.current=o}),(c9?"production":void 0)!=="production"&&h9(o,r);const a=S.useMemo(()=>new WeakMap,[]);return vA(o,r,a,d9)}function E2(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var am="Switch",[f9,Yq]=Uo(am),[p9,m9]=f9(am),_A=S.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:c="on",onCheckedChange:u,form:h,...m}=t,[y,p]=S.useState(null),N=pn(e,L=>p(L)),v=S.useRef(!1),x=y?h||!!y.closest("form"):!0,[A,C]=Fl({prop:i,defaultProp:s??!1,onChange:u,caller:am});return l.jsxs(p9,{scope:n,checked:A,disabled:a,children:[l.jsx(Mt.button,{type:"button",role:"switch","aria-checked":A,"aria-required":o,"data-state":SA(A),"data-disabled":a?"":void 0,disabled:a,value:c,...m,ref:N,onClick:It(t.onClick,L=>{C(B=>!B),x&&(v.current=L.isPropagationStopped(),v.current||L.stopPropagation())})}),x&&l.jsx(EA,{control:y,bubbles:!v.current,name:r,value:c,checked:A,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});_A.displayName=am;var NA="SwitchThumb",AA=S.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=m9(NA,n);return l.jsx(Mt.span,{"data-state":SA(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});AA.displayName=NA;var g9="SwitchBubbleInput",EA=S.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const o=S.useRef(null),a=pn(o,s),c=E2(n),u=x1(e);return S.useEffect(()=>{const h=o.current;if(!h)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&p){const N=new Event("click",{bubbles:r});p.call(h,n),h.dispatchEvent(N)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});EA.displayName=g9;function SA(t){return t?"checked":"unchecked"}var TA=_A,y9=AA;const CA=S.forwardRef(({className:t,...e},n)=>l.jsx(TA,{className:kt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:l.jsx(y9,{className:kt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));CA.displayName=TA.displayName;var v9="Label",IA=S.forwardRef((t,e)=>l.jsx(Mt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));IA.displayName=v9;var PA=IA;const b9=Lp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),rn=S.forwardRef(({className:t,...e},n)=>l.jsx(PA,{ref:n,className:kt(b9(),t),...e}));rn.displayName=PA.displayName;const bn=wA({intro:!0,color:"#3B82F6",isFrontLogoTexture:!0,isBackLogoTexture:!1,isFrontText:!0,isBackText:!1,isFullTexture:!1,frontLogoDecal:"/threejs.png",fullDecal:"/texture.jpeg",frontLogoPosition:[0,.7,.25],frontLogoScale:[.4,1,.4],backLogoDecal:"/threejs.png",backLogoPosition:[0,.7,-.3],backLogoRotation:[0,Math.PI,0],backLogoScale:[.4,1,.4],frontText:"Aqua2Promo",frontTextPosition:[0,-.1,.3],frontTextRotation:[0,0,0],frontTextFontSize:.1,frontTextScale:[.15,.05,.3],frontTextFont:"Arial",frontTextSize:48,frontTextColor:"white",backText:"Custom Bottle",backTextPosition:[0,.7,-.25],backTextRotation:[0,Math.PI,0],backTextScale:[.15,.05,.3],backTextFontSize:.1,backTextFont:"Arial",backTextSize:48,backTextColor:"white",isRightTopLight:!1,isMobilePanelOpen:!1}),ag=()=>{const t=document.querySelector("canvas");if(!t)return;const e=t.toDataURL(),n=document.createElement("a");n.href=e,n.download="canvas.png",document.body.appendChild(n),n.click(),document.body.removeChild(n)},rx=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>e(r.result),r.onerror=n,r.readAsDataURL(t)}),x9=[{name:"colorpicker",icon:"/assets/swatch.png"},{name:"designuploader",icon:"/assets/file.png"},{name:"logocontrols",icon:"/assets/logo-controls.png"},{name:"textcontrols",icon:"/assets/text-icon.png"}],w9=()=>{const t=Ad(bn);return l.jsx("div",{className:"color-picker-container",children:l.jsxs("div",{className:"color-picker-section",children:[l.jsx("h3",{className:"color-picker-title",children:"Bottle Color"}),l.jsx("p",{className:"color-picker-description",children:"Choose the color for your bottle and cap"}),l.jsx("div",{className:"color-picker-wrapper",children:l.jsx("input",{type:"color",value:t.color,onChange:e=>bn.color=e.target.value,className:"w-full h-12 rounded-lg border-2 border-gray-300 cursor-pointer"})}),l.jsxs("div",{className:"current-color-display flex items-center gap-2 mt-4",children:[l.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-300",style:{backgroundColor:t.color}}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:t.color})]})]})})},_9=({onFrontDesignUpload:t,onBackDesignUpload:e})=>{const[n,r]=S.useState(null),[i,s]=S.useState(null),o=h=>{h.target.files&&h.target.files[0]&&r(h.target.files[0])},a=h=>{h.target.files&&h.target.files[0]&&s(h.target.files[0])},c=()=>{n&&t(n)},u=()=>{i&&e(i)};return l.jsxs("div",{className:"design-uploader-container space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Front Design Upload"}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx("input",{id:"front-design-upload",type:"file",accept:"image/*",onChange:o,className:"mb-2"}),l.jsx("label",{htmlFor:"front-design-upload",className:"filepicker-label cursor-pointer",children:"Choose Front Design"}),l.jsx("p",{className:"mt-2 text-gray-500 text-xs truncate",children:n===null?"No file selected":n.name})]}),l.jsx(Me,{onClick:c,className:"text-xs mt-3",disabled:!n,children:"Apply Front Design"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Back Design Upload"}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx("input",{id:"back-design-upload",type:"file",accept:"image/*",onChange:a,className:"mb-2"}),l.jsx("label",{htmlFor:"back-design-upload",className:"filepicker-label cursor-pointer",children:"Choose Back Design"}),l.jsx("p",{className:"mt-2 text-gray-500 text-xs truncate",children:i===null?"No file selected":i.name})]}),l.jsx(Me,{variant:"outline",onClick:u,className:"text-xs mt-3",disabled:!i,children:"Apply Back Design"})]})]})},N9=()=>{const t=Ad(bn),e=(r,i,s)=>{if(r==="front"){const o=[...t.frontLogoPosition];o[i]=s,bn.frontLogoPosition=o}else if(r==="back"){const o=[...t.backLogoPosition];o[i]=s,bn.backLogoPosition=o}},n=(r,i)=>{r==="front"?bn.frontLogoScale=[i,i,i]:r==="back"&&(bn.backLogoScale=[i,i,i])};return l.jsxs("div",{className:"logo-controls-container space-y-6",children:[l.jsxs("div",{className:"logo-section",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Front Logo"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Position X:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>e("front",0,t.frontLogoPosition[0]-.01),children:"-"}),l.jsx("span",{className:"text-sm font-mono w-16 text-center",children:t.frontLogoPosition[0].toFixed(2)}),l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>e("front",0,t.frontLogoPosition[0]+.01),children:"+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Position Y:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>e("front",1,t.frontLogoPosition[1]-.01),children:"-"}),l.jsx("span",{className:"text-sm font-mono w-16 text-center",children:t.frontLogoPosition[1].toFixed(2)}),l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>e("front",1,t.frontLogoPosition[1]+.01),children:"+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Position Z:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>e("front",2,t.frontLogoPosition[2]-.01),children:"-"}),l.jsx("span",{className:"text-sm font-mono w-16 text-center",children:t.frontLogoPosition[2].toFixed(2)}),l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>e("front",2,t.frontLogoPosition[2]+.01),children:"+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Scale:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>n("front",t.frontLogoScale[0]-.01),children:"-"}),l.jsx("span",{className:"text-sm font-mono w-16 text-center",children:t.frontLogoScale[0].toFixed(2)}),l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>n("front",t.frontLogoScale[0]+.01),children:"+"})]})]})]})]}),l.jsxs("div",{className:"logo-section",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Back Logo"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Position X:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>e("back",0,t.backLogoPosition[0]-.01),children:"-"}),l.jsx("span",{className:"text-sm font-mono w-16 text-center",children:t.backLogoPosition[0].toFixed(2)}),l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>e("back",0,t.backLogoPosition[0]+.01),children:"+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Position Y:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>e("back",1,t.backLogoPosition[1]-.01),children:"-"}),l.jsx("span",{className:"text-sm font-mono w-16 text-center",children:t.backLogoPosition[1].toFixed(2)}),l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>e("back",1,t.backLogoPosition[1]+.01),children:"+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Position Z:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>e("back",2,t.backLogoPosition[2]-.01),children:"-"}),l.jsx("span",{className:"text-sm font-mono w-16 text-center",children:t.backLogoPosition[2].toFixed(2)}),l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>e("back",2,t.backLogoPosition[2]+.01),children:"+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Scale:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>n("back",t.backLogoScale[0]-.01),children:"-"}),l.jsx("span",{className:"text-sm font-mono w-16 text-center",children:t.backLogoScale[0].toFixed(2)}),l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>n("back",t.backLogoScale[0]+.01),children:"+"})]})]})]})]})]})},Jn=S.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:kt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Jn.displayName="Input";function ix(t,[e,n]){return Math.min(n,Math.max(e,t))}var A9=S.createContext(void 0);function E9(t){const e=S.useContext(A9);return t||e||"ltr"}var lg=0;function kA(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sx()),document.body.insertAdjacentElement("beforeend",t[1]??sx()),lg++,()=>{lg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),lg--}},[])}function sx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var cg="focusScope.autoFocusOnMount",ug="focusScope.autoFocusOnUnmount",ox={bubbles:!1,cancelable:!0},S9="FocusScope",S2=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,c]=S.useState(null),u=ps(i),h=ps(s),m=S.useRef(null),y=pn(e,v=>c(v)),p=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let v=function(L){if(p.paused||!a)return;const B=L.target;a.contains(B)?m.current=B:ba(m.current,{select:!0})},x=function(L){if(p.paused||!a)return;const B=L.relatedTarget;B!==null&&(a.contains(B)||ba(m.current,{select:!0}))},A=function(L){if(document.activeElement===document.body)for(const J of L)J.removedNodes.length>0&&ba(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const C=new MutationObserver(A);return a&&C.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),C.disconnect()}}},[r,a,p.paused]),S.useEffect(()=>{if(a){lx.add(p);const v=document.activeElement;if(!a.contains(v)){const A=new CustomEvent(cg,ox);a.addEventListener(cg,u),a.dispatchEvent(A),A.defaultPrevented||(T9(R9(RA(a)),{select:!0}),document.activeElement===v&&ba(a))}return()=>{a.removeEventListener(cg,u),setTimeout(()=>{const A=new CustomEvent(ug,ox);a.addEventListener(ug,h),a.dispatchEvent(A),A.defaultPrevented||ba(v??document.body,{select:!0}),a.removeEventListener(ug,h),lx.remove(p)},0)}}},[a,u,h,p]);const N=S.useCallback(v=>{if(!n&&!r||p.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,A=document.activeElement;if(x&&A){const C=v.currentTarget,[L,B]=C9(C);L&&B?!v.shiftKey&&A===B?(v.preventDefault(),n&&ba(L,{select:!0})):v.shiftKey&&A===L&&(v.preventDefault(),n&&ba(B,{select:!0})):A===C&&v.preventDefault()}},[n,r,p.paused]);return l.jsx(Mt.div,{tabIndex:-1,...o,ref:y,onKeyDown:N})});S2.displayName=S9;function T9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ba(r,{select:e}),document.activeElement!==n)return}function C9(t){const e=RA(t),n=ax(e,t),r=ax(e.reverse(),t);return[n,r]}function RA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ax(t,e){for(const n of t)if(!I9(n,{upTo:e}))return n}function I9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function P9(t){return t instanceof HTMLInputElement&&"select"in t}function ba(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&P9(t)&&e&&t.select()}}var lx=k9();function k9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=cx(t,e),t.unshift(e)},remove(e){var n;t=cx(t,e),(n=t[0])==null||n.resume()}}}function cx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function R9(t){return t.filter(e=>e.tagName!=="A")}var j9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},_c=new WeakMap,cf=new WeakMap,uf={},hg=0,jA=function(t){return t&&(t.host||jA(t.parentNode))},L9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=jA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},O9=function(t,e,n,r){var i=L9(e,Array.isArray(t)?t:[t]);uf[n]||(uf[n]=new WeakMap);var s=uf[n],o=[],a=new Set,c=new Set(i),u=function(m){!m||a.has(m)||(a.add(m),u(m.parentNode))};i.forEach(u);var h=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(y){if(a.has(y))h(y);else try{var p=y.getAttribute(r),N=p!==null&&p!=="false",v=(_c.get(y)||0)+1,x=(s.get(y)||0)+1;_c.set(y,v),s.set(y,x),o.push(y),v===1&&N&&cf.set(y,!0),x===1&&y.setAttribute(n,"true"),N||y.setAttribute(r,"true")}catch(A){console.error("aria-hidden: cannot operate on ",y,A)}})};return h(e),a.clear(),hg++,function(){o.forEach(function(m){var y=_c.get(m)-1,p=s.get(m)-1;_c.set(m,y),s.set(m,p),y||(cf.has(m)||m.removeAttribute(r),cf.delete(m)),p||m.removeAttribute(n)}),hg--,hg||(_c=new WeakMap,_c=new WeakMap,cf=new WeakMap,uf={})}},LA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=j9(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),O9(r,i,n,"aria-hidden")):function(){return null}},qs=function(){return qs=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qs.apply(this,arguments)};function OA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function D9(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Mf="right-scroll-bar-position",Ff="width-before-scroll-bar",M9="with-scroll-bars-hidden",F9="--removed-body-scroll-bar-size";function dg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function V9(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var B9=typeof window<"u"?S.useLayoutEffect:S.useEffect,ux=new WeakMap;function U9(t,e){var n=V9(null,function(r){return t.forEach(function(i){return dg(i,r)})});return B9(function(){var r=ux.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||dg(a,null)}),s.forEach(function(a){i.has(a)||dg(a,o)})}ux.set(n,t)},[t]),n}function z9(t){return t}function q9(t,e){e===void 0&&(e=z9);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var c=function(){var h=o;o=[],h.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return i}function $9(t){t===void 0&&(t={});var e=q9(null);return e.options=qs({async:!0,ssr:!1},t),e}var DA=function(t){var e=t.sideCar,n=OA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,qs({},n))};DA.isSideCarExport=!0;function H9(t,e){return t.useMedium(e),DA}var MA=$9(),fg=function(){},lm=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:fg,onWheelCapture:fg,onTouchMoveCapture:fg}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,m=t.shards,y=t.sideCar,p=t.noRelative,N=t.noIsolation,v=t.inert,x=t.allowPinchZoom,A=t.as,C=A===void 0?"div":A,L=t.gapMode,B=OA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),J=y,re=U9([n,e]),V=qs(qs({},B),i);return S.createElement(S.Fragment,null,h&&S.createElement(J,{sideCar:MA,removeScrollBar:u,shards:m,noRelative:p,noIsolation:N,inert:v,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:L}),o?S.cloneElement(S.Children.only(a),qs(qs({},V),{ref:re})):S.createElement(C,qs({},V,{className:c,ref:re}),a))});lm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lm.classNames={fullWidth:Ff,zeroRight:Mf};var W9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function G9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=W9();return e&&t.setAttribute("nonce",e),t}function K9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Y9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var J9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=G9())&&(K9(e,n),Y9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},X9=function(){var t=J9();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},FA=function(){var t=X9(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Q9={left:0,top:0,right:0,gap:0},pg=function(t){return parseInt(t||"",10)||0},Z9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[pg(n),pg(r),pg(i)]},eF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Q9;var e=Z9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},tF=FA(),zc="data-scroll-locked",nF=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(M9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(zc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ff,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Mf," .").concat(Mf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ff," .").concat(Ff,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zc,`] {
    `).concat(F9,": ").concat(a,`px;
  }
`)},hx=function(){var t=parseInt(document.body.getAttribute(zc)||"0",10);return isFinite(t)?t:0},rF=function(){S.useEffect(function(){return document.body.setAttribute(zc,(hx()+1).toString()),function(){var t=hx()-1;t<=0?document.body.removeAttribute(zc):document.body.setAttribute(zc,t.toString())}},[])},iF=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;rF();var s=S.useMemo(function(){return eF(i)},[i]);return S.createElement(tF,{styles:nF(s,!e,i,n?"":"!important")})},L0=!1;if(typeof window<"u")try{var hf=Object.defineProperty({},"passive",{get:function(){return L0=!0,!0}});window.addEventListener("test",hf,hf),window.removeEventListener("test",hf,hf)}catch{L0=!1}var Nc=L0?{passive:!1}:!1,sF=function(t){return t.tagName==="TEXTAREA"},VA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!sF(t)&&n[e]==="visible")},oF=function(t){return VA(t,"overflowY")},aF=function(t){return VA(t,"overflowX")},dx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=BA(t,r);if(i){var s=UA(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},lF=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},cF=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},BA=function(t,e){return t==="v"?oF(e):aF(e)},UA=function(t,e){return t==="v"?lF(e):cF(e)},uF=function(t,e){return t==="h"&&e==="rtl"?-1:1},hF=function(t,e,n,r,i){var s=uF(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,c=e.contains(a),u=!1,h=o>0,m=0,y=0;do{if(!a)break;var p=UA(t,a),N=p[0],v=p[1],x=p[2],A=v-x-s*N;(N||A)&&BA(t,a)&&(m+=A,y+=N);var C=a.parentNode;a=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&(Math.abs(m)<1||!i)||!h&&(Math.abs(y)<1||!i))&&(u=!0),u},df=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},fx=function(t){return[t.deltaX,t.deltaY]},px=function(t){return t&&"current"in t?t.current:t},dF=function(t,e){return t[0]===e[0]&&t[1]===e[1]},fF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},pF=0,Ac=[];function mF(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(pF++)[0],s=S.useState(FA)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=D9([t.lockRef.current],(t.shards||[]).map(px),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=S.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var A=df(v),C=n.current,L="deltaX"in v?v.deltaX:C[0]-A[0],B="deltaY"in v?v.deltaY:C[1]-A[1],J,re=v.target,V=Math.abs(L)>Math.abs(B)?"h":"v";if("touches"in v&&V==="h"&&re.type==="range")return!1;var j=dx(V,re);if(!j)return!0;if(j?J=V:(J=V==="v"?"h":"v",j=dx(V,re)),!j)return!1;if(!r.current&&"changedTouches"in v&&(L||B)&&(r.current=J),!J)return!0;var P=r.current||J;return hF(P,x,v,P==="h"?L:B,!0)},[]),c=S.useCallback(function(v){var x=v;if(!(!Ac.length||Ac[Ac.length-1]!==s)){var A="deltaY"in x?fx(x):df(x),C=e.current.filter(function(J){return J.name===x.type&&(J.target===x.target||x.target===J.shadowParent)&&dF(J.delta,A)})[0];if(C&&C.should){x.cancelable&&x.preventDefault();return}if(!C){var L=(o.current.shards||[]).map(px).filter(Boolean).filter(function(J){return J.contains(x.target)}),B=L.length>0?a(x,L[0]):!o.current.noIsolation;B&&x.cancelable&&x.preventDefault()}}},[]),u=S.useCallback(function(v,x,A,C){var L={name:v,delta:x,target:A,should:C,shadowParent:gF(A)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(B){return B!==L})},1)},[]),h=S.useCallback(function(v){n.current=df(v),r.current=void 0},[]),m=S.useCallback(function(v){u(v.type,fx(v),v.target,a(v,t.lockRef.current))},[]),y=S.useCallback(function(v){u(v.type,df(v),v.target,a(v,t.lockRef.current))},[]);S.useEffect(function(){return Ac.push(s),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",c,Nc),document.addEventListener("touchmove",c,Nc),document.addEventListener("touchstart",h,Nc),function(){Ac=Ac.filter(function(v){return v!==s}),document.removeEventListener("wheel",c,Nc),document.removeEventListener("touchmove",c,Nc),document.removeEventListener("touchstart",h,Nc)}},[]);var p=t.removeScrollBar,N=t.inert;return S.createElement(S.Fragment,null,N?S.createElement(s,{styles:fF(i)}):null,p?S.createElement(iF,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function gF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const yF=H9(MA,mF);var T2=S.forwardRef(function(t,e){return S.createElement(lm,qs({},t,{ref:e,sideCar:yF}))});T2.classNames=lm.classNames;var vF=[" ","Enter","ArrowUp","ArrowDown"],bF=[" ","Enter"],Gl="Select",[cm,um,xF]=Zw(Gl),[ku,Jq]=Uo(Gl,[xF,Vp]),hm=Vp(),[wF,il]=ku(Gl),[_F,NF]=ku(Gl),zA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:c,dir:u,name:h,autoComplete:m,disabled:y,required:p,form:N}=t,v=hm(e),[x,A]=S.useState(null),[C,L]=S.useState(null),[B,J]=S.useState(!1),re=E9(u),[V,j]=Fl({prop:r,defaultProp:i??!1,onChange:s,caller:Gl}),[P,O]=Fl({prop:o,defaultProp:a,onChange:c,caller:Gl}),E=S.useRef(null),I=x?N||!!x.closest("form"):!0,[k,G]=S.useState(new Set),ce=Array.from(k).map(ue=>ue.props.value).join(";");return l.jsx(cP,{...v,children:l.jsxs(wF,{required:p,scope:e,trigger:x,onTriggerChange:A,valueNode:C,onValueNodeChange:L,valueNodeHasChildren:B,onValueNodeHasChildrenChange:J,contentId:Ol(),value:P,onValueChange:O,open:V,onOpenChange:j,dir:re,triggerPointerDownPosRef:E,disabled:y,children:[l.jsx(cm.Provider,{scope:e,children:l.jsx(_F,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(ue=>{G(fe=>new Set(fe).add(ue))},[]),onNativeOptionRemove:S.useCallback(ue=>{G(fe=>{const ie=new Set(fe);return ie.delete(ue),ie})},[]),children:n})}),I?l.jsxs(dE,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:m,value:P,onChange:ue=>O(ue.target.value),disabled:y,form:N,children:[P===void 0?l.jsx("option",{value:""}):null,Array.from(k)]},ce):null]})})};zA.displayName=Gl;var qA="SelectTrigger",$A=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=hm(n),o=il(qA,n),a=o.disabled||r,c=pn(e,o.onTriggerChange),u=um(n),h=S.useRef("touch"),[m,y,p]=pE(v=>{const x=u().filter(L=>!L.disabled),A=x.find(L=>L.value===o.value),C=mE(x,v,A);C!==void 0&&o.onValueChange(C.value)}),N=v=>{a||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(d_,{asChild:!0,...s,children:l.jsx(Mt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":fE(o.value)?"":void 0,...i,ref:c,onClick:It(i.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&N(v)}),onPointerDown:It(i.onPointerDown,v=>{h.current=v.pointerType;const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(N(v),v.preventDefault())}),onKeyDown:It(i.onKeyDown,v=>{const x=m.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&y(v.key),!(x&&v.key===" ")&&vF.includes(v.key)&&(N(),v.preventDefault())})})})});$A.displayName=qA;var HA="SelectValue",WA=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,c=il(HA,n),{onValueNodeHasChildrenChange:u}=c,h=s!==void 0,m=pn(e,c.onValueNodeChange);return _r(()=>{u(h)},[u,h]),l.jsx(Mt.span,{...a,ref:m,style:{pointerEvents:"none"},children:fE(c.value)?l.jsx(l.Fragment,{children:o}):s})});WA.displayName=HA;var AF="SelectIcon",GA=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return l.jsx(Mt.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});GA.displayName=AF;var EF="SelectPortal",KA=t=>l.jsx(kp,{asChild:!0,...t});KA.displayName=EF;var Kl="SelectContent",YA=S.forwardRef((t,e)=>{const n=il(Kl,t.__scopeSelect),[r,i]=S.useState();if(_r(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?ad.createPortal(l.jsx(JA,{scope:t.__scopeSelect,children:l.jsx(cm.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),s):null}return l.jsx(XA,{...t,ref:e})});YA.displayName=Kl;var as=10,[JA,sl]=ku(Kl),SF="SelectContentImpl",TF=ru("SelectContent.RemoveScroll"),XA=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:y,collisionPadding:p,sticky:N,hideWhenDetached:v,avoidCollisions:x,...A}=t,C=il(Kl,n),[L,B]=S.useState(null),[J,re]=S.useState(null),V=pn(e,ne=>B(ne)),[j,P]=S.useState(null),[O,E]=S.useState(null),I=um(n),[k,G]=S.useState(!1),ce=S.useRef(!1);S.useEffect(()=>{if(L)return LA(L)},[L]),kA();const ue=S.useCallback(ne=>{const[oe,...pe]=I().map(Re=>Re.ref.current),[ye]=pe.slice(-1),Ne=document.activeElement;for(const Re of ne)if(Re===Ne||(Re==null||Re.scrollIntoView({block:"nearest"}),Re===oe&&J&&(J.scrollTop=0),Re===ye&&J&&(J.scrollTop=J.scrollHeight),Re==null||Re.focus(),document.activeElement!==Ne))return},[I,J]),fe=S.useCallback(()=>ue([j,L]),[ue,j,L]);S.useEffect(()=>{k&&fe()},[k,fe]);const{onOpenChange:ie,triggerPointerDownPosRef:ae}=C;S.useEffect(()=>{if(L){let ne={x:0,y:0};const oe=ye=>{var Ne,Re;ne={x:Math.abs(Math.round(ye.pageX)-(((Ne=ae.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((Re=ae.current)==null?void 0:Re.y)??0))}},pe=ye=>{ne.x<=10&&ne.y<=10?ye.preventDefault():L.contains(ye.target)||ie(!1),document.removeEventListener("pointermove",oe),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",pe,{capture:!0})}}},[L,ie,ae]),S.useEffect(()=>{const ne=()=>ie(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[ie]);const[Se,_e]=pE(ne=>{const oe=I().filter(Ne=>!Ne.disabled),pe=oe.find(Ne=>Ne.ref.current===document.activeElement),ye=mE(oe,ne,pe);ye&&setTimeout(()=>ye.ref.current.focus())}),z=S.useCallback((ne,oe,pe)=>{const ye=!ce.current&&!pe;(C.value!==void 0&&C.value===oe||ye)&&(P(ne),ye&&(ce.current=!0))},[C.value]),Y=S.useCallback(()=>L==null?void 0:L.focus(),[L]),X=S.useCallback((ne,oe,pe)=>{const ye=!ce.current&&!pe;(C.value!==void 0&&C.value===oe||ye)&&E(ne)},[C.value]),M=r==="popper"?O0:QA,U=M===O0?{side:a,sideOffset:c,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:y,collisionPadding:p,sticky:N,hideWhenDetached:v,avoidCollisions:x}:{};return l.jsx(JA,{scope:n,content:L,viewport:J,onViewportChange:re,itemRefCallback:z,selectedItem:j,onItemLeave:Y,itemTextRefCallback:X,focusSelectedItem:fe,selectedItemText:O,position:r,isPositioned:k,searchRef:Se,children:l.jsx(T2,{as:TF,allowPinchZoom:!0,children:l.jsx(S2,{asChild:!0,trapped:C.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:It(i,ne=>{var oe;(oe=C.trigger)==null||oe.focus({preventScroll:!0}),ne.preventDefault()}),children:l.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:l.jsx(M,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:ne=>ne.preventDefault(),...A,...U,onPlaced:()=>G(!0),ref:V,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:It(A.onKeyDown,ne=>{const oe=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!oe&&ne.key.length===1&&_e(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let ye=I().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Ne=ne.target,Re=ye.indexOf(Ne);ye=ye.slice(Re+1)}setTimeout(()=>ue(ye)),ne.preventDefault()}})})})})})})});XA.displayName=SF;var CF="SelectItemAlignedPosition",QA=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=il(Kl,n),o=sl(Kl,n),[a,c]=S.useState(null),[u,h]=S.useState(null),m=pn(e,V=>h(V)),y=um(n),p=S.useRef(!1),N=S.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:A,focusSelectedItem:C}=o,L=S.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&v&&x&&A){const V=s.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),O=A.getBoundingClientRect();if(s.dir!=="rtl"){const Ne=O.left-j.left,Re=P.left-Ne,Fe=V.left-Re,we=V.width+Fe,te=Math.max(we,j.width),yt=window.innerWidth-as,ht=ix(Re,[as,Math.max(as,yt-te)]);a.style.minWidth=we+"px",a.style.left=ht+"px"}else{const Ne=j.right-O.right,Re=window.innerWidth-P.right-Ne,Fe=window.innerWidth-V.right-Re,we=V.width+Fe,te=Math.max(we,j.width),yt=window.innerWidth-as,ht=ix(Re,[as,Math.max(as,yt-te)]);a.style.minWidth=we+"px",a.style.right=ht+"px"}const E=y(),I=window.innerHeight-as*2,k=v.scrollHeight,G=window.getComputedStyle(u),ce=parseInt(G.borderTopWidth,10),ue=parseInt(G.paddingTop,10),fe=parseInt(G.borderBottomWidth,10),ie=parseInt(G.paddingBottom,10),ae=ce+ue+k+ie+fe,Se=Math.min(x.offsetHeight*5,ae),_e=window.getComputedStyle(v),z=parseInt(_e.paddingTop,10),Y=parseInt(_e.paddingBottom,10),X=V.top+V.height/2-as,M=I-X,U=x.offsetHeight/2,ne=x.offsetTop+U,oe=ce+ue+ne,pe=ae-oe;if(oe<=X){const Ne=E.length>0&&x===E[E.length-1].ref.current;a.style.bottom="0px";const Re=u.clientHeight-v.offsetTop-v.offsetHeight,Fe=Math.max(M,U+(Ne?Y:0)+Re+fe),we=oe+Fe;a.style.height=we+"px"}else{const Ne=E.length>0&&x===E[0].ref.current;a.style.top="0px";const Fe=Math.max(X,ce+v.offsetTop+(Ne?z:0)+U)+pe;a.style.height=Fe+"px",v.scrollTop=oe-X+v.offsetTop}a.style.margin=`${as}px 0`,a.style.minHeight=Se+"px",a.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[y,s.trigger,s.valueNode,a,u,v,x,A,s.dir,r]);_r(()=>L(),[L]);const[B,J]=S.useState();_r(()=>{u&&J(window.getComputedStyle(u).zIndex)},[u]);const re=S.useCallback(V=>{V&&N.current===!0&&(L(),C==null||C(),N.current=!1)},[L,C]);return l.jsx(PF,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:re,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:l.jsx(Mt.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});QA.displayName=CF;var IF="SelectPopperPosition",O0=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=as,...s}=t,o=hm(n);return l.jsx(f_,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});O0.displayName=IF;var[PF,C2]=ku(Kl,{}),D0="SelectViewport",ZA=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=sl(D0,n),o=C2(D0,n),a=pn(e,s.onViewportChange),c=S.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(cm.Slot,{scope:n,children:l.jsx(Mt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:It(i.onScroll,u=>{const h=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=o;if(y!=null&&y.current&&m){const p=Math.abs(c.current-h.scrollTop);if(p>0){const N=window.innerHeight-as*2,v=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),A=Math.max(v,x);if(A<N){const C=A+p,L=Math.min(N,C),B=C-L;m.style.height=L+"px",m.style.bottom==="0px"&&(h.scrollTop=B>0?B:0,m.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});ZA.displayName=D0;var eE="SelectGroup",[kF,RF]=ku(eE),jF=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Ol();return l.jsx(kF,{scope:n,id:i,children:l.jsx(Mt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});jF.displayName=eE;var tE="SelectLabel",nE=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=RF(tE,n);return l.jsx(Mt.div,{id:i.id,...r,ref:e})});nE.displayName=tE;var Np="SelectItem",[LF,rE]=ku(Np),iE=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=il(Np,n),c=sl(Np,n),u=a.value===r,[h,m]=S.useState(s??""),[y,p]=S.useState(!1),N=pn(e,C=>{var L;return(L=c.itemRefCallback)==null?void 0:L.call(c,C,r,i)}),v=Ol(),x=S.useRef("touch"),A=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(LF,{scope:n,value:r,disabled:i,textId:v,isSelected:u,onItemTextChange:S.useCallback(C=>{m(L=>L||((C==null?void 0:C.textContent)??"").trim())},[]),children:l.jsx(cm.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:l.jsx(Mt.div,{role:"option","aria-labelledby":v,"data-highlighted":y?"":void 0,"aria-selected":u&&y,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:N,onFocus:It(o.onFocus,()=>p(!0)),onBlur:It(o.onBlur,()=>p(!1)),onClick:It(o.onClick,()=>{x.current!=="mouse"&&A()}),onPointerUp:It(o.onPointerUp,()=>{x.current==="mouse"&&A()}),onPointerDown:It(o.onPointerDown,C=>{x.current=C.pointerType}),onPointerMove:It(o.onPointerMove,C=>{var L;x.current=C.pointerType,i?(L=c.onItemLeave)==null||L.call(c):x.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:It(o.onPointerLeave,C=>{var L;C.currentTarget===document.activeElement&&((L=c.onItemLeave)==null||L.call(c))}),onKeyDown:It(o.onKeyDown,C=>{var B;((B=c.searchRef)==null?void 0:B.current)!==""&&C.key===" "||(bF.includes(C.key)&&A(),C.key===" "&&C.preventDefault())})})})})});iE.displayName=Np;var ph="SelectItemText",sE=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=il(ph,n),a=sl(ph,n),c=rE(ph,n),u=NF(ph,n),[h,m]=S.useState(null),y=pn(e,A=>m(A),c.onItemTextChange,A=>{var C;return(C=a.itemTextRefCallback)==null?void 0:C.call(a,A,c.value,c.disabled)}),p=h==null?void 0:h.textContent,N=S.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=u;return _r(()=>(v(N),()=>x(N)),[v,x,N]),l.jsxs(l.Fragment,{children:[l.jsx(Mt.span,{id:c.textId,...s,ref:y}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ad.createPortal(s.children,o.valueNode):null]})});sE.displayName=ph;var oE="SelectItemIndicator",aE=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return rE(oE,n).isSelected?l.jsx(Mt.span,{"aria-hidden":!0,...r,ref:e}):null});aE.displayName=oE;var M0="SelectScrollUpButton",lE=S.forwardRef((t,e)=>{const n=sl(M0,t.__scopeSelect),r=C2(M0,t.__scopeSelect),[i,s]=S.useState(!1),o=pn(e,r.onScrollButtonChange);return _r(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?l.jsx(uE,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});lE.displayName=M0;var F0="SelectScrollDownButton",cE=S.forwardRef((t,e)=>{const n=sl(F0,t.__scopeSelect),r=C2(F0,t.__scopeSelect),[i,s]=S.useState(!1),o=pn(e,r.onScrollButtonChange);return _r(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;s(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?l.jsx(uE,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});cE.displayName=F0;var uE=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=sl("SelectScrollButton",n),o=S.useRef(null),a=um(n),c=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),_r(()=>{var h;const u=a().find(m=>m.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),l.jsx(Mt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:It(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:It(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:It(i.onPointerLeave,()=>{c()})})}),OF="SelectSeparator",hE=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(Mt.div,{"aria-hidden":!0,...r,ref:e})});hE.displayName=OF;var V0="SelectArrow",DF=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=hm(n),s=il(V0,n),o=sl(V0,n);return s.open&&o.position==="popper"?l.jsx(p_,{...i,...r,ref:e}):null});DF.displayName=V0;var MF="SelectBubbleInput",dE=S.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=S.useRef(null),s=pn(r,i),o=E2(e);return S.useEffect(()=>{const a=i.current;if(!a)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const m=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(m)}},[o,e]),l.jsx(Mt.select,{...n,style:{...i5,...n.style},ref:s,defaultValue:e})});dE.displayName=MF;function fE(t){return t===""||t===void 0}function pE(t){const e=ps(t),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(o=>{const a=n.current+o;e(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),s=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function mE(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=FF(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function FF(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var VF=zA,gE=$A,BF=WA,UF=GA,zF=KA,yE=YA,qF=ZA,vE=nE,bE=iE,$F=sE,HF=aE,xE=lE,wE=cE,_E=hE;const mx=VF,gx=BF,B0=S.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(gE,{ref:r,className:kt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(UF,{asChild:!0,children:l.jsx(u1,{className:"h-4 w-4 opacity-50"})})]}));B0.displayName=gE.displayName;const NE=S.forwardRef(({className:t,...e},n)=>l.jsx(xE,{ref:n,className:kt("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(k5,{className:"h-4 w-4"})}));NE.displayName=xE.displayName;const AE=S.forwardRef(({className:t,...e},n)=>l.jsx(wE,{ref:n,className:kt("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(u1,{className:"h-4 w-4"})}));AE.displayName=wE.displayName;const U0=S.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>l.jsx(zF,{children:l.jsxs(yE,{ref:i,className:kt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(NE,{}),l.jsx(qF,{className:kt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(AE,{})]})}));U0.displayName=yE.displayName;const WF=S.forwardRef(({className:t,...e},n)=>l.jsx(vE,{ref:n,className:kt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));WF.displayName=vE.displayName;const z0=S.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(bE,{ref:r,className:kt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(HF,{children:l.jsx(C5,{className:"h-4 w-4"})})}),l.jsx($F,{children:e})]}));z0.displayName=bE.displayName;const GF=S.forwardRef(({className:t,...e},n)=>l.jsx(_E,{ref:n,className:kt("-mx-1 my-1 h-px bg-muted",t),...e}));GF.displayName=_E.displayName;const yx=["Arial","Times New Roman","Segoe UI","Tahoma","Calibri","Frutiger","Helvetica","Futura PT","Myriad Pro","Open Sans","Roboto","Verdana","Adobe Arabic","Droid Arabic Naskh","GE SS Unique Light","Simplon Norm Arabic","Neue Helvetica Arabic","Noto Naskh Arabic","Ubuntu Arabic","Waseem","Zuhair","Dubai","Amiri","Bukra","Bahij Nazanin","Kufam","Lalezar","Mirza","Sakkal Majalla","Scheherazade","Tajawal","Lateef","Reem Kufi","Almarai","Cairo","Harmattan","Janna LT","Mada","Muna","JF Flat","JF Hitham","JF Nizar","JF Deco","JF Ziba","JF Unicode Naskh","JF Typist","JF Flat Arabic","JF Nizar Serif","JF Zaytoon","JF Zuhair","JF Deco Arabic","JF Hujjat","JF Noon","JF Raya","JF Riqa","JF Tulisan","JF Adeeb","JF Zarkan","JF Besmellah","JF Noori Nastaleeq","JF Noori Nastaleeq Kasheeda","JF Noori Nastaleeq V1.0","JF Noori Nastaleeq V2.0","JF Noori Nastaleeq V3.0","JF Noori Nastaleeq V4.0","JF Noori Nastaleeq V5.0","JF Noori Nastaleeq V6.0","JF Noori Nastaleeq V7.0","JF Noori Nastaleeq V8.0","JF Noori Nastaleeq V9.0","JF Noori Nastaleeq V10.0","JF Noori Nastaleeq V11.0","JF Noori Nastaleeq V12.0","JF Noori Nastaleeq V13.0","JF Noori Nastaleeq V14.0"],KF=()=>{const t=Ad(bn),e=(s,o)=>{s==="front"?bn.frontText=o:s==="back"&&(bn.backText=o)},n=(s,o,a)=>{if(s==="front"){const c=[...t.frontTextPosition];c[o]=a,bn.frontTextPosition=c}else if(s==="back"){const c=[...t.backTextPosition];c[o]=a,bn.backTextPosition=c}},r=(s,o)=>{s==="front"?bn.frontTextFont=o:s==="back"&&(bn.backTextFont=o)},i=(s,o)=>{s==="front"?bn.frontTextColor=o:s==="back"&&(bn.backTextColor=o)};return l.jsxs("div",{className:"text-controls-container space-y-8",children:[l.jsxs("div",{className:"text-section",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Front Text"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Text:"}),l.jsx(Jn,{type:"text",value:t.frontText,onChange:s=>e("front",s.target.value),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Position X:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>n("front",0,t.frontTextPosition[0]-.01),children:"-"}),l.jsx("span",{className:"text-sm font-mono w-16 text-center",children:t.frontTextPosition[0].toFixed(2)}),l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>n("front",0,t.frontTextPosition[0]+.01),children:"+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Position Y:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>n("front",1,t.frontTextPosition[1]-.01),children:"-"}),l.jsx("span",{className:"text-sm font-mono w-16 text-center",children:t.frontTextPosition[1].toFixed(2)}),l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>n("front",1,t.frontTextPosition[1]+.01),children:"+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Position Z:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>n("front",2,t.frontTextPosition[2]-.01),children:"-"}),l.jsx("span",{className:"text-sm font-mono w-16 text-center",children:t.frontTextPosition[2].toFixed(2)}),l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>n("front",2,t.frontTextPosition[2]+.01),children:"+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Font:"}),l.jsxs(mx,{value:t.frontTextFont,onValueChange:s=>r("front",s),children:[l.jsx(B0,{className:"mt-1",children:l.jsx(gx,{})}),l.jsx(U0,{children:yx.map(s=>l.jsx(z0,{value:s,children:s},s))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Color:"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("input",{type:"color",value:t.frontTextColor,onChange:s=>i("front",s.target.value),className:"w-12 h-8 rounded border-2 border-gray-300 cursor-pointer"}),l.jsx("span",{className:"text-sm font-mono",children:t.frontTextColor})]})]})]})]}),l.jsxs("div",{className:"text-section",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Back Text"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Text:"}),l.jsx(Jn,{type:"text",value:t.backText,onChange:s=>e("back",s.target.value),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Position X:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>n("back",0,t.backTextPosition[0]-.01),children:"-"}),l.jsx("span",{className:"text-sm font-mono w-16 text-center",children:t.backTextPosition[0].toFixed(2)}),l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>n("back",0,t.backTextPosition[0]+.01),children:"+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Position Y:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>n("back",1,t.backTextPosition[1]-.01),children:"-"}),l.jsx("span",{className:"text-sm font-mono w-16 text-center",children:t.backTextPosition[1].toFixed(2)}),l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>n("back",1,t.backTextPosition[1]+.01),children:"+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Position Z:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>n("back",2,t.backTextPosition[2]-.01),children:"-"}),l.jsx("span",{className:"text-sm font-mono w-16 text-center",children:t.backTextPosition[2].toFixed(2)}),l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>n("back",2,t.backTextPosition[2]+.01),children:"+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Font:"}),l.jsxs(mx,{value:t.backTextFont,onValueChange:s=>r("back",s),children:[l.jsx(B0,{className:"mt-1",children:l.jsx(gx,{})}),l.jsx(U0,{children:yx.map(s=>l.jsx(z0,{value:s,children:s},s))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Color:"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("input",{type:"color",value:t.backTextColor,onChange:s=>i("back",s.target.value),className:"w-12 h-8 rounded border-2 border-gray-300 cursor-pointer"}),l.jsx("span",{className:"text-sm font-mono",children:t.backTextColor})]})]})]})]})]})},YF=()=>{const t=Ad(bn),e=Ve.useRef(null),[n,r]=Ve.useState(0);Ve.useEffect(()=>{window.rotateBottle=p=>{e.current&&(e.current.rotation.y=p,r(p))}},[]);const{nodes:i,materials:s}=rT("/bottle.glb"),o=Dm(t.frontLogoDecal||"/threejs.png",p=>{p.wrapS=p.wrapT=Mm,p.minFilter=Fm,p.magFilter=eh,p.generateMipmaps=!0,p.anisotropy=16}),a=Dm(t.fullDecal||"/texture.jpeg",p=>{p.wrapS=p.wrapT=Mm,p.minFilter=Fm,p.magFilter=eh,p.generateMipmaps=!0,p.anisotropy=16}),c=Dm(t.backLogoDecal||"/threejs.png",p=>{p.wrapS=p.wrapT=Mm,p.minFilter=Fm,p.magFilter=eh,p.generateMipmaps=!0,p.anisotropy=16});console.log("Texture loading status:"),console.log("Front logo texture:",o),console.log("Back logo texture:",c),console.log("Full texture:",a);const u=(p,N,v,x)=>{const A=document.createElement("canvas"),C=A.getContext("2d");if(!C)return new sT;const B=v*5;C.font=`${B}px ${N}`;const J=C.measureText(p).width;A.width=J,A.height=B,C.textBaseline="top",C.textAlign="left",C.imageSmoothingEnabled=!0,C.imageSmoothingQuality="high",C.fillStyle=x,C.font=`${B}px ${N}`,C.fillText(p,0,0);const re=new oT(A);return re.wrapS=re.wrapT=aT,re.minFilter=eh,re.magFilter=eh,re.generateMipmaps=!1,re.anisotropy=16,re},h=Object.values(i||{}).filter(p=>p&&p.geometry),m=Object.values(s||{});console.log("Bottle model loaded successfully!"),console.log("Available nodes:",h.length),console.log("Available materials:",m.length),console.log("Current state:",t),console.log("Back logo texture enabled:",t.isBackLogoTexture),console.log("Back logo decal:",t.backLogoDecal),iT((p,N)=>{if(m&&m.length>0&&m.forEach(v=>{v&&v.color&&lT.dampC(v.color,t.color,.25,N)}),e.current){const v=p.mouse.x*.9*Math.PI,x=e.current.rotation.y,A=Math.min(.15,N*8),C=x+(v-x)*A;e.current.rotation.y=C,r(C)}});const y=JSON.stringify(t);return h.length===0?l.jsx("group",{ref:e,position:[0,-.4,0],children:l.jsxs("mesh",{position:[0,0,0],castShadow:!0,receiveShadow:!0,children:[l.jsx("cylinderGeometry",{args:[.5,.3,2,16]}),l.jsx("meshStandardMaterial",{color:t.color})]})},y):l.jsx(l.Fragment,{children:l.jsx("group",{ref:e,position:[0,-1.5,-.2],children:h.map((p,N)=>{const v=m[N]||m[0];return!p.geometry||!v?null:l.jsxs("mesh",{geometry:p.geometry,material:v,dispose:null,castShadow:!0,receiveShadow:!0,children:[t.isFullTexture&&a&&l.jsx(Zu,{position:[0,.6,0],rotation:[0,0,0],scale:[1,1.5,1],map:a,depthTest:!1,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-4}),t.isFrontLogoTexture&&o&&l.jsx(Zu,{position:t.frontLogoPosition,rotation:[0,0,0],scale:t.frontLogoScale,map:o,depthTest:!1,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-4}),t.isFrontText&&l.jsx(Zu,{position:t.frontTextPosition,rotation:t.frontTextRotation,scale:t.frontTextScale,map:u(t.frontText,t.frontTextFont,t.frontTextSize,t.frontTextColor),depthTest:!1,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-4}),t.isBackLogoTexture&&c&&l.jsx(Zu,{position:t.backLogoPosition,rotation:t.backLogoRotation,scale:t.backLogoScale,map:c,depthTest:!1,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-4}),t.isBackText&&l.jsx(Zu,{position:t.backTextPosition,rotation:t.backTextRotation,scale:t.backTextScale,map:u(t.backText,t.backTextFont,t.backTextSize,t.backTextColor),depthTest:!1,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-4})]},N)})},y)})},JF=({children:t})=>{const{camera:e}=cT();return S.useEffect(()=>{const n=[0,0,3];e.position.set(...n),e.lookAt(0,-.3,0)},[e]),l.jsx(l.Fragment,{children:t})},XF=()=>{const t=Ad(bn);Ve.useEffect(()=>{bn.intro=!1},[]),S.useState(null);const[e,n]=S.useState("");S.useState({downloadBottle:!1});const r=()=>{switch(e){case"colorpicker":return l.jsx(w9,{});case"designuploader":return l.jsx(_9,{onFrontDesignUpload:i,onBackDesignUpload:s});case"logocontrols":return l.jsx(N9,{});case"textcontrols":return l.jsx(KF,{});default:return null}},i=o=>{rx(o).then(a=>{bn.frontLogoDecal=a,bn.isFrontLogoTexture=!0,console.log("Front design uploaded:",a),n("")}).catch(a=>{console.error("Error uploading front design:",a)})},s=o=>{rx(o).then(a=>{bn.backLogoDecal=a,bn.isBackLogoTexture=!0,console.log("Back design uploaded:",a),console.log("Back logo texture enabled:",bn.isBackLogoTexture),n("")}).catch(a=>{console.error("Error uploading back design:",a)})};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 overflow-x-hidden",style:{scrollBehavior:"smooth",willChange:"transform",transform:"translateZ(0)"},children:[l.jsx("header",{className:"bg-white shadow-lg border-b border-gray-200",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center py-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xl",children:"💧"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"3D Bottle Customizer"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Design your perfect water bottle"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Me,{variant:"outline",onClick:()=>bn.intro=!0,className:"hidden sm:flex",children:"🔙 Back to Intro"}),l.jsx(Me,{onClick:()=>ag(),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:"📥 Download"})]})]})})}),t.intro&&l.jsx("div",{className:"fixed inset-0 z-20 flex items-center justify-center bg-black/50",children:l.jsxs(sr,{className:"w-96 text-center",children:[l.jsxs(sc,{children:[l.jsx(oc,{className:"text-2xl font-bold text-gray-800",children:"3D Bottle Customizer"}),l.jsx("p",{className:"text-gray-600",children:"Design your custom water bottle with our 3D configurator"})]}),l.jsx(ac,{children:l.jsx(Me,{onClick:()=>bn.intro=!1,size:"lg",className:"w-full",children:"Start Customizing"})})]})}),!t.intro&&l.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-xl overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-purple-600",children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:"💧"}),"3D Live Preview"]}),l.jsx("p",{className:"text-blue-100 text-sm mt-2",children:"Move mouse to rotate • Click to interact"})]}),l.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-6",children:l.jsxs("div",{className:"w-full max-w-md sm:max-w-xl h-96 sm:h-[28rem] bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl border-2 border-blue-200 shadow-inner relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-blue-50/20 to-blue-100/30 pointer-events-none z-10"}),l.jsx(uT,{camera:{position:[0,0,3],fov:45},gl:{preserveDrawingBuffer:!1,antialias:!1,alpha:!0,powerPreference:"high-performance",stencil:!1,depth:!0},className:"w-full h-full",shadows:!1,dpr:[1,1.5],onError:o=>console.error("Canvas error:",o),onCreated:({gl:o})=>{o.setClearColor("#f0f9ff",1),o.setPixelRatio(Math.min(window.devicePixelRatio,1.5))},children:l.jsxs(S.Suspense,{fallback:null,children:[l.jsxs("mesh",{position:[0,0,-10],children:[l.jsx("planeGeometry",{args:[40,30]}),l.jsx("meshBasicMaterial",{color:"#5E90A4"})]}),l.jsx(hT,{preset:"studio",background:!1}),l.jsx("fog",{attach:"fog",args:["#f0f9ff",8,20]}),l.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-1.5,0],children:[l.jsx("planeGeometry",{args:[20,20]}),l.jsx("meshBasicMaterial",{color:"#f8fafc"})]}),l.jsx("ambientLight",{intensity:.6,color:"#ffffff"}),l.jsx("directionalLight",{position:[5,5,5],intensity:1.5,color:"#ffffff"}),l.jsx("pointLight",{position:[-3,3,3],intensity:.4,color:"#ffffff"}),t.isRightTopLight&&l.jsx("pointLight",{position:[3,3,3],intensity:1,color:"#ffffff",castShadow:!0}),l.jsx(JF,{children:l.jsx(YF,{})})]})})]})}),l.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:[l.jsxs("div",{className:"flex items-center justify-between text-base text-gray-700 mb-3",children:[l.jsxs("span",{className:"font-medium",children:["🎨 Color: ",t.color]}),l.jsxs("span",{className:"font-medium",children:["✨ ",t.isRightTopLight?"Enhanced":"Standard"," Lighting"]})]}),l.jsx("div",{className:"text-sm text-gray-600 text-center mb-3",children:"Real-time 3D preview with interactive controls"}),l.jsxs("div",{className:"flex gap-2 justify-center",children:[l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>{window.rotateBottle&&window.rotateBottle(0)},className:"text-xs",children:"🔄 Front View"}),l.jsx(Me,{size:"sm",variant:"outline",onClick:()=>{window.rotateBottle&&window.rotateBottle(Math.PI)},className:"text-xs",children:"🔄 Back View"})]})]})]}),l.jsx("div",{className:"lg:col-span-3",children:l.jsxs("div",{className:"max-w-4xl mx-auto",style:{scrollBehavior:"smooth",willChange:"transform"},children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium mb-4",children:[l.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),"Live 3D Customizer"]}),l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4",children:"Design Your Dream Bottle"}),l.jsx("p",{className:"text-lg text-gray-600 mb-6 max-w-2xl mx-auto",children:"Create stunning personalized water bottles with our advanced 3D configurator."})]}),l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 mb-6 border border-white/20",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-white text-sm",children:"🛠️"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Customization Tools"})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-6",children:x9.map(o=>l.jsxs(Me,{variant:e===o.name?"default":"outline",onClick:()=>n(e===o.name?"":o.name),className:"flex items-center gap-2 h-12 text-sm font-medium transition-all duration-200 hover:scale-105",children:[l.jsx("img",{src:o.icon,alt:o.name,className:"w-5 h-5"}),l.jsx("span",{className:"capitalize",children:o.name.replace(/([A-Z])/g," $1").trim()})]},o.name))}),e&&l.jsx("div",{className:"border-t border-gray-200 pt-4",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4",children:r()})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-lg p-4 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx("span",{className:"text-2xl",children:"🎨"})}),l.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-1",children:"Colors"}),l.jsx("p",{className:"text-xs text-gray-600",children:"Unlimited options"})]}),l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-lg p-4 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx("span",{className:"text-2xl",children:"📱"})}),l.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-1",children:"Upload"}),l.jsx("p",{className:"text-xs text-gray-600",children:"Your designs"})]}),l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-lg p-4 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx("span",{className:"text-2xl",children:"💧"})}),l.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-1",children:"3D Preview"}),l.jsx("p",{className:"text-xs text-gray-600",children:"Real-time"})]})]}),l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/20 mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-white text-sm",children:"⚙️"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Controls"})]}),l.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gradient-to-r from-gray-50 to-blue-50 rounded-lg border border-gray-200",children:[l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"light-toggle",className:"text-lg font-semibold text-gray-800",children:"✨ Enhanced Lighting"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Professional lighting effects"})]}),l.jsx(CA,{id:"light-toggle",checked:t.isRightTopLight,onCheckedChange:o=>bn.isRightTopLight=o})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs(Me,{onClick:()=>ag(),className:"h-12 text-base font-semibold bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx("span",{className:"mr-2",children:"📥"}),"Download"]}),l.jsxs(Me,{variant:"outline",onClick:()=>bn.intro=!0,className:"h-12 text-base font-semibold border-2 border-gray-300 hover:border-gray-400 hover:bg-gray-50 transition-all duration-300",children:[l.jsx("span",{className:"mr-2",children:"🔙"}),"Back"]})]})]}),l.jsx("footer",{className:"bg-gradient-to-r from-gray-800 to-gray-900 text-white rounded-xl p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Ready to Create Your Custom Bottle?"}),l.jsx("p",{className:"text-gray-300 mb-6",children:"Use the tools above to design your perfect water bottle. Upload your logo, choose colors, and see your design come to life in real-time!"}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[l.jsx(Me,{onClick:()=>ag(),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold",children:"📥 Download Your Design"}),l.jsx(Me,{variant:"outline",onClick:()=>bn.intro=!0,className:"border-white text-white hover:bg-white hover:text-gray-900 px-6 py-3 rounded-lg font-semibold",children:"🔙 Start Over"})]})]})})]})})]})})})]})};function qc({className:t,size:e="md"}){const n={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"};return l.jsxs("svg",{className:kt("animate-spin",n[e],t),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}const QF=()=>{const[t,e]=S.useState({email:"",password:""}),[n,r]=S.useState(!1),[i,s]=S.useState(!1),{login:o,googleLogin:a}=Pu(),c=_u(),{toast:u}=ld(),h=p=>{e({...t,[p.target.name]:p.target.value})},m=async p=>{p.preventDefault(),r(!0);try{await o(t.email,t.password),u({title:"Welcome back!",description:"You've successfully logged in."}),c("/")}catch(N){u({title:"Error",description:N.message,variant:"destructive"})}finally{r(!1)}},y=async()=>{s(!0);try{await a(),u({title:"Welcome!",description:"You've successfully logged in with Google."}),c("/")}catch(p){u({title:"Error",description:p.message,variant:"destructive"})}finally{s(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 via-background to-secondary/10 py-12 px-4",children:l.jsxs(sr,{className:"w-full max-w-md",children:[l.jsxs(sc,{children:[l.jsx(oc,{className:"text-2xl text-center",children:"Welcome Back"}),l.jsx("p",{className:"text-center text-muted-foreground",children:"Sign in to your account"})]}),l.jsx(ac,{children:l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"email",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(iu,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),l.jsx(Jn,{id:"email",name:"email",type:"email",value:t.email,onChange:h,className:"pl-10",placeholder:"john@example.com",required:!0})]})]}),l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Wg,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),l.jsx(Jn,{id:"password",name:"password",type:"password",value:t.password,onChange:h,className:"pl-10",placeholder:"••••••••",required:!0})]})]}),l.jsx(Me,{type:"submit",className:"w-full",disabled:n||i,children:n?l.jsxs(l.Fragment,{children:[l.jsx(qc,{className:"mr-2",size:"sm"}),"Signing in..."]}):"Sign In"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-border"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-background text-muted-foreground",children:"Or continue with"})})]}),l.jsx(Me,{type:"button",variant:"outline",className:"w-full",onClick:y,disabled:n||i,children:i?l.jsxs(l.Fragment,{children:[l.jsx(qc,{className:"mr-2",size:"sm"}),"Signing in..."]}):l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})}),l.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",l.jsx(Ht,{to:"/signup",className:"text-primary hover:underline",children:"Sign up"})]})]})})]})})},ZF=()=>{const[t,e]=S.useState({name:"",email:"",password:"",confirmPassword:"",businessName:"",mobile:""}),[n,r]=S.useState(!1),[i,s]=S.useState(!1),[o,a]=S.useState(""),[c,u]=S.useState(!1),[h,m]=S.useState(0),[y,p]=S.useState(0),[N,v]=S.useState(!1),{signup:x,googleLogin:A}=Pu(),C=_u(),{toast:L}=ld(),B=E=>{e({...t,[E.target.name]:E.target.value})},J=async E=>{if(E.preventDefault(),t.password!==t.confirmPassword){L({title:"Error",description:"Passwords do not match",variant:"destructive"});return}if(t.password.length<6){L({title:"Error",description:"Password must be at least 6 characters",variant:"destructive"});return}r(!0);try{const I=await x(t.email,t.password,{name:t.name,email:t.email,businessName:t.businessName,mobile:t.mobile});await re(I.uid),L({title:"Account created!",description:"Please verify your email with the OTP sent."})}catch(I){L({title:"Error",description:I.message,variant:"destructive"})}finally{r(!1)}},re=async E=>{try{const k=await(await fetch("http://localhost:5000/send-email-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,uid:E})})).json();if(k.success)s(!0),u(!0),m(300),P(),L({title:"OTP Sent!",description:"Check your email for verification code."});else throw new Error(k.error||"Failed to send OTP")}catch(I){L({title:"Error",description:I.message,variant:"destructive"})}},V=async()=>{if(o.length!==6){L({title:"Error",description:"Please enter a 6-digit OTP",variant:"destructive"});return}r(!0);try{const I=await(await fetch("http://localhost:5000/verify-email-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,otp:o})})).json();if(I.success)L({title:"Email Verified!",description:"Your account is now verified. Welcome to Aqua2Promo!"}),C("/");else throw new Error(I.error||"Invalid OTP")}catch(E){L({title:"Error",description:E.message,variant:"destructive"})}finally{r(!1)}},j=async()=>{if(y>=3){L({title:"Error",description:"Maximum resend attempts reached",variant:"destructive"});return}try{const I=await(await fetch("http://localhost:5000/send-email-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,uid:"resend"})})).json();if(I.success)p(k=>k+1),m(300),P(),L({title:"OTP Resent!",description:"New OTP sent to your email."});else throw new Error(I.error||"Failed to resend OTP")}catch(E){L({title:"Error",description:E.message,variant:"destructive"})}},P=()=>{const E=setInterval(()=>{m(I=>I<=1?(clearInterval(E),0):I-1)},1e3)},O=async()=>{v(!0);try{await A(),L({title:"Welcome!",description:"You've successfully signed up with Google."}),C("/")}catch(E){L({title:"Error",description:E.message,variant:"destructive"})}finally{v(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 via-background to-secondary/10 py-12 px-4",children:l.jsxs(sr,{className:"w-full max-w-md",children:[l.jsxs(sc,{children:[l.jsx(oc,{className:"text-2xl text-center",children:"Create Account"}),l.jsx("p",{className:"text-center text-muted-foreground",children:"Join Aqua2Promo today"})]}),l.jsx(ac,{children:i?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Verify Your Email"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["We've sent a 6-digit code to ",t.email]})]}),l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"otp",children:"Enter OTP"}),l.jsx(Jn,{id:"otp",type:"text",value:o,onChange:E=>a(E.target.value),className:"text-center text-lg tracking-widest",placeholder:"123456",maxLength:6})]}),l.jsx("div",{className:"flex gap-2",children:l.jsx(Me,{type:"button",onClick:V,className:"flex-1",disabled:n||o.length!==6,children:n?l.jsxs(l.Fragment,{children:[l.jsx(qc,{className:"mr-2",size:"sm"}),"Verifying..."]}):"Verify OTP"})}),l.jsx("div",{className:"text-center space-y-2",children:h>0?l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Resend OTP in ",Math.floor(h/60),":",(h%60).toString().padStart(2,"0")]}):l.jsx(Me,{type:"button",variant:"outline",onClick:j,disabled:y>=3||n,className:"text-sm",children:y>=3?"Max attempts reached":"Resend OTP"})}),l.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Didn't receive the code? Check your spam folder or"," ",l.jsx("button",{type:"button",onClick:()=>s(!1),className:"text-primary hover:underline",children:"go back"})]})]}):l.jsxs("form",{onSubmit:J,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"name",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(jh,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),l.jsx(Jn,{id:"name",name:"name",type:"text",value:t.name,onChange:B,className:"pl-10",placeholder:"John Doe",required:!0})]})]}),l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"email",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(iu,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),l.jsx(Jn,{id:"email",name:"email",type:"email",value:t.email,onChange:B,className:"pl-10",placeholder:"john@example.com",required:!0})]})]}),l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"businessName",children:"Business Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(T5,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),l.jsx(Jn,{id:"businessName",name:"businessName",type:"text",value:t.businessName,onChange:B,className:"pl-10",placeholder:"Your Business Name",required:!0})]})]}),l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"mobile",children:"Mobile Number"}),l.jsxs("div",{className:"relative",children:[l.jsx(Op,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),l.jsx(Jn,{id:"mobile",name:"mobile",type:"tel",value:t.mobile,onChange:B,className:"pl-10",placeholder:"+91 1234567890",required:!0})]})]}),l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Wg,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),l.jsx(Jn,{id:"password",name:"password",type:"password",value:t.password,onChange:B,className:"pl-10",placeholder:"••••••••",required:!0})]})]}),l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"confirmPassword",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Wg,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),l.jsx(Jn,{id:"confirmPassword",name:"confirmPassword",type:"password",value:t.confirmPassword,onChange:B,className:"pl-10",placeholder:"••••••••",required:!0})]})]}),l.jsx(Me,{type:"submit",className:"w-full",disabled:n||N,children:n?l.jsxs(l.Fragment,{children:[l.jsx(qc,{className:"mr-2",size:"sm"}),"Creating Account..."]}):"Create Account"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-border"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-background text-muted-foreground",children:"Or continue with"})})]}),l.jsx(Me,{type:"button",variant:"outline",className:"w-full",onClick:O,disabled:n||N,children:N?l.jsxs(l.Fragment,{children:[l.jsx(qc,{className:"mr-2",size:"sm"}),"Signing up..."]}):l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]})}),l.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",l.jsx(Ht,{to:"/login",className:"text-primary hover:underline",children:"Sign in"})]})]})})]})})},eV=Lp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function mh({className:t,variant:e,...n}){return l.jsx("div",{className:kt(eV({variant:e}),t),...n})}const tV=()=>{const{currentUser:t,userData:e,logout:n}=Pu(),r=_u(),[i,s]=S.useState(!1),o=async()=>{s(!0);try{await n(),r("/")}catch(a){console.error("Logout error:",a)}finally{s(!1)}};return!t||!e?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-background py-12 px-4",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-4",children:"Profile"}),l.jsx("p",{className:"text-lg text-muted-foreground",children:"Manage your account information"})]}),l.jsxs(sr,{children:[l.jsx(sc,{children:l.jsxs(oc,{className:"flex items-center gap-2",children:[l.jsx(jh,{className:"w-5 h-5"}),"User Information"]})}),l.jsxs(ac,{className:"space-y-6",children:[l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(jh,{className:"w-4 h-4"}),l.jsx("span",{children:"Full Name"})]}),l.jsx("p",{className:"text-lg font-medium",children:e.name||"Not provided"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(iu,{className:"w-4 h-4"}),l.jsx("span",{children:"Email"})]}),l.jsx("p",{className:"text-lg font-medium",children:e.email})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(T5,{className:"w-4 h-4"}),l.jsx("span",{children:"Business Name"})]}),l.jsx("p",{className:"text-lg font-medium",children:e.businessName||"Not provided"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(Op,{className:"w-4 h-4"}),l.jsx("span",{children:"Mobile Number"})]}),l.jsx("p",{className:"text-lg font-medium",children:e.mobile||"Not provided"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(iu,{className:"w-4 h-4"}),l.jsx("span",{children:"Email Verification"})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(mh,{variant:e.emailVerified?"default":"destructive",children:e.emailVerified?"✅ Verified":"❌ Not Verified"})})]})]}),e.createdAt&&l.jsxs("div",{className:"pt-4 border-t",children:[l.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:l.jsx("span",{children:"Member since"})}),l.jsx("p",{className:"text-lg font-medium",children:new Date(e.createdAt.seconds*1e3).toLocaleDateString()})]}),l.jsx("div",{className:"pt-6",children:l.jsx(Me,{onClick:o,variant:"outline",className:"w-full",disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx(qc,{className:"mr-2",size:"sm"}),"Logging out..."]}):l.jsxs(l.Fragment,{children:[l.jsx(_C,{className:"w-4 h-4 mr-2"}),"Logout"]})})})]})]})]})})},EE=S.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:kt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));EE.displayName="Textarea";var dm="Checkbox",[nV,Xq]=Uo(dm),[rV,I2]=nV(dm);function iV(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:o,name:a,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:m}=t,[y,p]=Fl({prop:n,defaultProp:i??!1,onChange:c,caller:dm}),[N,v]=S.useState(null),[x,A]=S.useState(null),C=S.useRef(!1),L=N?!!o||!!N.closest("form"):!0,B={checked:y,disabled:s,setChecked:p,control:N,setControl:v,name:a,form:o,value:h,hasConsumerStoppedPropagationRef:C,required:u,defaultChecked:Ua(i)?!1:i,isFormControl:L,bubbleInput:x,setBubbleInput:A};return l.jsx(rV,{scope:e,...B,children:sV(m)?m(B):r})}var SE="CheckboxTrigger",TE=S.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:o,disabled:a,checked:c,required:u,setControl:h,setChecked:m,hasConsumerStoppedPropagationRef:y,isFormControl:p,bubbleInput:N}=I2(SE,t),v=pn(i,h),x=S.useRef(c);return S.useEffect(()=>{const A=s==null?void 0:s.form;if(A){const C=()=>m(x.current);return A.addEventListener("reset",C),()=>A.removeEventListener("reset",C)}},[s,m]),l.jsx(Mt.button,{type:"button",role:"checkbox","aria-checked":Ua(c)?"mixed":c,"aria-required":u,"data-state":RE(c),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:v,onKeyDown:It(e,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:It(n,A=>{m(C=>Ua(C)?!0:!C),N&&p&&(y.current=A.isPropagationStopped(),y.current||A.stopPropagation())})})});TE.displayName=SE;var P2=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:c,onCheckedChange:u,form:h,...m}=t;return l.jsx(iV,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:a,required:o,onCheckedChange:u,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:y})=>l.jsxs(l.Fragment,{children:[l.jsx(TE,{...m,ref:e,__scopeCheckbox:n}),y&&l.jsx(kE,{__scopeCheckbox:n})]})})});P2.displayName=dm;var CE="CheckboxIndicator",IE=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=I2(CE,n);return l.jsx(el,{present:r||Ua(s.checked)||s.checked===!0,children:l.jsx(Mt.span,{"data-state":RE(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});IE.displayName=CE;var PE="CheckboxBubbleInput",kE=S.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:a,disabled:c,name:u,value:h,form:m,bubbleInput:y,setBubbleInput:p}=I2(PE,t),N=pn(n,p),v=E2(s),x=x1(r);S.useEffect(()=>{const C=y;if(!C)return;const L=window.HTMLInputElement.prototype,J=Object.getOwnPropertyDescriptor(L,"checked").set,re=!i.current;if(v!==s&&J){const V=new Event("click",{bubbles:re});C.indeterminate=Ua(s),J.call(C,Ua(s)?!1:s),C.dispatchEvent(V)}},[y,v,s,i]);const A=S.useRef(Ua(s)?!1:s);return l.jsx(Mt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??A.current,required:a,disabled:c,name:u,value:h,form:m,...e,tabIndex:-1,ref:N,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});kE.displayName=PE;function sV(t){return typeof t=="function"}function Ua(t){return t==="indeterminate"}function RE(t){return Ua(t)?"indeterminate":t?"checked":"unchecked"}const jE=S.forwardRef(({className:t,...e},n)=>l.jsx(P2,{ref:n,className:kt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(IE,{className:kt("flex items-center justify-center text-current"),children:l.jsx(C5,{className:"h-4 w-4"})})}));jE.displayName=P2.displayName;var fm="Dialog",[LE,Qq]=Uo(fm),[oV,vs]=LE(fm),OE=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=S.useRef(null),c=S.useRef(null),[u,h]=Fl({prop:r,defaultProp:i??!1,onChange:s,caller:fm});return l.jsx(oV,{scope:e,triggerRef:a,contentRef:c,contentId:Ol(),titleId:Ol(),descriptionId:Ol(),open:u,onOpenChange:h,onOpenToggle:S.useCallback(()=>h(m=>!m),[h]),modal:o,children:n})};OE.displayName=fm;var DE="DialogTrigger",ME=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vs(DE,n),s=pn(e,i.triggerRef);return l.jsx(Mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":j2(i.open),...r,ref:s,onClick:It(t.onClick,i.onOpenToggle)})});ME.displayName=DE;var k2="DialogPortal",[aV,FE]=LE(k2,{forceMount:void 0}),VE=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=vs(k2,e);return l.jsx(aV,{scope:e,forceMount:n,children:S.Children.map(r,o=>l.jsx(el,{present:n||s.open,children:l.jsx(kp,{asChild:!0,container:i,children:o})}))})};VE.displayName=k2;var Ap="DialogOverlay",BE=S.forwardRef((t,e)=>{const n=FE(Ap,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=vs(Ap,t.__scopeDialog);return s.modal?l.jsx(el,{present:r||s.open,children:l.jsx(cV,{...i,ref:e})}):null});BE.displayName=Ap;var lV=ru("DialogOverlay.RemoveScroll"),cV=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vs(Ap,n);return l.jsx(T2,{as:lV,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Mt.div,{"data-state":j2(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Yl="DialogContent",UE=S.forwardRef((t,e)=>{const n=FE(Yl,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=vs(Yl,t.__scopeDialog);return l.jsx(el,{present:r||s.open,children:s.modal?l.jsx(uV,{...i,ref:e}):l.jsx(hV,{...i,ref:e})})});UE.displayName=Yl;var uV=S.forwardRef((t,e)=>{const n=vs(Yl,t.__scopeDialog),r=S.useRef(null),i=pn(e,n.contentRef,r);return S.useEffect(()=>{const s=r.current;if(s)return LA(s)},[]),l.jsx(zE,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:It(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:It(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:It(t.onFocusOutside,s=>s.preventDefault())})}),hV=S.forwardRef((t,e)=>{const n=vs(Yl,t.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return l.jsx(zE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),zE=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=vs(Yl,n),c=S.useRef(null),u=pn(e,c);return kA(),l.jsxs(l.Fragment,{children:[l.jsx(S2,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(cd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":j2(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(dV,{titleId:a.titleId}),l.jsx(pV,{contentRef:c,descriptionId:a.descriptionId})]})]})}),R2="DialogTitle",qE=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vs(R2,n);return l.jsx(Mt.h2,{id:i.titleId,...r,ref:e})});qE.displayName=R2;var $E="DialogDescription",HE=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vs($E,n);return l.jsx(Mt.p,{id:i.descriptionId,...r,ref:e})});HE.displayName=$E;var WE="DialogClose",GE=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vs(WE,n);return l.jsx(Mt.button,{type:"button",...r,ref:e,onClick:It(t.onClick,()=>i.onOpenChange(!1))})});GE.displayName=WE;function j2(t){return t?"open":"closed"}var KE="DialogTitleWarning",[Zq,YE]=vT(KE,{contentName:Yl,titleName:R2,docsSlug:"dialog"}),dV=({titleId:t})=>{const e=YE(KE),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},fV="DialogDescriptionWarning",pV=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${YE(fV).contentName}}.`;return S.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},mV=OE,gV=ME,yV=VE,JE=BE,XE=UE,QE=qE,ZE=HE,vV=GE;const eS=mV,bV=gV,xV=yV,tS=S.forwardRef(({className:t,...e},n)=>l.jsx(JE,{ref:n,className:kt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));tS.displayName=JE.displayName;const L2=S.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(xV,{children:[l.jsx(tS,{}),l.jsxs(XE,{ref:r,className:kt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(vV,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(h1,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));L2.displayName=XE.displayName;const O2=({className:t,...e})=>l.jsx("div",{className:kt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});O2.displayName="DialogHeader";const D2=S.forwardRef(({className:t,...e},n)=>l.jsx(QE,{ref:n,className:kt("text-lg font-semibold leading-none tracking-tight",t),...e}));D2.displayName=QE.displayName;const wV=S.forwardRef(({className:t,...e},n)=>l.jsx(ZE,{ref:n,className:kt("text-sm text-muted-foreground",t),...e}));wV.displayName=ZE.displayName;var pm="Collapsible",[_V,e$]=Uo(pm),[NV,M2]=_V(pm),nS=S.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...a}=t,[c,u]=Fl({prop:r,defaultProp:i??!1,onChange:o,caller:pm});return l.jsx(NV,{scope:n,disabled:s,contentId:Ol(),open:c,onOpenToggle:S.useCallback(()=>u(h=>!h),[u]),children:l.jsx(Mt.div,{"data-state":V2(c),"data-disabled":s?"":void 0,...a,ref:e})})});nS.displayName=pm;var rS="CollapsibleTrigger",iS=S.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=M2(rS,n);return l.jsx(Mt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":V2(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:It(t.onClick,i.onOpenToggle)})});iS.displayName=rS;var F2="CollapsibleContent",sS=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=M2(F2,t.__scopeCollapsible);return l.jsx(el,{present:n||i.open,children:({present:s})=>l.jsx(AV,{...r,ref:e,present:s})})});sS.displayName=F2;var AV=S.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=M2(F2,n),[a,c]=S.useState(r),u=S.useRef(null),h=pn(e,u),m=S.useRef(0),y=m.current,p=S.useRef(0),N=p.current,v=o.open||a,x=S.useRef(v),A=S.useRef(void 0);return S.useEffect(()=>{const C=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(C)},[]),_r(()=>{const C=u.current;if(C){A.current=A.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const L=C.getBoundingClientRect();m.current=L.height,p.current=L.width,x.current||(C.style.transitionDuration=A.current.transitionDuration,C.style.animationName=A.current.animationName),c(r)}},[o.open,r]),l.jsx(Mt.div,{"data-state":V2(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...s,ref:h,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":N?`${N}px`:void 0,...t.style},children:v&&i})});function V2(t){return t?"open":"closed"}var EV=nS;const SV=EV,TV=iS,CV=sS;function xn(t){"@babel/helpers - typeof";return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(t)}var ys=Uint8Array,ki=Uint16Array,B2=Int32Array,U2=new ys([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),z2=new ys([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vx=new ys([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),oS=function(t,e){for(var n=new ki(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new B2(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},aS=oS(U2,2),IV=aS.b,q0=aS.r;IV[28]=258,q0[258]=28;var PV=oS(z2,0),bx=PV.r,$0=new ki(32768);for(var Mn=0;Mn<32768;++Mn){var ga=(Mn&43690)>>1|(Mn&21845)<<1;ga=(ga&52428)>>2|(ga&13107)<<2,ga=(ga&61680)>>4|(ga&3855)<<4,$0[Mn]=((ga&65280)>>8|(ga&255)<<8)>>1}var Ch=function(t,e,n){for(var r=t.length,i=0,s=new ki(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new ki(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new ki(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],h=e-t[i],m=o[t[i]-1]++<<h,y=m|(1<<h)-1;m<=y;++m)a[$0[m]>>c]=u}else for(a=new ki(r),i=0;i<r;++i)t[i]&&(a[i]=$0[o[t[i]-1]++]>>15-t[i]);return a},Jl=new ys(288);for(var Mn=0;Mn<144;++Mn)Jl[Mn]=8;for(var Mn=144;Mn<256;++Mn)Jl[Mn]=9;for(var Mn=256;Mn<280;++Mn)Jl[Mn]=7;for(var Mn=280;Mn<288;++Mn)Jl[Mn]=8;var Ep=new ys(32);for(var Mn=0;Mn<32;++Mn)Ep[Mn]=5;var kV=Ch(Jl,9,0),RV=Ch(Ep,5,0),lS=function(t){return(t+7)/8|0},jV=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new ys(t.subarray(e,n))},Ao=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},ih=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},mg=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:uS,l:0};if(i==1){var o=new ys(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(J,re){return J.f-re.f}),n.push({s:-1,f:25001});var a=n[0],c=n[1],u=0,h=1,m=2;for(n[0]={s:-1,f:a.f+c.f,l:a,r:c};h!=i-1;)a=n[n[u].f<n[m].f?u++:m++],c=n[u!=h&&n[u].f<n[m].f?u++:m++],n[h++]={s:-1,f:a.f+c.f,l:a,r:c};for(var y=s[0].s,r=1;r<i;++r)s[r].s>y&&(y=s[r].s);var p=new ki(y+1),N=H0(n[h-1],p,0);if(N>e){var r=0,v=0,x=N-e,A=1<<x;for(s.sort(function(re,V){return p[V.s]-p[re.s]||re.f-V.f});r<i;++r){var C=s[r].s;if(p[C]>e)v+=A-(1<<N-p[C]),p[C]=e;else break}for(v>>=x;v>0;){var L=s[r].s;p[L]<e?v-=1<<e-p[L]++-1:++r}for(;r>=0&&v;--r){var B=s[r].s;p[B]==e&&(--p[B],++v)}N=e}return{t:new ys(p),l:N}},H0=function(t,e,n){return t.s==-1?Math.max(H0(t.l,e,n+1),H0(t.r,e,n+1)):e[t.s]=n},xx=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ki(++e),r=0,i=t[0],s=1,o=function(c){n[r++]=c},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},sh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},cS=function(t,e,n){var r=n.length,i=lS(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},wx=function(t,e,n,r,i,s,o,a,c,u,h){Ao(e,h++,n),++i[256];for(var m=mg(i,15),y=m.t,p=m.l,N=mg(s,15),v=N.t,x=N.l,A=xx(y),C=A.c,L=A.n,B=xx(v),J=B.c,re=B.n,V=new ki(19),j=0;j<C.length;++j)++V[C[j]&31];for(var j=0;j<J.length;++j)++V[J[j]&31];for(var P=mg(V,7),O=P.t,E=P.l,I=19;I>4&&!O[vx[I-1]];--I);var k=u+5<<3,G=sh(i,Jl)+sh(s,Ep)+o,ce=sh(i,y)+sh(s,v)+o+14+3*I+sh(V,O)+2*V[16]+3*V[17]+7*V[18];if(c>=0&&k<=G&&k<=ce)return cS(e,h,t.subarray(c,c+u));var ue,fe,ie,ae;if(Ao(e,h,1+(ce<G)),h+=2,ce<G){ue=Ch(y,p,0),fe=y,ie=Ch(v,x,0),ae=v;var Se=Ch(O,E,0);Ao(e,h,L-257),Ao(e,h+5,re-1),Ao(e,h+10,I-4),h+=14;for(var j=0;j<I;++j)Ao(e,h+3*j,O[vx[j]]);h+=3*I;for(var _e=[C,J],z=0;z<2;++z)for(var Y=_e[z],j=0;j<Y.length;++j){var X=Y[j]&31;Ao(e,h,Se[X]),h+=O[X],X>15&&(Ao(e,h,Y[j]>>5&127),h+=Y[j]>>12)}}else ue=kV,fe=Jl,ie=RV,ae=Ep;for(var j=0;j<a;++j){var M=r[j];if(M>255){var X=M>>18&31;ih(e,h,ue[X+257]),h+=fe[X+257],X>7&&(Ao(e,h,M>>23&31),h+=U2[X]);var U=M&31;ih(e,h,ie[U]),h+=ae[U],U>3&&(ih(e,h,M>>5&8191),h+=z2[U])}else ih(e,h,ue[M]),h+=fe[M]}return ih(e,h,ue[256]),h+fe[256]},LV=new B2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uS=new ys(0),OV=function(t,e,n,r,i,s){var o=s.z||t.length,a=new ys(r+o+5*(1+Math.ceil(o/7e3))+i),c=a.subarray(r,a.length-i),u=s.l,h=(s.r||0)&7;if(e){h&&(c[0]=s.r>>3);for(var m=LV[e-1],y=m>>13,p=m&8191,N=(1<<n)-1,v=s.p||new ki(32768),x=s.h||new ki(N+1),A=Math.ceil(n/3),C=2*A,L=function(we){return(t[we]^t[we+1]<<A^t[we+2]<<C)&N},B=new B2(25e3),J=new ki(288),re=new ki(32),V=0,j=0,P=s.i||0,O=0,E=s.w||0,I=0;P+2<o;++P){var k=L(P),G=P&32767,ce=x[k];if(v[G]=ce,x[k]=G,E<=P){var ue=o-P;if((V>7e3||O>24576)&&(ue>423||!u)){h=wx(t,c,0,B,J,re,j,O,I,P-I,h),O=V=j=0,I=P;for(var fe=0;fe<286;++fe)J[fe]=0;for(var fe=0;fe<30;++fe)re[fe]=0}var ie=2,ae=0,Se=p,_e=G-ce&32767;if(ue>2&&k==L(P-_e))for(var z=Math.min(y,ue)-1,Y=Math.min(32767,P),X=Math.min(258,ue);_e<=Y&&--Se&&G!=ce;){if(t[P+ie]==t[P+ie-_e]){for(var M=0;M<X&&t[P+M]==t[P+M-_e];++M);if(M>ie){if(ie=M,ae=_e,M>z)break;for(var U=Math.min(_e,M-2),ne=0,fe=0;fe<U;++fe){var oe=P-_e+fe&32767,pe=v[oe],ye=oe-pe&32767;ye>ne&&(ne=ye,ce=oe)}}}G=ce,ce=v[G],_e+=G-ce&32767}if(ae){B[O++]=268435456|q0[ie]<<18|bx[ae];var Ne=q0[ie]&31,Re=bx[ae]&31;j+=U2[Ne]+z2[Re],++J[257+Ne],++re[Re],E=P+ie,++V}else B[O++]=t[P],++J[t[P]]}}for(P=Math.max(P,E);P<o;++P)B[O++]=t[P],++J[t[P]];h=wx(t,c,u,B,J,re,j,O,I,P-I,h),u||(s.r=h&7|c[h/8|0]<<3,h-=7,s.h=x,s.p=v,s.i=P,s.w=E)}else{for(var P=s.w||0;P<o+u;P+=65535){var Fe=P+65535;Fe>=o&&(c[h/8|0]=u,Fe=o),h=cS(c,h+1,t.subarray(P,Fe))}s.i=o}return jV(a,0,r+lS(h)+i)},hS=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},DV=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new ys(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return OV(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},dS=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},MV=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=hS();i.p(e.dictionary),dS(t,2,i.d())}};function W0(t,e){e||(e={});var n=hS();n.p(t);var r=DV(t,e,e.dictionary?6:2,4);return MV(r,e),dS(r,r.length-4,n.d()),r}var FV=typeof TextDecoder<"u"&&new TextDecoder,VV=0;try{FV.decode(uS,{stream:!0}),VV=1}catch{}function BV(t){if(Array.isArray(t))return t}function UV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function _x(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function zV(t,e){if(t){if(typeof t=="string")return _x(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_x(t,e):void 0}}function qV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nx(t,e){return BV(t)||UV(t,e)||zV(t,e)||qV()}function Ax(t,e="utf8"){return new TextDecoder(e).decode(t)}const $V=new TextEncoder;function HV(t){return $V.encode(t)}const WV=1024*8,GV=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),gg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class q2{constructor(e=WV,n={}){vn(this,"buffer");vn(this,"byteLength");vn(this,"byteOffset");vn(this,"length");vn(this,"offset");vn(this,"lastWrittenByte");vn(this,"littleEndian");vn(this,"_data");vn(this,"_mark");vn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof q2)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=gg[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===GV&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const c=new gg[n](a.buffer);return this.offset+=r,c.reverse(),c}const o=new gg[n](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return Ax(this.readBytes(e))}decodeText(e=1,n="utf8"){return Ax(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(HV(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const KV=4,Ex=0,Sx=1,YV=2;function Ru(t){let e=t.length;for(;--e>=0;)t[e]=0}const JV=0,fS=1,XV=2,QV=3,ZV=258,$2=29,Ed=256,Xh=Ed+1+$2,$c=30,H2=19,pS=2*Xh+1,Sl=15,yg=16,eB=7,W2=256,mS=16,gS=17,yS=18,G0=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Vf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),tB=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),vS=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nB=512,To=new Array((Xh+2)*2);Ru(To);const Ih=new Array($c*2);Ru(Ih);const Qh=new Array(nB);Ru(Qh);const Zh=new Array(ZV-QV+1);Ru(Zh);const G2=new Array($2);Ru(G2);const Sp=new Array($c);Ru(Sp);function vg(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let bS,xS,wS;function bg(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const _S=t=>t<256?Qh[t]:Qh[256+(t>>>7)],ed=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},fi=(t,e,n)=>{t.bi_valid>yg-n?(t.bi_buf|=e<<t.bi_valid&65535,ed(t,t.bi_buf),t.bi_buf=e>>yg-t.bi_valid,t.bi_valid+=n-yg):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},$s=(t,e,n)=>{fi(t,n[e*2],n[e*2+1])},NS=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},rB=t=>{t.bi_valid===16?(ed(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},iB=(t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length;let u,h,m,y,p,N,v=0;for(y=0;y<=Sl;y++)t.bl_count[y]=0;for(n[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<pS;u++)h=t.heap[u],y=n[n[h*2+1]*2+1]+1,y>c&&(y=c,v++),n[h*2+1]=y,!(h>r)&&(t.bl_count[y]++,p=0,h>=a&&(p=o[h-a]),N=n[h*2],t.opt_len+=N*(y+p),s&&(t.static_len+=N*(i[h*2+1]+p)));if(v!==0){do{for(y=c-1;t.bl_count[y]===0;)y--;t.bl_count[y]--,t.bl_count[y+1]+=2,t.bl_count[c]--,v-=2}while(v>0);for(y=c;y!==0;y--)for(h=t.bl_count[y];h!==0;)m=t.heap[--u],!(m>r)&&(n[m*2+1]!==y&&(t.opt_len+=(y-n[m*2+1])*n[m*2],n[m*2+1]=y),h--)}},AS=(t,e,n)=>{const r=new Array(Sl+1);let i=0,s,o;for(s=1;s<=Sl;s++)i=i+n[s-1]<<1,r[s]=i;for(o=0;o<=e;o++){let a=t[o*2+1];a!==0&&(t[o*2]=NS(r[a]++,a))}},sB=()=>{let t,e,n,r,i;const s=new Array(Sl+1);for(n=0,r=0;r<$2-1;r++)for(G2[r]=n,t=0;t<1<<G0[r];t++)Zh[n++]=r;for(Zh[n-1]=r,i=0,r=0;r<16;r++)for(Sp[r]=i,t=0;t<1<<Vf[r];t++)Qh[i++]=r;for(i>>=7;r<$c;r++)for(Sp[r]=i<<7,t=0;t<1<<Vf[r]-7;t++)Qh[256+i++]=r;for(e=0;e<=Sl;e++)s[e]=0;for(t=0;t<=143;)To[t*2+1]=8,t++,s[8]++;for(;t<=255;)To[t*2+1]=9,t++,s[9]++;for(;t<=279;)To[t*2+1]=7,t++,s[7]++;for(;t<=287;)To[t*2+1]=8,t++,s[8]++;for(AS(To,Xh+1,s),t=0;t<$c;t++)Ih[t*2+1]=5,Ih[t*2]=NS(t,5);bS=new vg(To,G0,Ed+1,Xh,Sl),xS=new vg(Ih,Vf,0,$c,Sl),wS=new vg(new Array(0),tB,0,H2,eB)},ES=t=>{let e;for(e=0;e<Xh;e++)t.dyn_ltree[e*2]=0;for(e=0;e<$c;e++)t.dyn_dtree[e*2]=0;for(e=0;e<H2;e++)t.bl_tree[e*2]=0;t.dyn_ltree[W2*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},SS=t=>{t.bi_valid>8?ed(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Tx=(t,e,n,r)=>{const i=e*2,s=n*2;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]},xg=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&Tx(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!Tx(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},Cx=(t,e,n)=>{let r,i,s=0,o,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+s++]&255,r+=(t.pending_buf[t.sym_buf+s++]&255)<<8,i=t.pending_buf[t.sym_buf+s++],r===0?$s(t,i,e):(o=Zh[i],$s(t,o+Ed+1,e),a=G0[o],a!==0&&(i-=G2[o],fi(t,i,a)),r--,o=_S(r),$s(t,o,n),a=Vf[o],a!==0&&(r-=Sp[o],fi(t,r,a)));while(s<t.sym_next);$s(t,W2,e)},K0=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,c=-1,u;for(t.heap_len=0,t.heap_max=pS,o=0;o<s;o++)n[o*2]!==0?(t.heap[++t.heap_len]=c=o,t.depth[o]=0):n[o*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=c<2?++c:0,n[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=r[u*2+1]);for(e.max_code=c,o=t.heap_len>>1;o>=1;o--)xg(t,n,o);u=s;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],xg(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,n[u*2]=n[o*2]+n[a*2],t.depth[u]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,n[o*2+1]=n[a*2+1]=u,t.heap[1]=u++,xg(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],iB(t,e),AS(n,c,t.bl_count)},Ix=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],a=0,c=7,u=4;for(o===0&&(c=138,u=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=e[(r+1)*2+1],!(++a<c&&s===o)&&(a<u?t.bl_tree[s*2]+=a:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[mS*2]++):a<=10?t.bl_tree[gS*2]++:t.bl_tree[yS*2]++,a=0,i=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4))},Px=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],a=0,c=7,u=4;for(o===0&&(c=138,u=3),r=0;r<=n;r++)if(s=o,o=e[(r+1)*2+1],!(++a<c&&s===o)){if(a<u)do $s(t,s,t.bl_tree);while(--a!==0);else s!==0?(s!==i&&($s(t,s,t.bl_tree),a--),$s(t,mS,t.bl_tree),fi(t,a-3,2)):a<=10?($s(t,gS,t.bl_tree),fi(t,a-3,3)):($s(t,yS,t.bl_tree),fi(t,a-11,7));a=0,i=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4)}},oB=t=>{let e;for(Ix(t,t.dyn_ltree,t.l_desc.max_code),Ix(t,t.dyn_dtree,t.d_desc.max_code),K0(t,t.bl_desc),e=H2-1;e>=3&&t.bl_tree[vS[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},aB=(t,e,n,r)=>{let i;for(fi(t,e-257,5),fi(t,n-1,5),fi(t,r-4,4),i=0;i<r;i++)fi(t,t.bl_tree[vS[i]*2+1],3);Px(t,t.dyn_ltree,e-1),Px(t,t.dyn_dtree,n-1)},lB=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return Ex;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Sx;for(n=32;n<Ed;n++)if(t.dyn_ltree[n*2]!==0)return Sx;return Ex};let kx=!1;const cB=t=>{kx||(sB(),kx=!0),t.l_desc=new bg(t.dyn_ltree,bS),t.d_desc=new bg(t.dyn_dtree,xS),t.bl_desc=new bg(t.bl_tree,wS),t.bi_buf=0,t.bi_valid=0,ES(t)},TS=(t,e,n,r)=>{fi(t,(JV<<1)+(r?1:0),3),SS(t),ed(t,n),ed(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},uB=t=>{fi(t,fS<<1,3),$s(t,W2,To),rB(t)},hB=(t,e,n,r)=>{let i,s,o=0;t.level>0?(t.strm.data_type===YV&&(t.strm.data_type=lB(t)),K0(t,t.l_desc),K0(t,t.d_desc),o=oB(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&e!==-1?TS(t,e,n,r):t.strategy===KV||s===i?(fi(t,(fS<<1)+(r?1:0),3),Cx(t,To,Ih)):(fi(t,(XV<<1)+(r?1:0),3),aB(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),Cx(t,t.dyn_ltree,t.dyn_dtree)),ES(t),r&&SS(t)},dB=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(Zh[n]+Ed+1)*2]++,t.dyn_dtree[_S(e)*2]++),t.sym_next===t.sym_end);var fB=cB,pB=TS,mB=hB,gB=dB,yB=uB,vB={_tr_init:fB,_tr_stored_block:pB,_tr_flush_block:mB,_tr_tally:gB,_tr_align:yB};const bB=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var td=bB;const xB=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},wB=new Uint32Array(xB()),_B=(t,e,n,r)=>{const i=wB,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var vr=_B,pu={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Sd={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:NB,_tr_stored_block:Y0,_tr_flush_block:AB,_tr_tally:za,_tr_align:EB}=vB,{Z_NO_FLUSH:qa,Z_PARTIAL_FLUSH:SB,Z_FULL_FLUSH:TB,Z_FINISH:Ji,Z_BLOCK:Rx,Z_OK:Sr,Z_STREAM_END:jx,Z_STREAM_ERROR:Zs,Z_DATA_ERROR:CB,Z_BUF_ERROR:wg,Z_DEFAULT_COMPRESSION:IB,Z_FILTERED:PB,Z_HUFFMAN_ONLY:ff,Z_RLE:kB,Z_FIXED:RB,Z_DEFAULT_STRATEGY:jB,Z_UNKNOWN:LB,Z_DEFLATED:mm}=Sd,OB=9,DB=15,MB=8,FB=29,VB=256,J0=VB+1+FB,BB=30,UB=19,zB=2*J0+1,qB=15,Zt=3,ja=258,eo=ja+Zt+1,$B=32,mu=42,K2=57,X0=69,Q0=73,Z0=91,e1=103,Tl=113,gh=666,ti=1,ju=2,Xl=3,Lu=4,HB=3,Cl=(t,e)=>(t.msg=pu[e],e),Lx=t=>t*2-(t>4?9:0),Aa=t=>{let e=t.length;for(;--e>=0;)t[e]=0},WB=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)};let GB=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,$a=GB;const Ci=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},Ri=(t,e)=>{AB(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Ci(t.strm)},un=(t,e)=>{t.pending_buf[t.pending++]=e},oh=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},t1=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=td(t.adler,e,i,n):t.state.wrap===2&&(t.adler=vr(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},CS=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,s,o=t.prev_length,a=t.nice_match;const c=t.strstart>t.w_size-eo?t.strstart-(t.w_size-eo):0,u=t.window,h=t.w_mask,m=t.prev,y=t.strstart+ja;let p=u[r+o-1],N=u[r+o];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(u[i+o]!==N||u[i+o-1]!==p||u[i]!==u[r]||u[++i]!==u[r+1])){r+=2,i++;do;while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<y);if(s=ja-(y-r),r=y-ja,s>o){if(t.match_start=e,o=s,s>=a)break;p=u[r+o-1],N=u[r+o]}}while((e=m[e&h])>c&&--n!==0);return o<=t.lookahead?o:t.lookahead},gu=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-eo)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),WB(t),r+=e),t.strm.avail_in===0)break;if(n=t1(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=Zt)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=$a(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=$a(t,t.ins_h,t.window[i+Zt-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<Zt)););}while(t.lookahead<eo&&t.strm.avail_in!==0)},IS=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,s,o=0,a=t.strm.avail_in;do{if(r=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s||(s=t.strm.avail_out-s,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&e!==Ji||e===qa||r!==i+t.strm.avail_in)))break;o=e===Ji&&r===i+t.strm.avail_in?1:0,Y0(t,0,0,o),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,Ci(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(t1(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(o===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?Lu:e!==qa&&e!==Ji&&t.strm.avail_in===0&&t.strstart===t.block_start?ju:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(t1(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,n=s>t.w_size?t.w_size:s,i=t.strstart-t.block_start,(i>=n||(i||e===Ji)&&e!==qa&&t.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=e===Ji&&t.strm.avail_in===0&&r===i?1:0,Y0(t,t.block_start,r,o),t.block_start+=r,Ci(t.strm)),o?Xl:ti)},_g=(t,e)=>{let n,r;for(;;){if(t.lookahead<eo){if(gu(t),t.lookahead<eo&&e===qa)return ti;if(t.lookahead===0)break}if(n=0,t.lookahead>=Zt&&(t.ins_h=$a(t,t.ins_h,t.window[t.strstart+Zt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-eo&&(t.match_length=CS(t,n)),t.match_length>=Zt)if(r=za(t,t.strstart-t.match_start,t.match_length-Zt),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Zt){t.match_length--;do t.strstart++,t.ins_h=$a(t,t.ins_h,t.window[t.strstart+Zt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=$a(t,t.ins_h,t.window[t.strstart+1]);else r=za(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Ri(t,!1),t.strm.avail_out===0))return ti}return t.insert=t.strstart<Zt-1?t.strstart:Zt-1,e===Ji?(Ri(t,!0),t.strm.avail_out===0?Xl:Lu):t.sym_next&&(Ri(t,!1),t.strm.avail_out===0)?ti:ju},Ec=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<eo){if(gu(t),t.lookahead<eo&&e===qa)return ti;if(t.lookahead===0)break}if(n=0,t.lookahead>=Zt&&(t.ins_h=$a(t,t.ins_h,t.window[t.strstart+Zt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Zt-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-eo&&(t.match_length=CS(t,n),t.match_length<=5&&(t.strategy===PB||t.match_length===Zt&&t.strstart-t.match_start>4096)&&(t.match_length=Zt-1)),t.prev_length>=Zt&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-Zt,r=za(t,t.strstart-1-t.prev_match,t.prev_length-Zt),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=$a(t,t.ins_h,t.window[t.strstart+Zt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Zt-1,t.strstart++,r&&(Ri(t,!1),t.strm.avail_out===0))return ti}else if(t.match_available){if(r=za(t,0,t.window[t.strstart-1]),r&&Ri(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return ti}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=za(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Zt-1?t.strstart:Zt-1,e===Ji?(Ri(t,!0),t.strm.avail_out===0?Xl:Lu):t.sym_next&&(Ri(t,!1),t.strm.avail_out===0)?ti:ju},KB=(t,e)=>{let n,r,i,s;const o=t.window;for(;;){if(t.lookahead<=ja){if(gu(t),t.lookahead<=ja&&e===qa)return ti;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Zt&&t.strstart>0&&(i=t.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=t.strstart+ja;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);t.match_length=ja-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Zt?(n=za(t,1,t.match_length-Zt),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=za(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Ri(t,!1),t.strm.avail_out===0))return ti}return t.insert=0,e===Ji?(Ri(t,!0),t.strm.avail_out===0?Xl:Lu):t.sym_next&&(Ri(t,!1),t.strm.avail_out===0)?ti:ju},YB=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(gu(t),t.lookahead===0)){if(e===qa)return ti;break}if(t.match_length=0,n=za(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Ri(t,!1),t.strm.avail_out===0))return ti}return t.insert=0,e===Ji?(Ri(t,!0),t.strm.avail_out===0?Xl:Lu):t.sym_next&&(Ri(t,!1),t.strm.avail_out===0)?ti:ju};function Ds(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const yh=[new Ds(0,0,0,0,IS),new Ds(4,4,8,4,_g),new Ds(4,5,16,8,_g),new Ds(4,6,32,32,_g),new Ds(4,4,16,16,Ec),new Ds(8,16,32,32,Ec),new Ds(8,16,128,128,Ec),new Ds(8,32,128,256,Ec),new Ds(32,128,258,1024,Ec),new Ds(32,258,258,4096,Ec)],JB=t=>{t.window_size=2*t.w_size,Aa(t.head),t.max_lazy_match=yh[t.level].max_lazy,t.good_match=yh[t.level].good_length,t.nice_match=yh[t.level].nice_length,t.max_chain_length=yh[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Zt-1,t.match_available=0,t.ins_h=0};function XB(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=mm,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(zB*2),this.dyn_dtree=new Uint16Array((2*BB+1)*2),this.bl_tree=new Uint16Array((2*UB+1)*2),Aa(this.dyn_ltree),Aa(this.dyn_dtree),Aa(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(qB+1),this.heap=new Uint16Array(2*J0+1),Aa(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*J0+1),Aa(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Td=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==mu&&e.status!==K2&&e.status!==X0&&e.status!==Q0&&e.status!==Z0&&e.status!==e1&&e.status!==Tl&&e.status!==gh?1:0},PS=t=>{if(Td(t))return Cl(t,Zs);t.total_in=t.total_out=0,t.data_type=LB;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?K2:e.wrap?mu:Tl,t.adler=e.wrap===2?0:1,e.last_flush=-2,NB(e),Sr},kS=t=>{const e=PS(t);return e===Sr&&JB(t.state),e},QB=(t,e)=>Td(t)||t.state.wrap!==2?Zs:(t.state.gzhead=e,Sr),RS=(t,e,n,r,i,s)=>{if(!t)return Zs;let o=1;if(e===IB&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>OB||n!==mm||r<8||r>15||e<0||e>9||s<0||s>RB||r===8&&o!==1)return Cl(t,Zs);r===8&&(r=9);const a=new XB;return t.state=a,a.strm=t,a.status=mu,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Zt-1)/Zt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=n,kS(t)},ZB=(t,e)=>RS(t,e,mm,DB,MB,jB),eU=(t,e)=>{if(Td(t)||e>Rx||e<0)return t?Cl(t,Zs):Zs;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===gh&&e!==Ji)return Cl(t,t.avail_out===0?wg:Zs);const r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(Ci(t),t.avail_out===0)return n.last_flush=-1,Sr}else if(t.avail_in===0&&Lx(e)<=Lx(r)&&e!==Ji)return Cl(t,wg);if(n.status===gh&&t.avail_in!==0)return Cl(t,wg);if(n.status===mu&&n.wrap===0&&(n.status=Tl),n.status===mu){let i=mm+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=ff||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=$B),i+=31-i%31,oh(n,i),n.strstart!==0&&(oh(n,t.adler>>>16),oh(n,t.adler&65535)),t.adler=1,n.status=Tl,Ci(t),n.pending!==0)return n.last_flush=-1,Sr}if(n.status===K2){if(t.adler=0,un(n,31),un(n,139),un(n,8),n.gzhead)un(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),un(n,n.gzhead.time&255),un(n,n.gzhead.time>>8&255),un(n,n.gzhead.time>>16&255),un(n,n.gzhead.time>>24&255),un(n,n.level===9?2:n.strategy>=ff||n.level<2?4:0),un(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(un(n,n.gzhead.extra.length&255),un(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=vr(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=X0;else if(un(n,0),un(n,0),un(n,0),un(n,0),un(n,0),un(n,n.level===9?2:n.strategy>=ff||n.level<2?4:0),un(n,HB),n.status=Tl,Ci(t),n.pending!==0)return n.last_flush=-1,Sr}if(n.status===X0){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=vr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,Ci(t),n.pending!==0)return n.last_flush=-1,Sr;i=0,s-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(t.adler=vr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Q0}if(n.status===Q0){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=vr(t.adler,n.pending_buf,n.pending-i,i)),Ci(t),n.pending!==0)return n.last_flush=-1,Sr;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,un(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=vr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Z0}if(n.status===Z0){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=vr(t.adler,n.pending_buf,n.pending-i,i)),Ci(t),n.pending!==0)return n.last_flush=-1,Sr;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,un(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=vr(t.adler,n.pending_buf,n.pending-i,i))}n.status=e1}if(n.status===e1){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Ci(t),n.pending!==0))return n.last_flush=-1,Sr;un(n,t.adler&255),un(n,t.adler>>8&255),t.adler=0}if(n.status=Tl,Ci(t),n.pending!==0)return n.last_flush=-1,Sr}if(t.avail_in!==0||n.lookahead!==0||e!==qa&&n.status!==gh){let i=n.level===0?IS(n,e):n.strategy===ff?YB(n,e):n.strategy===kB?KB(n,e):yh[n.level].func(n,e);if((i===Xl||i===Lu)&&(n.status=gh),i===ti||i===Xl)return t.avail_out===0&&(n.last_flush=-1),Sr;if(i===ju&&(e===SB?EB(n):e!==Rx&&(Y0(n,0,0,!1),e===TB&&(Aa(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Ci(t),t.avail_out===0))return n.last_flush=-1,Sr}return e!==Ji?Sr:n.wrap<=0?jx:(n.wrap===2?(un(n,t.adler&255),un(n,t.adler>>8&255),un(n,t.adler>>16&255),un(n,t.adler>>24&255),un(n,t.total_in&255),un(n,t.total_in>>8&255),un(n,t.total_in>>16&255),un(n,t.total_in>>24&255)):(oh(n,t.adler>>>16),oh(n,t.adler&65535)),Ci(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Sr:jx)},tU=t=>{if(Td(t))return Zs;const e=t.state.status;return t.state=null,e===Tl?Cl(t,CB):Sr},nU=(t,e)=>{let n=e.length;if(Td(t))return Zs;const r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==mu||r.lookahead)return Zs;if(i===1&&(t.adler=td(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(Aa(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(e.subarray(n-r.w_size,n),0),e=c,n=r.w_size}const s=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,gu(r);r.lookahead>=Zt;){let c=r.strstart,u=r.lookahead-(Zt-1);do r.ins_h=$a(r,r.ins_h,r.window[c+Zt-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=Zt-1,gu(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Zt-1,r.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,r.wrap=i,Sr};var rU=ZB,iU=RS,sU=kS,oU=PS,aU=QB,lU=eU,cU=tU,uU=nU,hU="pako deflate (from Nodeca project)",Ph={deflateInit:rU,deflateInit2:iU,deflateReset:sU,deflateResetKeep:oU,deflateSetHeader:aU,deflate:lU,deflateEnd:cU,deflateSetDictionary:uU,deflateInfo:hU};const dU=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var fU=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)dU(n,r)&&(t[r]=n[r])}}return t},pU=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},gm={assign:fU,flattenChunks:pU};let jS=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{jS=!1}const nd=new Uint8Array(256);for(let t=0;t<256;t++)nd[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;nd[254]=nd[254]=1;var mU=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const gU=(t,e)=>{if(e<65534&&t.subarray&&jS)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var yU=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let a=nd[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return gU(s,i)},vU=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+nd[t[n]]>e?n:e},rd={string2buf:mU,buf2string:yU,utf8border:vU};function bU(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var LS=bU;const OS=Object.prototype.toString,{Z_NO_FLUSH:xU,Z_SYNC_FLUSH:wU,Z_FULL_FLUSH:_U,Z_FINISH:NU,Z_OK:Tp,Z_STREAM_END:AU,Z_DEFAULT_COMPRESSION:EU,Z_DEFAULT_STRATEGY:SU,Z_DEFLATED:TU}=Sd;function Y2(t){this.options=gm.assign({level:EU,method:TU,chunkSize:16384,windowBits:15,memLevel:8,strategy:SU},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new LS,this.strm.avail_out=0;let n=Ph.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Tp)throw new Error(pu[n]);if(e.header&&Ph.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=rd.string2buf(e.dictionary):OS.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=Ph.deflateSetDictionary(this.strm,r),n!==Tp)throw new Error(pu[n]);this._dict_set=!0}}Y2.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?NU:xU,typeof t=="string"?n.input=rd.string2buf(t):OS.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===wU||s===_U)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Ph.deflate(n,s),i===AU)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Ph.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Tp;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Y2.prototype.onData=function(t){this.chunks.push(t)};Y2.prototype.onEnd=function(t){t===Tp&&(this.result=gm.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const pf=16209,CU=16191;var IU=function(e,n){let r,i,s,o,a,c,u,h,m,y,p,N,v,x,A,C,L,B,J,re,V,j,P,O;const E=e.state;r=e.next_in,P=e.input,i=r+(e.avail_in-5),s=e.next_out,O=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),c=E.dmax,u=E.wsize,h=E.whave,m=E.wnext,y=E.window,p=E.hold,N=E.bits,v=E.lencode,x=E.distcode,A=(1<<E.lenbits)-1,C=(1<<E.distbits)-1;e:do{N<15&&(p+=P[r++]<<N,N+=8,p+=P[r++]<<N,N+=8),L=v[p&A];t:for(;;){if(B=L>>>24,p>>>=B,N-=B,B=L>>>16&255,B===0)O[s++]=L&65535;else if(B&16){J=L&65535,B&=15,B&&(N<B&&(p+=P[r++]<<N,N+=8),J+=p&(1<<B)-1,p>>>=B,N-=B),N<15&&(p+=P[r++]<<N,N+=8,p+=P[r++]<<N,N+=8),L=x[p&C];n:for(;;){if(B=L>>>24,p>>>=B,N-=B,B=L>>>16&255,B&16){if(re=L&65535,B&=15,N<B&&(p+=P[r++]<<N,N+=8,N<B&&(p+=P[r++]<<N,N+=8)),re+=p&(1<<B)-1,re>c){e.msg="invalid distance too far back",E.mode=pf;break e}if(p>>>=B,N-=B,B=s-o,re>B){if(B=re-B,B>h&&E.sane){e.msg="invalid distance too far back",E.mode=pf;break e}if(V=0,j=y,m===0){if(V+=u-B,B<J){J-=B;do O[s++]=y[V++];while(--B);V=s-re,j=O}}else if(m<B){if(V+=u+m-B,B-=m,B<J){J-=B;do O[s++]=y[V++];while(--B);if(V=0,m<J){B=m,J-=B;do O[s++]=y[V++];while(--B);V=s-re,j=O}}}else if(V+=m-B,B<J){J-=B;do O[s++]=y[V++];while(--B);V=s-re,j=O}for(;J>2;)O[s++]=j[V++],O[s++]=j[V++],O[s++]=j[V++],J-=3;J&&(O[s++]=j[V++],J>1&&(O[s++]=j[V++]))}else{V=s-re;do O[s++]=O[V++],O[s++]=O[V++],O[s++]=O[V++],J-=3;while(J>2);J&&(O[s++]=O[V++],J>1&&(O[s++]=O[V++]))}}else if(B&64){e.msg="invalid distance code",E.mode=pf;break e}else{L=x[(L&65535)+(p&(1<<B)-1)];continue n}break}}else if(B&64)if(B&32){E.mode=CU;break e}else{e.msg="invalid literal/length code",E.mode=pf;break e}else{L=v[(L&65535)+(p&(1<<B)-1)];continue t}break}}while(r<i&&s<a);J=N>>3,r-=J,N-=J<<3,p&=(1<<N)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),E.hold=p,E.bits=N};const Sc=15,Ox=852,Dx=592,Mx=0,Ng=1,Fx=2,PU=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),kU=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),RU=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),jU=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),LU=(t,e,n,r,i,s,o,a)=>{const c=a.bits;let u=0,h=0,m=0,y=0,p=0,N=0,v=0,x=0,A=0,C=0,L,B,J,re,V,j=null,P;const O=new Uint16Array(Sc+1),E=new Uint16Array(Sc+1);let I=null,k,G,ce;for(u=0;u<=Sc;u++)O[u]=0;for(h=0;h<r;h++)O[e[n+h]]++;for(p=c,y=Sc;y>=1&&O[y]===0;y--);if(p>y&&(p=y),y===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(m=1;m<y&&O[m]===0;m++);for(p<m&&(p=m),x=1,u=1;u<=Sc;u++)if(x<<=1,x-=O[u],x<0)return-1;if(x>0&&(t===Mx||y!==1))return-1;for(E[1]=0,u=1;u<Sc;u++)E[u+1]=E[u]+O[u];for(h=0;h<r;h++)e[n+h]!==0&&(o[E[e[n+h]]++]=h);if(t===Mx?(j=I=o,P=20):t===Ng?(j=PU,I=kU,P=257):(j=RU,I=jU,P=0),C=0,h=0,u=m,V=s,N=p,v=0,J=-1,A=1<<p,re=A-1,t===Ng&&A>Ox||t===Fx&&A>Dx)return 1;for(;;){k=u-v,o[h]+1<P?(G=0,ce=o[h]):o[h]>=P?(G=I[o[h]-P],ce=j[o[h]-P]):(G=96,ce=0),L=1<<u-v,B=1<<N,m=B;do B-=L,i[V+(C>>v)+B]=k<<24|G<<16|ce|0;while(B!==0);for(L=1<<u-1;C&L;)L>>=1;if(L!==0?(C&=L-1,C+=L):C=0,h++,--O[u]===0){if(u===y)break;u=e[n+o[h]]}if(u>p&&(C&re)!==J){for(v===0&&(v=p),V+=m,N=u-v,x=1<<N;N+v<y&&(x-=O[N+v],!(x<=0));)N++,x<<=1;if(A+=1<<N,t===Ng&&A>Ox||t===Fx&&A>Dx)return 1;J=C&re,i[J]=p<<24|N<<16|V-s|0}}return C!==0&&(i[V+C]=u-v<<24|64<<16|0),a.bits=p,0};var kh=LU;const OU=0,DS=1,MS=2,{Z_FINISH:Vx,Z_BLOCK:DU,Z_TREES:mf,Z_OK:Ql,Z_STREAM_END:MU,Z_NEED_DICT:FU,Z_STREAM_ERROR:Qi,Z_DATA_ERROR:FS,Z_MEM_ERROR:VS,Z_BUF_ERROR:VU,Z_DEFLATED:Bx}=Sd,ym=16180,Ux=16181,zx=16182,qx=16183,$x=16184,Hx=16185,Wx=16186,Gx=16187,Kx=16188,Yx=16189,Cp=16190,Eo=16191,Ag=16192,Jx=16193,Eg=16194,Xx=16195,Qx=16196,Zx=16197,ew=16198,gf=16199,yf=16200,tw=16201,nw=16202,rw=16203,iw=16204,sw=16205,Sg=16206,ow=16207,aw=16208,Un=16209,BS=16210,US=16211,BU=852,UU=592,zU=15,qU=zU,lw=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function $U(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const lc=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<ym||e.mode>US?1:0},zS=t=>{if(lc(t))return Qi;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=ym,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(BU),e.distcode=e.distdyn=new Int32Array(UU),e.sane=1,e.back=-1,Ql},qS=t=>{if(lc(t))return Qi;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,zS(t)},$S=(t,e)=>{let n;if(lc(t))return Qi;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Qi:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,qS(t))},HS=(t,e)=>{if(!t)return Qi;const n=new $U;t.state=n,n.strm=t,n.window=null,n.mode=ym;const r=$S(t,e);return r!==Ql&&(t.state=null),r},HU=t=>HS(t,qU);let cw=!0,Tg,Cg;const WU=t=>{if(cw){Tg=new Int32Array(512),Cg=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(kh(DS,t.lens,0,288,Tg,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;kh(MS,t.lens,0,32,Cg,0,t.work,{bits:5}),cw=!1}t.lencode=Tg,t.lenbits=9,t.distcode=Cg,t.distbits=5},WS=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},GU=(t,e)=>{let n,r,i,s,o,a,c,u,h,m,y,p,N,v,x=0,A,C,L,B,J,re,V,j;const P=new Uint8Array(4);let O,E;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(lc(t)||!t.output||!t.input&&t.avail_in!==0)return Qi;n=t.state,n.mode===Eo&&(n.mode=Ag),o=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,h=n.bits,m=a,y=c,j=Ql;e:for(;;)switch(n.mode){case ym:if(n.wrap===0){n.mode=Ag;break}for(;h<16;){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,P[0]=u&255,P[1]=u>>>8&255,n.check=vr(n.check,P,2,0),u=0,h=0,n.mode=Ux;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Un;break}if((u&15)!==Bx){t.msg="unknown compression method",n.mode=Un;break}if(u>>>=4,h-=4,V=(u&15)+8,n.wbits===0&&(n.wbits=V),V>15||V>n.wbits){t.msg="invalid window size",n.mode=Un;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?Yx:Eo,u=0,h=0;break;case Ux:for(;h<16;){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}if(n.flags=u,(n.flags&255)!==Bx){t.msg="unknown compression method",n.mode=Un;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Un;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,n.check=vr(n.check,P,2,0)),u=0,h=0,n.mode=zx;case zx:for(;h<32;){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,n.check=vr(n.check,P,4,0)),u=0,h=0,n.mode=qx;case qx:for(;h<16;){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,n.check=vr(n.check,P,2,0)),u=0,h=0,n.mode=$x;case $x:if(n.flags&1024){for(;h<16;){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,n.check=vr(n.check,P,2,0)),u=0,h=0}else n.head&&(n.head.extra=null);n.mode=Hx;case Hx:if(n.flags&1024&&(p=n.length,p>a&&(p=a),p&&(n.head&&(V=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),V)),n.flags&512&&n.wrap&4&&(n.check=vr(n.check,r,p,s)),a-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=Wx;case Wx:if(n.flags&2048){if(a===0)break e;p=0;do V=r[s+p++],n.head&&V&&n.length<65536&&(n.head.name+=String.fromCharCode(V));while(V&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=vr(n.check,r,p,s)),a-=p,s+=p,V)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Gx;case Gx:if(n.flags&4096){if(a===0)break e;p=0;do V=r[s+p++],n.head&&V&&n.length<65536&&(n.head.comment+=String.fromCharCode(V));while(V&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=vr(n.check,r,p,s)),a-=p,s+=p,V)break e}else n.head&&(n.head.comment=null);n.mode=Kx;case Kx:if(n.flags&512){for(;h<16;){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Un;break}u=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Eo;break;case Yx:for(;h<32;){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}t.adler=n.check=lw(u),u=0,h=0,n.mode=Cp;case Cp:if(n.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=h,FU;t.adler=n.check=1,n.mode=Eo;case Eo:if(e===DU||e===mf)break e;case Ag:if(n.last){u>>>=h&7,h-=h&7,n.mode=Sg;break}for(;h<3;){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}switch(n.last=u&1,u>>>=1,h-=1,u&3){case 0:n.mode=Jx;break;case 1:if(WU(n),n.mode=gf,e===mf){u>>>=2,h-=2;break e}break;case 2:n.mode=Qx;break;case 3:t.msg="invalid block type",n.mode=Un}u>>>=2,h-=2;break;case Jx:for(u>>>=h&7,h-=h&7;h<32;){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Un;break}if(n.length=u&65535,u=0,h=0,n.mode=Eg,e===mf)break e;case Eg:n.mode=Xx;case Xx:if(p=n.length,p){if(p>a&&(p=a),p>c&&(p=c),p===0)break e;i.set(r.subarray(s,s+p),o),a-=p,s+=p,c-=p,o+=p,n.length-=p;break}n.mode=Eo;break;case Qx:for(;h<14;){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}if(n.nlen=(u&31)+257,u>>>=5,h-=5,n.ndist=(u&31)+1,u>>>=5,h-=5,n.ncode=(u&15)+4,u>>>=4,h-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Un;break}n.have=0,n.mode=Zx;case Zx:for(;n.have<n.ncode;){for(;h<3;){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}n.lens[I[n.have++]]=u&7,u>>>=3,h-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},j=kh(OU,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,j){t.msg="invalid code lengths set",n.mode=Un;break}n.have=0,n.mode=ew;case ew:for(;n.have<n.nlen+n.ndist;){for(;x=n.lencode[u&(1<<n.lenbits)-1],A=x>>>24,C=x>>>16&255,L=x&65535,!(A<=h);){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}if(L<16)u>>>=A,h-=A,n.lens[n.have++]=L;else{if(L===16){for(E=A+2;h<E;){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}if(u>>>=A,h-=A,n.have===0){t.msg="invalid bit length repeat",n.mode=Un;break}V=n.lens[n.have-1],p=3+(u&3),u>>>=2,h-=2}else if(L===17){for(E=A+3;h<E;){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}u>>>=A,h-=A,V=0,p=3+(u&7),u>>>=3,h-=3}else{for(E=A+7;h<E;){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}u>>>=A,h-=A,V=0,p=11+(u&127),u>>>=7,h-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Un;break}for(;p--;)n.lens[n.have++]=V}}if(n.mode===Un)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Un;break}if(n.lenbits=9,O={bits:n.lenbits},j=kh(DS,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,j){t.msg="invalid literal/lengths set",n.mode=Un;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},j=kh(MS,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,j){t.msg="invalid distances set",n.mode=Un;break}if(n.mode=gf,e===mf)break e;case gf:n.mode=yf;case yf:if(a>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=h,IU(t,y),o=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,h=n.bits,n.mode===Eo&&(n.back=-1);break}for(n.back=0;x=n.lencode[u&(1<<n.lenbits)-1],A=x>>>24,C=x>>>16&255,L=x&65535,!(A<=h);){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}if(C&&!(C&240)){for(B=A,J=C,re=L;x=n.lencode[re+((u&(1<<B+J)-1)>>B)],A=x>>>24,C=x>>>16&255,L=x&65535,!(B+A<=h);){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}u>>>=B,h-=B,n.back+=B}if(u>>>=A,h-=A,n.back+=A,n.length=L,C===0){n.mode=sw;break}if(C&32){n.back=-1,n.mode=Eo;break}if(C&64){t.msg="invalid literal/length code",n.mode=Un;break}n.extra=C&15,n.mode=tw;case tw:if(n.extra){for(E=n.extra;h<E;){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=nw;case nw:for(;x=n.distcode[u&(1<<n.distbits)-1],A=x>>>24,C=x>>>16&255,L=x&65535,!(A<=h);){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}if(!(C&240)){for(B=A,J=C,re=L;x=n.distcode[re+((u&(1<<B+J)-1)>>B)],A=x>>>24,C=x>>>16&255,L=x&65535,!(B+A<=h);){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}u>>>=B,h-=B,n.back+=B}if(u>>>=A,h-=A,n.back+=A,C&64){t.msg="invalid distance code",n.mode=Un;break}n.offset=L,n.extra=C&15,n.mode=rw;case rw:if(n.extra){for(E=n.extra;h<E;){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Un;break}n.mode=iw;case iw:if(c===0)break e;if(p=y-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Un;break}p>n.wnext?(p-=n.wnext,N=n.wsize-p):N=n.wnext-p,p>n.length&&(p=n.length),v=n.window}else v=i,N=o-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do i[o++]=v[N++];while(--p);n.length===0&&(n.mode=yf);break;case sw:if(c===0)break e;i[o++]=n.length,c--,n.mode=yf;break;case Sg:if(n.wrap){for(;h<32;){if(a===0)break e;a--,u|=r[s++]<<h,h+=8}if(y-=c,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?vr(n.check,i,y,o-y):td(n.check,i,y,o-y)),y=c,n.wrap&4&&(n.flags?u:lw(u))!==n.check){t.msg="incorrect data check",n.mode=Un;break}u=0,h=0}n.mode=ow;case ow:if(n.wrap&&n.flags){for(;h<32;){if(a===0)break e;a--,u+=r[s++]<<h,h+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Un;break}u=0,h=0}n.mode=aw;case aw:j=MU;break e;case Un:j=FS;break e;case BS:return VS;case US:default:return Qi}return t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=h,(n.wsize||y!==t.avail_out&&n.mode<Un&&(n.mode<Sg||e!==Vx))&&WS(t,t.output,t.next_out,y-t.avail_out),m-=t.avail_in,y-=t.avail_out,t.total_in+=m,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?vr(n.check,i,y,t.next_out-y):td(n.check,i,y,t.next_out-y)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Eo?128:0)+(n.mode===gf||n.mode===Eg?256:0),(m===0&&y===0||e===Vx)&&j===Ql&&(j=VU),j},KU=t=>{if(lc(t))return Qi;let e=t.state;return e.window&&(e.window=null),t.state=null,Ql},YU=(t,e)=>{if(lc(t))return Qi;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,Ql):Qi},JU=(t,e)=>{const n=e.length;let r,i,s;return lc(t)||(r=t.state,r.wrap!==0&&r.mode!==Cp)?Qi:r.mode===Cp&&(i=1,i=td(i,e,n,0),i!==r.check)?FS:(s=WS(t,e,n,n),s?(r.mode=BS,VS):(r.havedict=1,Ql))};var XU=qS,QU=$S,ZU=zS,ez=HU,tz=HS,nz=GU,rz=KU,iz=YU,sz=JU,oz="pako inflate (from Nodeca project)",Co={inflateReset:XU,inflateReset2:QU,inflateResetKeep:ZU,inflateInit:ez,inflateInit2:tz,inflate:nz,inflateEnd:rz,inflateGetHeader:iz,inflateSetDictionary:sz,inflateInfo:oz};function az(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var lz=az;const GS=Object.prototype.toString,{Z_NO_FLUSH:cz,Z_FINISH:uz,Z_OK:id,Z_STREAM_END:Ig,Z_NEED_DICT:Pg,Z_STREAM_ERROR:hz,Z_DATA_ERROR:uw,Z_MEM_ERROR:dz}=Sd;function Cd(t){this.options=gm.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new LS,this.strm.avail_out=0;let n=Co.inflateInit2(this.strm,e.windowBits);if(n!==id)throw new Error(pu[n]);if(this.header=new lz,Co.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=rd.string2buf(e.dictionary):GS.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Co.inflateSetDictionary(this.strm,e.dictionary),n!==id)))throw new Error(pu[n])}Cd.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?uz:cz,GS.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=Co.inflate(n,o),s===Pg&&i&&(s=Co.inflateSetDictionary(n,i),s===id?s=Co.inflate(n,o):s===uw&&(s=Pg));n.avail_in>0&&s===Ig&&n.state.wrap>0&&t[n.next_in]!==0;)Co.inflateReset(n),s=Co.inflate(n,o);switch(s){case hz:case uw:case Pg:case dz:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===Ig))if(this.options.to==="string"){let c=rd.utf8border(n.output,n.next_out),u=n.next_out-c,h=rd.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(h)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===id&&a===0)){if(s===Ig)return s=Co.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Cd.prototype.onData=function(t){this.chunks.push(t)};Cd.prototype.onEnd=function(t){t===id&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gm.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function J2(t,e){const n=new Cd(e);if(n.push(t),n.err)throw n.msg||pu[n.err];return n.result}function fz(t,e){return e=e||{},e.raw=!0,J2(t,e)}var pz=Cd,mz=J2,gz=fz,yz=J2,vz=Sd,bz={Inflate:pz,inflate:mz,inflateRaw:gz,ungzip:yz,constants:vz};const{Inflate:xz,inflate:wz,inflateRaw:t$,ungzip:n$}=bz;var hw=xz,_z=wz;const KS=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;KS[t]=e}const dw=4294967295;function Nz(t,e,n){let r=t;for(let i=0;i<n;i++)r=KS[(r^e[i])&255]^r>>>8;return r}function Az(t,e){return(Nz(dw,t,e)^dw)>>>0}function fw(t,e,n){const r=t.readUint32(),i=Az(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function YS(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function JS(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function XS(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function QS(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function ZS(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+Ez(e[s-i],n[s],n[s-i])&255}}function Ez(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),o=Math.abs(r-n);return i<=s&&i<=o?t:s<=o?e:n}function Sz(t,e,n,r,i,s){switch(t){case 0:YS(e,n,i);break;case 1:JS(e,n,i,s);break;case 2:XS(e,n,r,i);break;case 3:QS(e,n,r,i,s);break;case 4:ZS(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Tz=new Uint16Array([255]),Cz=new Uint8Array(Tz.buffer),Iz=Cz[0]===255;function Pz(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,c=new Uint8Array(r*n*a);let u=0;for(let h=0;h<7;h++){const m=o[h],y=Math.ceil((n-m.x)/m.xStep),p=Math.ceil((r-m.y)/m.yStep);if(y<=0||p<=0)continue;const N=y*a,v=new Uint8Array(N);for(let x=0;x<p;x++){const A=e[u++],C=e.subarray(u,u+N);u+=N;const L=new Uint8Array(N);Sz(A,C,L,v,N,a),v.set(L);for(let B=0;B<y;B++){const J=m.x+B*m.xStep,re=m.y+x*m.yStep;if(!(J>=n||re>=r))for(let V=0;V<a;V++)c[(re*n+J)*a+V]=L[B*a+V]}}}if(s===16){const h=new Uint16Array(c.buffer);if(Iz)for(let m=0;m<h.length;m++)h[m]=kz(h[m]);return h}else return c}function kz(t){return(t&255)<<8|t>>8&255}const Rz=new Uint16Array([255]),jz=new Uint8Array(Rz.buffer),Lz=jz[0]===255,Oz=new Uint8Array(0);function pw(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),c=new Uint8Array(r*a);let u=Oz,h=0,m,y;for(let p=0;p<r;p++){switch(m=e.subarray(h+1,h+1+a),y=c.subarray(p*a,(p+1)*a),e[h]){case 0:YS(m,y,a);break;case 1:JS(m,y,a,o);break;case 2:XS(m,y,u,a);break;case 3:QS(m,y,u,a,o);break;case 4:ZS(m,y,u,a,o);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}u=y,h+=a+1}if(s===16){const p=new Uint16Array(c.buffer);if(Lz)for(let N=0;N<p.length;N++)p[N]=Dz(p[N]);return p}else return c}function Dz(t){return(t&255)<<8|t>>8&255}const Bf=Uint8Array.of(137,80,78,71,13,10,26,10);function mw(t){if(!Mz(t.readBytes(Bf.length)))throw new Error("wrong PNG signature")}function Mz(t){if(t.length<Bf.length)return!1;for(let e=0;e<Bf.length;e++)if(t[e]!==Bf[e])return!1;return!0}const Fz="tEXt",Vz=0,e3=new TextDecoder("latin1");function Bz(t){if(zz(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Uz=/^[\u0000-\u00FF]*$/;function zz(t){if(!Uz.test(t))throw new Error("invalid latin1 text")}function qz(t,e,n){const r=t3(e);t[r]=$z(e,n-r.length-1)}function t3(t){for(t.mark();t.readByte()!==Vz;);const e=t.offset;t.reset();const n=e3.decode(t.readBytes(e-t.offset-1));return t.skip(1),Bz(n),n}function $z(t,e){return e3.decode(t.readBytes(e))}const Si={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},kg={UNKNOWN:-1,DEFLATE:0},gw={UNKNOWN:-1,ADAPTIVE:0},Rg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},vf={NONE:0,BACKGROUND:1,PREVIOUS:2},jg={SOURCE:0,OVER:1};class Hz extends q2{constructor(n,r={}){super(n);vn(this,"_checkCrc");vn(this,"_inflator");vn(this,"_png");vn(this,"_apng");vn(this,"_end");vn(this,"_hasPalette");vn(this,"_palette");vn(this,"_hasTransparency");vn(this,"_transparency");vn(this,"_compressionMethod");vn(this,"_filterMethod");vn(this,"_interlaceMethod");vn(this,"_colorType");vn(this,"_isAnimated");vn(this,"_numberOfFrames");vn(this,"_numberOfPlays");vn(this,"_frames");vn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new hw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=kg.UNKNOWN,this._filterMethod=gw.UNKNOWN,this._interlaceMethod=Rg.UNKNOWN,this._colorType=Si.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(mw(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(mw(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case Fz:qz(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?fw(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?fw(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Wz(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Si.GREYSCALE:i=1;break;case Si.TRUECOLOUR:i=3;break;case Si.INDEXED_COLOUR:i=1;break;case Si.GREYSCALE_ALPHA:i=2;break;case Si.TRUECOLOUR_ALPHA:i=4;break;case Si.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==kg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Si.GREYSCALE:case Si.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Si.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Si.UNKNOWN:case Si.GREYSCALE_ALPHA:case Si.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=t3(this),i=this.readUint8();if(i!==kg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:_z(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=pw({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case vf.NONE:break;case vf.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*n.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[a+c]=0}break;case vf.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(o,a)=>{const c=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,u=(o*r.width+a)*this._png.channels;return{index:c,frameIndex:u}};switch(r.blendOp){case jg.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:c,frameIndex:u}=s(o,a);for(let h=0;h<this._png.channels;h++)n.data[c+h]=r.data[u+h]}break;case jg.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:c,frameIndex:u}=s(o,a);for(let h=0;h<this._png.channels;h++){const m=r.data[u+this._png.channels-1]/i,y=h%(this._png.channels-1)===0?1:r.data[u+h],p=Math.floor(m*y+(1-m)*n.data[c+h]);n.data[c+h]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==gw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Rg.NO_INTERLACE)this._png.data=pw({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Rg.ADAM7)this._png.data=Pz({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:vf.NONE,blendOp:jg.SOURCE,data:n}),this._inflator=new hw,this._writingDataChunks=!1}}function Wz(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var yw;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(yw||(yw={}));function Gz(t,e){return new Hz(t,e).decode()}var Tt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Lg(){Tt.console&&typeof Tt.console.log=="function"&&Tt.console.log.apply(Tt.console,arguments)}var Tn={log:Lg,warn:function(t){Tt.console&&(typeof Tt.console.warn=="function"?Tt.console.warn.apply(Tt.console,arguments):Lg.call(null,arguments))},error:function(t){Tt.console&&(typeof Tt.console.error=="function"?Tt.console.error.apply(Tt.console,arguments):Lg(t))}};function Og(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){_l(r.response,e,n)},r.onerror=function(){Tn.error("could not download file")},r.send()}function vw(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function bf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var _l=Tt.saveAs||((typeof window>"u"?"undefined":xn(window))!=="object"||window!==Tt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Tt.URL||Tt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?vw(i.href)?Og(t,e,n):bf(i,i.target="_blank"):bf(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){bf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(vw(t))Og(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){bf(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:xn(s)!=="object"&&(Tn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Og(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Tt.HTMLElement)||Tt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":xn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},a.readAsDataURL(t)}else{var c=Tt.URL||Tt.webkitURL,u=c.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function n3(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+a+c+u}}var Uf=Tt.atob.bind(Tt),bw=Tt.btoa.bind(Tt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Dg(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Mr(n,r,i,s,e[0],7,-680876936),s=Mr(s,n,r,i,e[1],12,-389564586),i=Mr(i,s,n,r,e[2],17,606105819),r=Mr(r,i,s,n,e[3],22,-1044525330),n=Mr(n,r,i,s,e[4],7,-176418897),s=Mr(s,n,r,i,e[5],12,1200080426),i=Mr(i,s,n,r,e[6],17,-1473231341),r=Mr(r,i,s,n,e[7],22,-45705983),n=Mr(n,r,i,s,e[8],7,1770035416),s=Mr(s,n,r,i,e[9],12,-1958414417),i=Mr(i,s,n,r,e[10],17,-42063),r=Mr(r,i,s,n,e[11],22,-1990404162),n=Mr(n,r,i,s,e[12],7,1804603682),s=Mr(s,n,r,i,e[13],12,-40341101),i=Mr(i,s,n,r,e[14],17,-1502002290),n=Fr(n,r=Mr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Fr(s,n,r,i,e[6],9,-1069501632),i=Fr(i,s,n,r,e[11],14,643717713),r=Fr(r,i,s,n,e[0],20,-373897302),n=Fr(n,r,i,s,e[5],5,-701558691),s=Fr(s,n,r,i,e[10],9,38016083),i=Fr(i,s,n,r,e[15],14,-660478335),r=Fr(r,i,s,n,e[4],20,-405537848),n=Fr(n,r,i,s,e[9],5,568446438),s=Fr(s,n,r,i,e[14],9,-1019803690),i=Fr(i,s,n,r,e[3],14,-187363961),r=Fr(r,i,s,n,e[8],20,1163531501),n=Fr(n,r,i,s,e[13],5,-1444681467),s=Fr(s,n,r,i,e[2],9,-51403784),i=Fr(i,s,n,r,e[7],14,1735328473),n=Vr(n,r=Fr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Vr(s,n,r,i,e[8],11,-2022574463),i=Vr(i,s,n,r,e[11],16,1839030562),r=Vr(r,i,s,n,e[14],23,-35309556),n=Vr(n,r,i,s,e[1],4,-1530992060),s=Vr(s,n,r,i,e[4],11,1272893353),i=Vr(i,s,n,r,e[7],16,-155497632),r=Vr(r,i,s,n,e[10],23,-1094730640),n=Vr(n,r,i,s,e[13],4,681279174),s=Vr(s,n,r,i,e[0],11,-358537222),i=Vr(i,s,n,r,e[3],16,-722521979),r=Vr(r,i,s,n,e[6],23,76029189),n=Vr(n,r,i,s,e[9],4,-640364487),s=Vr(s,n,r,i,e[12],11,-421815835),i=Vr(i,s,n,r,e[15],16,530742520),n=Br(n,r=Vr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Br(s,n,r,i,e[7],10,1126891415),i=Br(i,s,n,r,e[14],15,-1416354905),r=Br(r,i,s,n,e[5],21,-57434055),n=Br(n,r,i,s,e[12],6,1700485571),s=Br(s,n,r,i,e[3],10,-1894986606),i=Br(i,s,n,r,e[10],15,-1051523),r=Br(r,i,s,n,e[1],21,-2054922799),n=Br(n,r,i,s,e[8],6,1873313359),s=Br(s,n,r,i,e[15],10,-30611744),i=Br(i,s,n,r,e[6],15,-1560198380),r=Br(r,i,s,n,e[13],21,1309151649),n=Br(n,r,i,s,e[4],6,-145523070),s=Br(s,n,r,i,e[11],10,-1120210379),i=Br(i,s,n,r,e[2],15,718787259),r=Br(r,i,s,n,e[9],21,-343485551),t[0]=La(n,t[0]),t[1]=La(r,t[1]),t[2]=La(i,t[2]),t[3]=La(s,t[3])}function vm(t,e,n,r,i,s){return e=La(La(e,t),La(r,s)),La(e<<i|e>>>32-i,n)}function Mr(t,e,n,r,i,s,o){return vm(e&n|~e&r,t,e,i,s,o)}function Fr(t,e,n,r,i,s,o){return vm(e&r|n&~r,t,e,i,s,o)}function Vr(t,e,n,r,i,s,o){return vm(e^n^r,t,e,i,s,o)}function Br(t,e,n,r,i,s,o){return vm(n^(e|~r),t,e,i,s,o)}function r3(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Dg(r,Kz(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Dg(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Dg(r,i),r}function Kz(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var xw="0123456789abcdef".split("");function Yz(t){for(var e="",n=0;n<4;n++)e+=xw[t>>8*n+4&15]+xw[t>>8*n&15];return e}function Jz(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function n1(t){return r3(t).map(Jz).join("")}var Xz=function(t){for(var e=0;e<t.length;e++)t[e]=Yz(t[e]);return t.join("")}(r3("hello"))!="5d41402abc4b2a76b9719d911017c592";function La(t,e){if(Xz){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function r1(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],c=0;c<256;c++)a[c]=c;var u=0;for(c=0;c<256;c++){var h=a[c];u=(u+h+o.charCodeAt(c))%256,a[c]=a[u],a[u]=h}n=t,r=a}else a=r;var m=e.length,y=0,p=0,N="";for(c=0;c<m;c++)p=(p+(h=a[y=(y+1)%256]))%256,a[y]=a[p],a[p]=h,o=a[(a[y]+a[p])%256],N+=String.fromCharCode(e.charCodeAt(c)^o);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ww={print:4,modify:8,copy:16,"annot-forms":32};function jc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(ww.perm!==void 0)throw new Error("Invalid permission: "+a);i+=ww[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=n1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=r1(this.encryptionKey,this.padding)}function Lc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function _w(t){if(xn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){Tt.console&&Tn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ip(t){if(!(this instanceof Ip))return new Ip(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function i3(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Nl(t,e,n,r,i){if(!(this instanceof Nl))return new Nl(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,i3.call(this,r,i)}function Oc(t,e,n,r,i){if(!(this instanceof Oc))return new Oc(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,i3.call(this,r,i)}function lt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,c=16,u="S",h=null;xn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,y={},p={internal:{},__private__:{}};p.__private__.PubSub=_w;var N="1.3",v=p.__private__.getPdfVersion=function(){return N};p.__private__.setPdfVersion=function(b){N=b};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return x};var A=p.__private__.getPageFormat=function(b){return x[b]};i=i||"a4";var C="compat",L="advanced",B=C;function J(){this.saveGraphicsState(),te(new Ye(dt,0,0,-dt,0,ts()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),u="n",B=L}function re(){this.restoreGraphicsState(),u="S",B=C}var V=p.__private__.combineFontStyleAndFontWeight=function(b,D){if(b=="bold"&&D=="normal"||b=="bold"&&D==400||b=="normal"&&D=="italic"||b=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(b=D==400||D==="normal"?b==="italic"?"italic":"normal":D!=700&&D!=="bold"||b!=="normal"?(D==700?"bold":D)+""+b:"bold"),b};p.advancedAPI=function(b){var D=B===C;return D&&J.call(this),typeof b!="function"||(b(this),D&&re.call(this)),this},p.compatAPI=function(b){var D=B===L;return D&&re.call(this),typeof b!="function"||(b(this),D&&J.call(this)),this},p.isAdvancedAPI=function(){return B===L};var j,P=function(b){if(B!==L)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=p.roundToPrecision=p.__private__.roundToPrecision=function(b,D){var Q=e||D;if(isNaN(b)||isNaN(Q))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(Q).replace(/0+$/,"")};j=p.hpf=p.__private__.hpf=typeof c=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return O(b,c)}:c==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return O(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return O(b,16)};var E=p.f2=p.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return O(b,2)},I=p.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return O(b,3)},k=p.scale=p.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return B===C?b*dt:B===L?b:void 0},G=function(b){return k(function(D){return B===C?ts()-D:B===L?D:void 0}(b))};p.__private__.setPrecision=p.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(e=parseInt(b,10))};var ce,ue="00000000000000000000000000000000",fe=p.__private__.getFileId=function(){return ue},ie=p.__private__.setFileId=function(b){return ue=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(_n=new jc(h.userPermissions,h.userPassword,h.ownerPassword,ue)),ue};p.setFileId=function(b){return ie(b),this},p.getFileId=function(){return fe()};var ae=p.__private__.convertDateToPDFDate=function(b){var D=b.getTimezoneOffset(),Q=D<0?"+":"-",se=Math.floor(Math.abs(D/60)),de=Math.abs(D%60),Ee=[Q,X(se),"'",X(de),"'"].join("");return["D:",b.getFullYear(),X(b.getMonth()+1),X(b.getDate()),X(b.getHours()),X(b.getMinutes()),X(b.getSeconds()),Ee].join("")},Se=p.__private__.convertPDFDateToDate=function(b){var D=parseInt(b.substr(2,4),10),Q=parseInt(b.substr(6,2),10)-1,se=parseInt(b.substr(8,2),10),de=parseInt(b.substr(10,2),10),Ee=parseInt(b.substr(12,2),10),je=parseInt(b.substr(14,2),10);return new Date(D,Q,se,de,Ee,je,0)},_e=p.__private__.setCreationDate=function(b){var D;if(b===void 0&&(b=new Date),b instanceof Date)D=ae(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=b}return ce=D},z=p.__private__.getCreationDate=function(b){var D=ce;return b==="jsDate"&&(D=Se(ce)),D};p.setCreationDate=function(b){return _e(b),this},p.getCreationDate=function(b){return z(b)};var Y,X=p.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},M=p.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},U=0,ne=[],oe=[],pe=0,ye=[],Ne=[],Re=!1,Fe=oe;p.__private__.setCustomOutputDestination=function(b){Re=!0,Fe=b};var we=function(b){Re||(Fe=b)};p.__private__.resetCustomOutputDestination=function(){Re=!1,Fe=oe};var te=p.__private__.out=function(b){return b=b.toString(),pe+=b.length+1,Fe.push(b),Fe},yt=p.__private__.write=function(b){return te(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},ht=p.__private__.getArrayBuffer=function(b){for(var D=b.length,Q=new ArrayBuffer(D),se=new Uint8Array(Q);D--;)se[D]=b.charCodeAt(D);return Q},Qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Qe};var Ie=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(b){return Ie=B===L?b/dt:b,this};var qe,Ue=p.__private__.getFontSize=p.getFontSize=function(){return B===C?Ie:Ie*dt},_t=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(b){return _t=b,this},p.__private__.getR2L=p.getR2L=function(){return _t};var Ge,Xt=p.__private__.setZoomMode=function(b){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))qe=b;else if(isNaN(b)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');qe=b}else qe=parseInt(b,10)};p.__private__.getZoomMode=function(){return qe};var pt,nt=p.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');Ge=b};p.__private__.getPageMode=function(){return Ge};var qt=p.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');pt=b};p.__private__.getLayoutMode=function(){return pt},p.__private__.setDisplayMode=p.setDisplayMode=function(b,D,Q){return Xt(b),qt(D),nt(Q),this};var wt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(b){if(Object.keys(wt).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return wt[b]},p.__private__.getDocumentProperties=function(){return wt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(b){for(var D in wt)wt.hasOwnProperty(D)&&b[D]&&(wt[D]=b[D]);return this},p.__private__.setDocumentProperty=function(b,D){if(Object.keys(wt).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return wt[b]=D};var rt,dt,tt,an,Vt,$e={},gt={},Ot=[],ut={},Dt={},vt={},hn={},Fn=null,Nt=0,ot=[],$t=new _w(p),at=t.hotfixes||[],At={},Wt={},mn=[],Ye=function b(D,Q,se,de,Ee,je){if(!(this instanceof b))return new b(D,Q,se,de,Ee,je);isNaN(D)&&(D=1),isNaN(Q)&&(Q=0),isNaN(se)&&(se=0),isNaN(de)&&(de=1),isNaN(Ee)&&(Ee=0),isNaN(je)&&(je=0),this._matrix=[D,Q,se,de,Ee,je]};Object.defineProperty(Ye.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Ye.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Ye.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Ye.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Ye.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Ye.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Ye.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Ye.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Ye.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Ye.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Ye.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Ye.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Ye.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ye.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ye.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ye.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ye.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(b)},Ye.prototype.multiply=function(b){var D=b.sx*this.sx+b.shy*this.shx,Q=b.sx*this.shy+b.shy*this.sy,se=b.shx*this.sx+b.sy*this.shx,de=b.shx*this.shy+b.sy*this.sy,Ee=b.tx*this.sx+b.ty*this.shx+this.tx,je=b.tx*this.shy+b.ty*this.sy+this.ty;return new Ye(D,Q,se,de,Ee,je)},Ye.prototype.decompose=function(){var b=this.sx,D=this.shy,Q=this.shx,se=this.sy,de=this.tx,Ee=this.ty,je=Math.sqrt(b*b+D*D),We=(b/=je)*Q+(D/=je)*se;Q-=b*We,se-=D*We;var Xe=Math.sqrt(Q*Q+se*se);return We/=Xe,b*(se/=Xe)<D*(Q/=Xe)&&(b=-b,D=-D,We=-We,je=-je),{scale:new Ye(je,0,0,Xe,0,0),translate:new Ye(1,0,0,1,de,Ee),rotate:new Ye(b,D,-D,b,0,0),skew:new Ye(1,0,We,1,0,0)}},Ye.prototype.toString=function(b){return this.join(" ")},Ye.prototype.inversed=function(){var b=this.sx,D=this.shy,Q=this.shx,se=this.sy,de=this.tx,Ee=this.ty,je=1/(b*se-D*Q),We=se*je,Xe=-D*je,mt=-Q*je,it=b*je;return new Ye(We,Xe,mt,it,-We*de-mt*Ee,-Xe*de-it*Ee)},Ye.prototype.applyToPoint=function(b){var D=b.x*this.sx+b.y*this.shx+this.tx,Q=b.x*this.shy+b.y*this.sy+this.ty;return new yi(D,Q)},Ye.prototype.applyToRectangle=function(b){var D=this.applyToPoint(b),Q=this.applyToPoint(new yi(b.x+b.w,b.y+b.h));return new Qo(D.x,D.y,Q.x-D.x,Q.y-D.y)},Ye.prototype.clone=function(){var b=this.sx,D=this.shy,Q=this.shx,se=this.sy,de=this.tx,Ee=this.ty;return new Ye(b,D,Q,se,de,Ee)},p.Matrix=Ye;var or=p.matrixMult=function(b,D){return D.multiply(b)},$n=new Ye(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=$n;var wn=function(b,D){if(!Dt[b]){var Q=(D instanceof Nl?"Sh":"P")+(Object.keys(ut).length+1).toString(10);D.id=Q,Dt[b]=Q,ut[Q]=D,$t.publish("addPattern",D)}};p.ShadingPattern=Nl,p.TilingPattern=Oc,p.addShadingPattern=function(b,D){return P("addShadingPattern()"),wn(b,D),this},p.beginTilingPattern=function(b){P("beginTilingPattern()"),Is(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},p.endTilingPattern=function(b,D){P("endTilingPattern()"),D.stream=Ne[Y].join(`
`),wn(b,D),$t.publish("endTilingPattern",D),mn.pop().restore()};var Vn,Cn=p.__private__.newObject=function(){var b=Bn();return ur(b,!0),b},Bn=p.__private__.newObjectDeferred=function(){return U++,ne[U]=function(){return pe},U},ur=function(b,D){return D=typeof D=="boolean"&&D,ne[b]=pe,D&&te(b+" 0 obj"),b},Pr=p.__private__.newAdditionalObject=function(){var b={objId:Bn(),content:""};return ye.push(b),b},Zi=Bn(),ni=Bn(),ri=p.__private__.decodeColorString=function(b){var D=b.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length!==5||D[4]!=="k"&&D[4]!=="K"||(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var Q=parseFloat(D[0]);D=[Q,Q,Q,"r"]}for(var se="#",de=0;de<3;de++)se+=("0"+Math.floor(255*parseFloat(D[de])).toString(16)).slice(-2);return se},Hr=p.__private__.encodeColorString=function(b){var D;typeof b=="string"&&(b={ch1:b});var Q=b.ch1,se=b.ch2,de=b.ch3,Ee=b.ch4,je=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Q=="string"&&Q.charAt(0)!=="#"){var We=new n3(Q);if(We.ok)Q=We.toHex();else if(!/^\d*\.?\d*$/.test(Q))throw new Error('Invalid color "'+Q+'" passed to jsPDF.encodeColorString.')}if(typeof Q=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Q)&&(Q="#"+Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]),typeof Q=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Q)){var Xe=parseInt(Q.substr(1),16);Q=Xe>>16&255,se=Xe>>8&255,de=255&Xe}if(se===void 0||Ee===void 0&&Q===se&&se===de)D=typeof Q=="string"?Q+" "+je[0]:b.precision===2?E(Q/255)+" "+je[0]:I(Q/255)+" "+je[0];else if(Ee===void 0||xn(Ee)==="object"){if(Ee&&!isNaN(Ee.a)&&Ee.a===0)return["1.","1.","1.",je[1]].join(" ");D=typeof Q=="string"?[Q,se,de,je[1]].join(" "):b.precision===2?[E(Q/255),E(se/255),E(de/255),je[1]].join(" "):[I(Q/255),I(se/255),I(de/255),je[1]].join(" ")}else D=typeof Q=="string"?[Q,se,de,Ee,je[2]].join(" "):b.precision===2?[E(Q),E(se),E(de),E(Ee),je[2]].join(" "):[I(Q),I(se),I(de),I(Ee),je[2]].join(" ");return D},ii=p.__private__.getFilters=function(){return o},si=p.__private__.putStream=function(b){var D=(b=b||{}).data||"",Q=b.filters||ii(),se=b.alreadyAppliedFilters||[],de=b.addLength1||!1,Ee=D.length,je=b.objectId,We=function(_){return _};if(h!==null&&je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(We=_n.encryptor(je,0));var Xe={};Q===!0&&(Q=["FlateEncode"]);var mt=b.additionalKeyValues||[],it=(Xe=lt.API.processDataByFilters!==void 0?lt.API.processDataByFilters(D,Q):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(se)?se.join(" "):se.toString());if(Xe.data.length!==0&&(mt.push({key:"Length",value:Xe.data.length}),de===!0&&mt.push({key:"Length1",value:Ee})),it.length!=0)if(it.split("/").length-1==1)mt.push({key:"Filter",value:it});else{mt.push({key:"Filter",value:"["+it+"]"});for(var en=0;en<mt.length;en+=1)if(mt[en].key==="DecodeParms"){for(var Pn=[],Nn=0;Nn<Xe.reverseChain.split("/").length-1;Nn+=1)Pn.push("null");Pn.push(mt[en].value),mt[en].value="["+Pn.join(" ")+"]"}}te("<<");for(var f=0;f<mt.length;f++)te("/"+mt[f].key+" "+mt[f].value);te(">>"),Xe.data.length!==0&&(te("stream"),te(We(Xe.data)),te("endstream"))},ws=p.__private__.putPage=function(b){var D=b.number,Q=b.data,se=b.objId,de=b.contentsObjId;ur(se,!0),te("<</Type /Page"),te("/Parent "+b.rootDictionaryObjId+" 0 R"),te("/Resources "+b.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(j(b.mediaBox.bottomLeftX))+" "+parseFloat(j(b.mediaBox.bottomLeftY))+" "+j(b.mediaBox.topRightX)+" "+j(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&te("/CropBox ["+j(b.cropBox.bottomLeftX)+" "+j(b.cropBox.bottomLeftY)+" "+j(b.cropBox.topRightX)+" "+j(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&te("/BleedBox ["+j(b.bleedBox.bottomLeftX)+" "+j(b.bleedBox.bottomLeftY)+" "+j(b.bleedBox.topRightX)+" "+j(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&te("/TrimBox ["+j(b.trimBox.bottomLeftX)+" "+j(b.trimBox.bottomLeftY)+" "+j(b.trimBox.topRightX)+" "+j(b.trimBox.topRightY)+"]"),b.artBox!==null&&te("/ArtBox ["+j(b.artBox.bottomLeftX)+" "+j(b.artBox.bottomLeftY)+" "+j(b.artBox.topRightX)+" "+j(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&te("/UserUnit "+b.userUnit),$t.publish("putPage",{objId:se,pageContext:ot[D],pageNumber:D,page:Q}),te("/Contents "+de+" 0 R"),te(">>"),te("endobj");var Ee=Q.join(`
`);return B===L&&(Ee+=`
Q`),ur(de,!0),si({data:Ee,filters:ii(),objectId:de}),te("endobj"),se},Oi=p.__private__.putPages=function(){var b,D,Q=[];for(b=1;b<=Nt;b++)ot[b].objId=Bn(),ot[b].contentsObjId=Bn();for(b=1;b<=Nt;b++)Q.push(ws({number:b,data:Ne[b],objId:ot[b].objId,contentsObjId:ot[b].contentsObjId,mediaBox:ot[b].mediaBox,cropBox:ot[b].cropBox,bleedBox:ot[b].bleedBox,trimBox:ot[b].trimBox,artBox:ot[b].artBox,userUnit:ot[b].userUnit,rootDictionaryObjId:Zi,resourceDictionaryObjId:ni}));ur(Zi,!0),te("<</Type /Pages");var se="/Kids [";for(D=0;D<Nt;D++)se+=Q[D]+" 0 R ";te(se+"]"),te("/Count "+Nt),te(">>"),te("endobj"),$t.publish("postPutPages")},Di=function(b){$t.publish("putFont",{font:b,out:te,newObject:Cn,putStream:si}),b.isAlreadyPutted!==!0&&(b.objectNumber=Cn(),te("<<"),te("/Type /Font"),te("/BaseFont /"+Lc(b.postScriptName)),te("/Subtype /Type1"),typeof b.encoding=="string"&&te("/Encoding /"+b.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},oo=function(b){b.objectNumber=Cn();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[j(b.x),j(b.y),j(b.x+b.width),j(b.y+b.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var Q=b.pages[1].join(`
`);si({data:Q,additionalKeyValues:D,objectId:b.objectNumber}),te("endobj")},_s=function(b,D){D||(D=21);var Q=Cn(),se=function(je,We){var Xe,mt=[],it=1/(We-1);for(Xe=0;Xe<1;Xe+=it)mt.push(Xe);if(mt.push(1),je[0].offset!=0){var en={offset:0,color:je[0].color};je.unshift(en)}if(je[je.length-1].offset!=1){var Pn={offset:1,color:je[je.length-1].color};je.push(Pn)}for(var Nn="",f=0,_=0;_<mt.length;_++){for(Xe=mt[_];Xe>je[f+1].offset;)f++;var R=je[f].offset,W=(Xe-R)/(je[f+1].offset-R),me=je[f].color,xe=je[f+1].color;Nn+=M(Math.round((1-W)*me[0]+W*xe[0]).toString(16))+M(Math.round((1-W)*me[1]+W*xe[1]).toString(16))+M(Math.round((1-W)*me[2]+W*xe[2]).toString(16))}return Nn.trim()}(b.colors,D),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+D+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),si({data:se,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Q}),te("endobj"),b.objectNumber=Cn(),te("<< /ShadingType "+b.type),te("/ColorSpace /DeviceRGB");var Ee="/Coords ["+j(parseFloat(b.coords[0]))+" "+j(parseFloat(b.coords[1]))+" ";b.type===2?Ee+=j(parseFloat(b.coords[2]))+" "+j(parseFloat(b.coords[3])):Ee+=j(parseFloat(b.coords[2]))+" "+j(parseFloat(b.coords[3]))+" "+j(parseFloat(b.coords[4]))+" "+j(parseFloat(b.coords[5])),te(Ee+="]"),b.matrix&&te("/Matrix ["+b.matrix.toString()+"]"),te("/Function "+Q+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},Mi=function(b,D){var Q=Bn(),se=Cn();D.push({resourcesOid:Q,objectOid:se}),b.objectNumber=se;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+b.boundingBox.map(j).join(" ")+"]"}),de.push({key:"XStep",value:j(b.xStep)}),de.push({key:"YStep",value:j(b.yStep)}),de.push({key:"Resources",value:Q+" 0 R"}),b.matrix&&de.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),si({data:b.stream,additionalKeyValues:de,objectId:b.objectNumber}),te("endobj")},es=function(b){for(var D in b.objectNumber=Cn(),te("<<"),b)switch(D){case"opacity":te("/ca "+E(b[D]));break;case"stroke-opacity":te("/CA "+E(b[D]))}te(">>"),te("endobj")},ao=function(b){ur(b.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var D in te("/Font <<"),$e)$e.hasOwnProperty(D)&&(m===!1||m===!0&&y.hasOwnProperty(D))&&te("/"+D+" "+$e[D].objectNumber+" 0 R");te(">>")}(),function(){if(Object.keys(ut).length>0){for(var D in te("/Shading <<"),ut)ut.hasOwnProperty(D)&&ut[D]instanceof Nl&&ut[D].objectNumber>=0&&te("/"+D+" "+ut[D].objectNumber+" 0 R");$t.publish("putShadingPatternDict"),te(">>")}}(),function(D){if(Object.keys(ut).length>0){for(var Q in te("/Pattern <<"),ut)ut.hasOwnProperty(Q)&&ut[Q]instanceof p.TilingPattern&&ut[Q].objectNumber>=0&&ut[Q].objectNumber<D&&te("/"+Q+" "+ut[Q].objectNumber+" 0 R");$t.publish("putTilingPatternDict"),te(">>")}}(b.objectOid),function(){if(Object.keys(vt).length>0){var D;for(D in te("/ExtGState <<"),vt)vt.hasOwnProperty(D)&&vt[D].objectNumber>=0&&te("/"+D+" "+vt[D].objectNumber+" 0 R");$t.publish("putGStateDict"),te(">>")}}(),function(){for(var D in te("/XObject <<"),At)At.hasOwnProperty(D)&&At[D].objectNumber>=0&&te("/"+D+" "+At[D].objectNumber+" 0 R");$t.publish("putXobjectDict"),te(">>")}(),te(">>"),te("endobj")},uc=function(b){gt[b.fontName]=gt[b.fontName]||{},gt[b.fontName][b.fontStyle]=b.id},ol=function(b,D,Q,se,de){var Ee={id:"F"+(Object.keys($e).length+1).toString(10),postScriptName:b,fontName:D,fontStyle:Q,encoding:se,isStandardFont:de||!1,metadata:{}};return $t.publish("addFont",{font:Ee,instance:this}),$e[Ee.id]=Ee,uc(Ee),Ee.id},Wr=p.__private__.pdfEscape=p.pdfEscape=function(b,D){return function(Q,se){var de,Ee,je,We,Xe,mt,it,en,Pn;if(je=(se=se||{}).sourceEncoding||"Unicode",Xe=se.outputEncoding,(se.autoencode||Xe)&&$e[rt].metadata&&$e[rt].metadata[je]&&$e[rt].metadata[je].encoding&&(We=$e[rt].metadata[je].encoding,!Xe&&$e[rt].encoding&&(Xe=$e[rt].encoding),!Xe&&We.codePages&&(Xe=We.codePages[0]),typeof Xe=="string"&&(Xe=We[Xe]),Xe)){for(it=!1,mt=[],de=0,Ee=Q.length;de<Ee;de++)(en=Xe[Q.charCodeAt(de)])?mt.push(String.fromCharCode(en)):mt.push(Q[de]),mt[de].charCodeAt(0)>>8&&(it=!0);Q=mt.join("")}for(de=Q.length;it===void 0&&de!==0;)Q.charCodeAt(de-1)>>8&&(it=!0),de--;if(!it)return Q;for(mt=se.noBOM?[]:[254,255],de=0,Ee=Q.length;de<Ee;de++){if((Pn=(en=Q.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+Q+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mt.push(Pn),mt.push(en-(Pn<<8))}return String.fromCharCode.apply(void 0,mt)}(b,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qo=p.__private__.beginPage=function(b){Ne[++Nt]=[],ot[Nt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},al(Nt),we(Ne[Y])},$o=function(b,D){var Q,se,de;switch(n=D||n,typeof b=="string"&&(Q=A(b.toLowerCase()),Array.isArray(Q)&&(se=Q[0],de=Q[1])),Array.isArray(b)&&(se=b[0]*dt,de=b[1]*dt),isNaN(se)&&(se=i[0],de=i[1]),(se>14400||de>14400)&&(Tn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),se=Math.min(14400,se),de=Math.min(14400,de)),i=[se,de],n.substr(0,1)){case"l":de>se&&(i=[de,se]);break;case"p":se>de&&(i=[de,se])}qo(i),hl(ai),te(Yo),li!==0&&te(li+" J"),Xo!==0&&te(Xo+" j"),$t.publish("addPage",{pageNumber:Nt})},lo=function(b){b>0&&b<=Nt&&(Ne.splice(b,1),ot.splice(b,1),Nt--,Y>Nt&&(Y=Nt),this.setPage(Y))},al=function(b){b>0&&b<=Nt&&(Y=b)},ll=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ne.length-1},cl=function(b,D,Q){var se,de=void 0;return Q=Q||{},b=b!==void 0?b:$e[rt].fontName,D=D!==void 0?D:$e[rt].fontStyle,se=b.toLowerCase(),gt[se]!==void 0&&gt[se][D]!==void 0?de=gt[se][D]:gt[b]!==void 0&&gt[b][D]!==void 0?de=gt[b][D]:Q.disableWarning===!1&&Tn.warn("Unable to look up font label for font '"+b+"', '"+D+"'. Refer to getFontList() for available fonts."),de||Q.noFallback||(de=gt.times[D])==null&&(de=gt.times.normal),de},Ho=p.__private__.putInfo=function(){var b=Cn(),D=function(se){return se};for(var Q in h!==null&&(D=_n.encryptor(b,0)),te("<<"),te("/Producer ("+Wr(D("jsPDF "+lt.version))+")"),wt)wt.hasOwnProperty(Q)&&wt[Q]&&te("/"+Q.substr(0,1).toUpperCase()+Q.substr(1)+" ("+Wr(D(wt[Q]))+")");te("/CreationDate ("+Wr(D(ce))+")"),te(">>"),te("endobj")},Fi=p.__private__.putCatalog=function(b){var D=(b=b||{}).rootDictionaryObjId||Zi;switch(Cn(),te("<<"),te("/Type /Catalog"),te("/Pages "+D+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Q=""+qe;Q.substr(Q.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&te("/OpenAction [3 0 R /XYZ null null "+E(qe)+"]")}switch(pt||(pt="continuous"),pt){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}Ge&&te("/PageMode /"+Ge),$t.publish("putCatalog"),te(">>"),te("endobj")},cn=p.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(U+1)),te("/Root "+U+" 0 R"),te("/Info "+(U-1)+" 0 R"),h!==null&&te("/Encrypt "+_n.oid+" 0 R"),te("/ID [ <"+ue+"> <"+ue+"> ]"),te(">>")},Ns=p.__private__.putHeader=function(){te("%PDF-"+N),te("%ºß¬à")},As=p.__private__.putXRef=function(){var b="0000000000";te("xref"),te("0 "+(U+1)),te("0000000000 65535 f ");for(var D=1;D<=U;D++)typeof ne[D]=="function"?te((b+ne[D]()).slice(-10)+" 00000 n "):ne[D]!==void 0?te((b+ne[D]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},mi=p.__private__.buildDocument=function(){var b;U=0,pe=0,oe=[],ne=[],ye=[],Zi=Bn(),ni=Bn(),we(oe),$t.publish("buildDocument"),Ns(),Oi(),function(){$t.publish("putAdditionalObjects");for(var Q=0;Q<ye.length;Q++){var se=ye[Q];ur(se.objId,!0),te(se.content),te("endobj")}$t.publish("postPutAdditionalObjects")}(),b=[],function(){for(var Q in $e)$e.hasOwnProperty(Q)&&(m===!1||m===!0&&y.hasOwnProperty(Q))&&Di($e[Q])}(),function(){var Q;for(Q in vt)vt.hasOwnProperty(Q)&&es(vt[Q])}(),function(){for(var Q in At)At.hasOwnProperty(Q)&&oo(At[Q])}(),function(Q){var se;for(se in ut)ut.hasOwnProperty(se)&&(ut[se]instanceof Nl?_s(ut[se]):ut[se]instanceof Oc&&Mi(ut[se],Q))}(b),$t.publish("putResources"),b.forEach(ao),ao({resourcesOid:ni,objectOid:Number.MAX_SAFE_INTEGER}),$t.publish("postPutResources"),h!==null&&(_n.oid=Cn(),te("<<"),te("/Filter /Standard"),te("/V "+_n.v),te("/R "+_n.r),te("/U <"+_n.toHexString(_n.U)+">"),te("/O <"+_n.toHexString(_n.O)+">"),te("/P "+_n.P),te(">>"),te("endobj")),Ho(),Fi();var D=pe;return As(),cn(),te("startxref"),te(""+D),te("%%EOF"),we(Ne[Y]),oe.join(`
`)},sn=p.__private__.getBlob=function(b){return new Blob([ht(b)],{type:"application/pdf"})},kr=p.output=p.__private__.output=(Vn=function(b,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",b){case void 0:return mi();case"save":p.save(D.filename);break;case"arraybuffer":return ht(mi());case"blob":return sn(mi());case"bloburi":case"bloburl":if(Tt.URL!==void 0&&typeof Tt.URL.createObjectURL=="function")return Tt.URL&&Tt.URL.createObjectURL(sn(mi()))||void 0;Tn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Q="",se=mi();try{Q=bw(se)}catch{Q=bw(unescape(encodeURIComponent(se)))}return"data:application/pdf;filename="+D.filename+";base64,"+Q;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ee=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(de=D.pdfObjectUrl,Ee="");var je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+Ee+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",We=Tt.open();return We!==null&&We.document.write(je),We}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',mt=Tt.open();if(mt!==null){mt.document.write(Xe);var it=this;mt.document.documentElement.querySelector("#pdfViewer").onload=function(){mt.document.title=D.filename,mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(it.output("bloburl"))}}return mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Tt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',Pn=Tt.open();if(Pn!==null&&(Pn.document.write(en),Pn.document.title=D.filename),Pn||typeof safari>"u")return Pn;break;case"datauri":case"dataurl":return Tt.document.location.href=this.output("datauristring",D);default:return null}},Vn.foo=function(){try{return Vn.apply(this,arguments)}catch(Q){var b=Q.stack||"";~b.indexOf(" at ")&&(b=b.split(" at ")[1]);var D="Error in function "+b.split(`
`)[0].split("<")[0]+": "+Q.message;if(!Tt.console)throw new Error(D);Tt.console.error(D,Q),Tt.alert&&alert(D)}},Vn.foo.bar=Vn,Vn.foo),gi=function(b){return Array.isArray(at)===!0&&at.indexOf(b)>-1};switch(r){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=gi("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);dt=r}var _n=null;_e(),ie();var ul=p.__private__.getPageInfo=p.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ot[b].objId,pageNumber:b,pageContext:ot[b]}},hc=p.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in ot)if(ot[D].objId===b)break;return ul(D)},Ou=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ot[Y].objId,pageNumber:Y,pageContext:ot[Y]}};p.addPage=function(){return $o.apply(this,arguments),this},p.setPage=function(){return al.apply(this,arguments),we.call(this,Ne[Y]),this},p.insertPage=function(b){return this.addPage(),this.movePage(Y,b),this},p.movePage=function(b,D){var Q,se;if(b>D){Q=Ne[b],se=ot[b];for(var de=b;de>D;de--)Ne[de]=Ne[de-1],ot[de]=ot[de-1];Ne[D]=Q,ot[D]=se,this.setPage(D)}else if(b<D){Q=Ne[b],se=ot[b];for(var Ee=b;Ee<D;Ee++)Ne[Ee]=Ne[Ee+1],ot[Ee]=ot[Ee+1];Ne[D]=Q,ot[D]=se,this.setPage(D)}return this},p.deletePage=function(){return lo.apply(this,arguments),this},p.__private__.text=p.text=function(b,D,Q,se,de){var Ee,je,We,Xe,mt,it,en,Pn,Nn,f=(se=se||{}).scope||this;if(typeof b=="number"&&typeof D=="number"&&(typeof Q=="string"||Array.isArray(Q))){var _=Q;Q=D,D=b,b=_}if(arguments[3]instanceof Ye==0?(We=arguments[4],Xe=arguments[5],xn(en=arguments[3])==="object"&&en!==null||(typeof We=="string"&&(Xe=We,We=null),typeof en=="string"&&(Xe=en,en=null),typeof en=="number"&&(We=en,en=null),se={flags:en,angle:We,align:Xe})):(P("The transform parameter of text() with a Matrix value"),Nn=de),isNaN(D)||isNaN(Q)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return f;var R,W="",me=typeof se.lineHeightFactor=="number"?se.lineHeightFactor:co,xe=f.internal.scaleFactor;function Be(dn){return dn=dn.split("	").join(Array(se.TabLen||9).join(" ")),Wr(dn,en)}function St(dn){for(var En,Qn=dn.concat(),hr=[],bo=Qn.length;bo--;)typeof(En=Qn.shift())=="string"?hr.push(En):Array.isArray(dn)&&(En.length===1||En[1]===void 0&&En[2]===void 0)?hr.push(En[0]):hr.push([En[0],En[1],En[2]]);return hr}function An(dn,En){var Qn;if(typeof dn=="string")Qn=En(dn)[0];else if(Array.isArray(dn)){for(var hr,bo,Wu=dn.concat(),xc=[],kd=Wu.length;kd--;)typeof(hr=Wu.shift())=="string"?xc.push(En(hr)[0]):Array.isArray(hr)&&typeof hr[0]=="string"&&(bo=En(hr[0],hr[1],hr[2]),xc.push([bo[0],bo[1],bo[2]]));Qn=xc}return Qn}var Gt=!1,kn=!0;if(typeof b=="string")Gt=!0;else if(Array.isArray(b)){var yr=b.concat();je=[];for(var Yr,jn=yr.length;jn--;)(typeof(Yr=yr.shift())!="string"||Array.isArray(Yr)&&typeof Yr[0]!="string")&&(kn=!1);Gt=kn}if(Gt===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var jr=Ie/f.internal.scaleFactor,zi=jr*(me-1);switch(se.baseline){case"bottom":Q-=zi;break;case"top":Q+=jr-zi;break;case"hanging":Q+=jr-2*zi;break;case"middle":Q+=jr/2-zi}if((it=se.maxWidth||0)>0&&(typeof b=="string"?b=f.splitTextToSize(b,it):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(dn,En){return dn.concat(f.splitTextToSize(En,it))},[]))),Ee={text:b,x:D,y:Q,options:se,mutex:{pdfEscape:Wr,activeFontKey:rt,fonts:$e,activeFontSize:Ie}},$t.publish("preProcessText",Ee),b=Ee.text,We=(se=Ee.options).angle,Nn instanceof Ye==0&&We&&typeof We=="number"){We*=Math.PI/180,se.rotationDirection===0&&(We=-We),B===L&&(We=-We);var go=Math.cos(We),Fu=Math.sin(We);Nn=new Ye(go,Fu,-Fu,go,0,0)}else We&&We instanceof Ye&&(Nn=We);B!==L||Nn||(Nn=$n),(mt=se.charSpace||fo)!==void 0&&(W+=j(k(mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Pn=se.horizontalScale)!==void 0&&(W+=j(100*Pn)+` Tz
`),se.lang;var Hn=-1,yo=se.renderingMode!==void 0?se.renderingMode:se.stroke,vc=f.internal.getCurrentPageInfo().pageContext;switch(yo){case 0:case!1:case"fill":Hn=0;break;case 1:case!0:case"stroke":Hn=1;break;case 2:case"fillThenStroke":Hn=2;break;case 3:case"invisible":Hn=3;break;case 4:case"fillAndAddForClipping":Hn=4;break;case 5:case"strokeAndAddPathForClipping":Hn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Hn=6;break;case 7:case"addToPathForClipping":Hn=7}var Id=vc.usedRenderingMode!==void 0?vc.usedRenderingMode:-1;Hn!==-1?W+=Hn+` Tr
`:Id!==-1&&(W+=`0 Tr
`),Hn!==-1&&(vc.usedRenderingMode=Hn),Xe=se.align||"left";var qi,gl=Ie*me,Vu=f.internal.pageSize.getWidth(),Bu=$e[rt];mt=se.charSpace||fo,it=se.maxWidth||0,en=Object.assign({autoencode:!0,noBOM:!0},se.flags);var ea=[],yl=function(dn){return f.getStringUnitWidth(dn,{font:Bu,charSpace:mt,fontSize:Ie,doKerning:!1})*Ie/xe};if(Object.prototype.toString.call(b)==="[object Array]"){var vi;je=St(b),Xe!=="left"&&(qi=je.map(yl));var bi,ta=0;if(Xe==="right"){D-=qi[0],b=[],jn=je.length;for(var vo=0;vo<jn;vo++)vo===0?(bi=Gr(D),vi=Bi(Q)):(bi=k(ta-qi[vo]),vi=-gl),b.push([je[vo],bi,vi]),ta=qi[vo]}else if(Xe==="center"){D-=qi[0]/2,b=[],jn=je.length;for(var na=0;na<jn;na++)na===0?(bi=Gr(D),vi=Bi(Q)):(bi=k((ta-qi[na])/2),vi=-gl),b.push([je[na],bi,vi]),ta=qi[na]}else if(Xe==="left"){b=[],jn=je.length;for(var Uu=0;Uu<jn;Uu++)b.push(je[Uu])}else if(Xe==="justify"&&Bu.encoding==="Identity-H"){b=[],jn=je.length,it=it!==0?it:Vu;for(var bc=0,Xn=0;Xn<jn;Xn++)if(vi=Xn===0?Bi(Q):-gl,bi=Xn===0?Gr(D):bc,Xn<jn-1){var Pd=k((it-qi[Xn])/(je[Xn].split(" ").length-1)),ks=je[Xn].split(" ");b.push([ks[0]+" ",bi,vi]),bc=0;for(var Rs=1;Rs<ks.length;Rs++){var zu=(yl(ks[Rs-1]+" "+ks[Rs])-yl(ks[Rs]))*xe+Pd;Rs==ks.length-1?b.push([ks[Rs],zu,0]):b.push([ks[Rs]+" ",zu,0]),bc-=zu}}else b.push([je[Xn],bi,vi]);b.push(["",bc,0])}else{if(Xe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],jn=je.length,it=it!==0?it:Vu,Xn=0;Xn<jn;Xn++){vi=Xn===0?Bi(Q):-gl,bi=Xn===0?Gr(D):0;var qu=je[Xn].split(" ").length-1,$u=qu>0?(it-qi[Xn])/qu:0;Xn<jn-1?ea.push(j(k($u))):ea.push(0),b.push([je[Xn],bi,vi])}}}(typeof se.R2L=="boolean"?se.R2L:_t)===!0&&(b=An(b,function(dn,En,Qn){return[dn.split("").reverse().join(""),En,Qn]})),Ee={text:b,x:D,y:Q,options:se,mutex:{pdfEscape:Wr,activeFontKey:rt,fonts:$e,activeFontSize:Ie}},$t.publish("postProcessText",Ee),b=Ee.text,R=Ee.mutex.isHex||!1;var Hu=$e[rt].encoding;Hu!=="WinAnsiEncoding"&&Hu!=="StandardEncoding"||(b=An(b,function(dn,En,Qn){return[Be(dn),En,Qn]})),je=St(b),b=[];for(var ra,ia,sa,vl=Array.isArray(je[0])?1:0,oa="",bl=function(dn,En,Qn){var hr="";return Qn instanceof Ye?(Qn=typeof se.angle=="number"?or(Qn,new Ye(1,0,0,1,dn,En)):or(new Ye(1,0,0,1,dn,En),Qn),B===L&&(Qn=or(new Ye(1,0,0,-1,0,0),Qn)),hr=Qn.join(" ")+` Tm
`):hr=j(dn)+" "+j(En)+` Td
`,hr},$i=0;$i<je.length;$i++){switch(oa="",vl){case 1:sa=(R?"<":"(")+je[$i][0]+(R?">":")"),ra=parseFloat(je[$i][1]),ia=parseFloat(je[$i][2]);break;case 0:sa=(R?"<":"(")+je[$i]+(R?">":")"),ra=Gr(D),ia=Bi(Q)}ea!==void 0&&ea[$i]!==void 0&&(oa=ea[$i]+` Tw
`),$i===0?b.push(oa+bl(ra,ia,Nn)+sa):vl===0?b.push(oa+sa):vl===1&&b.push(oa+bl(ra,ia,Nn)+sa)}b=vl===0?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var js=`BT
/`;return js+=rt+" "+Ie+` Tf
`,js+=j(Ie*me)+` TL
`,js+=Ts+`
`,js+=W,js+=b,te(js+="ET"),y[rt]=!0,f};var Du=p.__private__.clip=p.clip=function(b){return te(b==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Du("evenodd")},p.__private__.discardPath=p.discardPath=function(){return te("n"),this};var Vi=p.__private__.isValidStyle=function(b){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(D=!0),D};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(b){return Vi(b)&&(u=b),this};var dc=p.__private__.getStyle=p.getStyle=function(b){var D=u;switch(b){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=b}return D},Es=p.close=function(){return te("h"),this};p.stroke=function(){return te("S"),this},p.fill=function(b){return Rr("f",b),this},p.fillEvenOdd=function(b){return Rr("f*",b),this},p.fillStroke=function(b){return Rr("B",b),this},p.fillStrokeEvenOdd=function(b){return Rr("B*",b),this};var Rr=function(b,D){xn(D)==="object"?pc(D,b):te(b)},Wo=function(b){b===null||B===L&&b===void 0||(b=dc(b),te(b))};function fc(b,D,Q,se,de){var Ee=new Oc(D||this.boundingBox,Q||this.xStep,se||this.yStep,this.gState,de||this.matrix);Ee.stream=this.stream;var je=b+"$$"+this.cloneIndex+++"$$";return wn(je,Ee),Ee}var pc=function(b,D){var Q=Dt[b.key],se=ut[Q];if(se instanceof Nl)te("q"),te(mc(D)),se.gState&&p.setGState(se.gState),te(b.matrix.toString()+" cm"),te("/"+Q+" sh"),te("Q");else if(se instanceof Oc){var de=new Ye(1,0,0,-1,0,ts());b.matrix&&(de=de.multiply(b.matrix||$n),Q=fc.call(se,b.key,b.boundingBox,b.xStep,b.yStep,de).id),te("q"),te("/Pattern cs"),te("/"+Q+" scn"),se.gState&&p.setGState(se.gState),te(D),te("Q")}},mc=function(b){switch(b){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Go=p.moveTo=function(b,D){return te(j(k(b))+" "+j(G(D))+" m"),this},oi=p.lineTo=function(b,D){return te(j(k(b))+" "+j(G(D))+" l"),this},Ss=p.curveTo=function(b,D,Q,se,de,Ee){return te([j(k(b)),j(G(D)),j(k(Q)),j(G(se)),j(k(de)),j(G(Ee)),"c"].join(" ")),this};p.__private__.line=p.line=function(b,D,Q,se,de){if(isNaN(b)||isNaN(D)||isNaN(Q)||isNaN(se)||!Vi(de))throw new Error("Invalid arguments passed to jsPDF.line");return B===C?this.lines([[Q-b,se-D]],b,D,[1,1],de||"S"):this.lines([[Q-b,se-D]],b,D,[1,1]).stroke()},p.__private__.lines=p.lines=function(b,D,Q,se,de,Ee){var je,We,Xe,mt,it,en,Pn,Nn,f,_,R,W;if(typeof b=="number"&&(W=Q,Q=D,D=b,b=W),se=se||[1,1],Ee=Ee||!1,isNaN(D)||isNaN(Q)||!Array.isArray(b)||!Array.isArray(se)||!Vi(de)||typeof Ee!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Go(D,Q),je=se[0],We=se[1],mt=b.length,_=D,R=Q,Xe=0;Xe<mt;Xe++)(it=b[Xe]).length===2?(_=it[0]*je+_,R=it[1]*We+R,oi(_,R)):(en=it[0]*je+_,Pn=it[1]*We+R,Nn=it[2]*je+_,f=it[3]*We+R,_=it[4]*je+_,R=it[5]*We+R,Ss(en,Pn,Nn,f,_,R));return Ee&&Es(),Wo(de),this},p.path=function(b){for(var D=0;D<b.length;D++){var Q=b[D],se=Q.c;switch(Q.op){case"m":Go(se[0],se[1]);break;case"l":oi(se[0],se[1]);break;case"c":Ss.apply(this,se);break;case"h":Es()}}return this},p.__private__.rect=p.rect=function(b,D,Q,se,de){if(isNaN(b)||isNaN(D)||isNaN(Q)||isNaN(se)||!Vi(de))throw new Error("Invalid arguments passed to jsPDF.rect");return B===C&&(se=-se),te([j(k(b)),j(G(D)),j(k(Q)),j(k(se)),"re"].join(" ")),Wo(de),this},p.__private__.triangle=p.triangle=function(b,D,Q,se,de,Ee,je){if(isNaN(b)||isNaN(D)||isNaN(Q)||isNaN(se)||isNaN(de)||isNaN(Ee)||!Vi(je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Q-b,se-D],[de-Q,Ee-se],[b-de,D-Ee]],b,D,[1,1],je,!0),this},p.__private__.roundedRect=p.roundedRect=function(b,D,Q,se,de,Ee,je){if(isNaN(b)||isNaN(D)||isNaN(Q)||isNaN(se)||isNaN(de)||isNaN(Ee)||!Vi(je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var We=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*Q),Ee=Math.min(Ee,.5*se),this.lines([[Q-2*de,0],[de*We,0,de,Ee-Ee*We,de,Ee],[0,se-2*Ee],[0,Ee*We,-de*We,Ee,-de,Ee],[2*de-Q,0],[-de*We,0,-de,-Ee*We,-de,-Ee],[0,2*Ee-se],[0,-Ee*We,de*We,-Ee,de,-Ee]],b+de,D,[1,1],je,!0),this},p.__private__.ellipse=p.ellipse=function(b,D,Q,se,de){if(isNaN(b)||isNaN(D)||isNaN(Q)||isNaN(se)||!Vi(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ee=4/3*(Math.SQRT2-1)*Q,je=4/3*(Math.SQRT2-1)*se;return Go(b+Q,D),Ss(b+Q,D-je,b+Ee,D-se,b,D-se),Ss(b-Ee,D-se,b-Q,D-je,b-Q,D),Ss(b-Q,D+je,b-Ee,D+se,b,D+se),Ss(b+Ee,D+se,b+Q,D+je,b+Q,D),Wo(de),this},p.__private__.circle=p.circle=function(b,D,Q,se){if(isNaN(b)||isNaN(D)||isNaN(Q)||!Vi(se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,D,Q,Q,se)},p.setFont=function(b,D,Q){return Q&&(D=V(D,Q)),rt=cl(b,D,{disableWarning:!1}),this};var Mu=p.__private__.getFont=p.getFont=function(){return $e[cl.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var b,D,Q={};for(b in gt)if(gt.hasOwnProperty(b))for(D in Q[b]=[],gt[b])gt[b].hasOwnProperty(D)&&Q[b].push(D);return Q},p.addFont=function(b,D,Q,se,de){var Ee=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ee.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&Ee.indexOf(arguments[3])==-1&&(Q=V(Q,se)),ol.call(this,b,D,Q,de=de||"Identity-H")};var co,ai=t.lineWidth||.200025,Et=p.__private__.getLineWidth=p.getLineWidth=function(){return ai},hl=p.__private__.setLineWidth=p.setLineWidth=function(b){return ai=b,te(j(k(b))+" w"),this};p.__private__.setLineDash=lt.API.setLineDash=lt.API.setLineDashPattern=function(b,D){if(b=b||[],D=D||0,isNaN(D)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(Q){return j(k(Q))}).join(" "),D=j(k(D)),te("["+b+"] "+D+" d"),this};var Ko=p.__private__.getLineHeight=p.getLineHeight=function(){return Ie*co};p.__private__.getLineHeight=p.getLineHeight=function(){return Ie*co};var gc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(co=b),this},uo=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return co};gc(t.lineHeight);var Gr=p.__private__.getHorizontalCoordinate=function(b){return k(b)},Bi=p.__private__.getVerticalCoordinate=function(b){return B===L?b:ot[Y].mediaBox.topRightY-ot[Y].mediaBox.bottomLeftY-k(b)},dl=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(b){return j(Gr(b))},In=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(b){return j(Bi(b))},Yo=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ri(Yo)},p.__private__.setStrokeColor=p.setDrawColor=function(b,D,Q,se){return Yo=Hr({ch1:b,ch2:D,ch3:Q,ch4:se,pdfColorType:"draw",precision:2}),te(Yo),this};var fl=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ri(fl)},p.__private__.setFillColor=p.setFillColor=function(b,D,Q,se){return fl=Hr({ch1:b,ch2:D,ch3:Q,ch4:se,pdfColorType:"fill",precision:2}),te(fl),this};var Ts=t.textColor||"0 g",ho=p.__private__.getTextColor=p.getTextColor=function(){return ri(Ts)};p.__private__.setTextColor=p.setTextColor=function(b,D,Q,se){return Ts=Hr({ch1:b,ch2:D,ch3:Q,ch4:se,pdfColorType:"text",precision:3}),this};var fo=t.charSpace,Jo=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(fo||0)};p.__private__.setCharSpace=p.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fo=b,this};var li=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(b){var D=p.CapJoinStyles[b];if(D===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return li=D,te(D+" J"),this};var Xo=0;p.__private__.setLineJoin=p.setLineJoin=function(b){var D=p.CapJoinStyles[b];if(D===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xo=D,te(D+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(j(k(b))+" M"),this},p.GState=Ip,p.setGState=function(b){(b=typeof b=="string"?vt[hn[b]]:po(null,b)).equals(Fn)||(te("/"+b.id+" gs"),Fn=b)};var po=function(b,D){if(!b||!hn[b]){var Q=!1;for(var se in vt)if(vt.hasOwnProperty(se)&&vt[se].equals(D)){Q=!0;break}if(Q)D=vt[se];else{var de="GS"+(Object.keys(vt).length+1).toString(10);vt[de]=D,D.id=de}return b&&(hn[b]=D.id),$t.publish("addGState",D),D}};p.addGState=function(b,D){return po(b,D),this},p.saveGraphicsState=function(){return te("q"),Ot.push({key:rt,size:Ie,color:Ts}),this},p.restoreGraphicsState=function(){te("Q");var b=Ot.pop();return rt=b.key,Ie=b.size,Ts=b.color,Fn=null,this},p.setCurrentTransformationMatrix=function(b){return te(b.toString()+" cm"),this},p.comment=function(b){return te("#"+b),this};var yi=function(b,D){var Q=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Q},set:function(Ee){isNaN(Ee)||(Q=parseFloat(Ee))}});var se=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return se},set:function(Ee){isNaN(Ee)||(se=parseFloat(Ee))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(Ee){de=Ee.toString()}}),this},Qo=function(b,D,Q,se){yi.call(this,b,D),this.type="rect";var de=Q||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(je){isNaN(je)||(de=parseFloat(je))}});var Ee=se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ee},set:function(je){isNaN(je)||(Ee=parseFloat(je))}}),this},Cs=function(){this.page=Nt,this.currentPage=Y,this.pages=Ne.slice(0),this.pagesContext=ot.slice(0),this.x=tt,this.y=an,this.matrix=Vt,this.width=mo(Y),this.height=Ui(Y),this.outputDestination=Fe,this.id="",this.objectNumber=-1};Cs.prototype.restore=function(){Nt=this.page,Y=this.currentPage,ot=this.pagesContext,Ne=this.pages,tt=this.x,an=this.y,Vt=this.matrix,yc(Y,this.width),Kr(Y,this.height),Fe=this.outputDestination};var Is=function(b,D,Q,se,de){mn.push(new Cs),Nt=Y=0,Ne=[],tt=b,an=D,Vt=de,qo([Q,se])};for(var Ps in p.beginFormObject=function(b,D,Q,se,de){return Is(b,D,Q,se,de),this},p.endFormObject=function(b){return function(D){if(Wt[D])mn.pop().restore();else{var Q=new Cs,se="Xo"+(Object.keys(At).length+1).toString(10);Q.id=se,Wt[D]=se,At[se]=Q,$t.publish("addFormObject",Q),mn.pop().restore()}}(b),this},p.doFormObject=function(b,D){var Q=At[Wt[b]];return te("q"),te(D.toString()+" cm"),te("/"+Q.id+" Do"),te("Q"),this},p.getFormObject=function(b){var D=At[Wt[b]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},p.save=function(b,D){return b=b||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(_l(sn(mi()),b),typeof _l.unload=="function"&&Tt.setTimeout&&setTimeout(_l.unload,911),this):new Promise(function(Q,se){try{var de=_l(sn(mi()),b);typeof _l.unload=="function"&&Tt.setTimeout&&setTimeout(_l.unload,911),Q(de)}catch(Ee){se(Ee.message)}})},lt.API)lt.API.hasOwnProperty(Ps)&&(Ps==="events"&&lt.API.events.length?function(b,D){var Q,se,de;for(de=D.length-1;de!==-1;de--)Q=D[de][0],se=D[de][1],b.subscribe.apply(b,[Q].concat(typeof se=="function"?[se]:se))}($t,lt.API.events):p[Ps]=lt.API[Ps]);function mo(b){return ot[b].mediaBox.topRightX-ot[b].mediaBox.bottomLeftX}function yc(b,D){ot[b].mediaBox.topRightX=D+ot[b].mediaBox.bottomLeftX}function Ui(b){return ot[b].mediaBox.topRightY-ot[b].mediaBox.bottomLeftY}function Kr(b,D){ot[b].mediaBox.topRightY=D+ot[b].mediaBox.bottomLeftY}var pl=p.getPageWidth=function(b){return mo(b=b||Y)/dt},ml=p.setPageWidth=function(b,D){yc(b,D*dt)},ts=p.getPageHeight=function(b){return Ui(b=b||Y)/dt},Zo=p.setPageHeight=function(b,D){Kr(b,D*dt)};return p.internal={pdfEscape:Wr,getStyle:dc,getFont:Mu,getFontSize:Ue,getCharSpace:Jo,getTextColor:ho,getLineHeight:Ko,getLineHeightFactor:uo,getLineWidth:Et,write:yt,getHorizontalCoordinate:Gr,getVerticalCoordinate:Bi,getCoordinateString:dl,getVerticalCoordinateString:In,collections:{},newObject:Cn,newAdditionalObject:Pr,newObjectDeferred:Bn,newObjectDeferredBegin:ur,getFilters:ii,putStream:si,events:$t,scaleFactor:dt,pageSize:{getWidth:function(){return pl(Y)},setWidth:function(b){ml(Y,b)},getHeight:function(){return ts(Y)},setHeight:function(b){Zo(Y,b)}},encryptionOptions:h,encryption:_n,getEncryptor:function(b){return h!==null?_n.encryptor(b,0):function(D){return D}},output:kr,getNumberOfPages:ll,pages:Ne,out:te,f2:E,f3:I,getPageInfo:ul,getPageInfoByObjId:hc,getCurrentPageInfo:Ou,getPDFVersion:v,Point:yi,Rectangle:Qo,Matrix:Ye,hasHotfix:gi},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return pl(Y)},set:function(b){ml(Y,b)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ts(Y)},set:function(b){Zo(Y,b)},enumerable:!0,configurable:!0}),(function(b){for(var D=0,Q=Qe.length;D<Q;D++){var se=ol.call(this,b[D][0],b[D][1],b[D][2],Qe[D][3],!0);m===!1&&(y[se]=!0);var de=b[D][0].split("-");uc({id:se,fontName:de[0],fontStyle:de[1]||""})}$t.publish("addFonts",{fonts:$e,dictionary:gt})}).call(p,Qe),rt="F1",$o(i,n),$t.publish("initialized"),p}jc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},jc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},jc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},jc.prototype.processOwnerPassword=function(t,e){return r1(n1(e).substr(0,5),t)},jc.prototype.encryptor=function(t,e){var n=n1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return r1(n,r)}},Ip.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||xn(t)!==xn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},lt.API={events:[]},lt.version="3.0.3";var Yn=lt.API,X2=1,cc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pt=function(t){return t.toFixed(2)},ya=function(t){return t.toFixed(5)};Yn.__acroform__={};var pi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Nw=function(t){return t*X2},Ms=function(t){var e=new o3,n=Je.internal.getHeight(t)||0,r=Je.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Pt(r)),Number(Pt(n))],e},Qz=Yn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Zz=Yn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},eq=Yn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},nr=Yn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eq(t,e-1)},rr=Yn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Qz(t,e-1)},ir=Yn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Zz(t,e-1)},tq=Yn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+a)||0,c.upperRight_X=n(i+o)||0,c.upperRight_Y=r(s)||0,[Number(Pt(c.lowerLeft_X)),Number(Pt(c.lowerLeft_Y)),Number(Pt(c.upperRight_X)),Number(Pt(c.upperRight_Y))]},nq=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=i1(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Pt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ms(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},i1=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=n,o=Je.internal.getHeight(t)||0;o=o<0?-o:o;var a=Je.internal.getWidth(t)||0;a=a<0?-a:a;var c=function(E,I,k){if(E+1<i.length){var G=I+" "+i[E+1][0];return xf(G,t,k).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,h,m=xf("3",t,s).height,y=t.multiline?o-s:(o-m)/2,p=y+=2,N=0,v=0,x=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+xf(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var A="",C=0,L=0;L<i.length;L++)if(i.hasOwnProperty(L)){var B=!1;if(i[L].length!==1&&x!==i[L].length-1){if((m+2)*(C+2)+2>o)continue e;A+=i[L][x],B=!0,v=L,L--}else{A=(A+=i[L][x]+" ").substr(A.length-1)==" "?A.substr(0,A.length-1):A;var J=parseInt(L),re=c(J,A,s),V=L>=i.length-1;if(re&&!V){A+=" ",x=0;continue}if(re||V){if(V)v=J;else if(t.multiline&&(m+2)*(C+2)+2>o)continue e}else{if(!t.multiline||(m+2)*(C+2)+2>o)continue e;v=J}}for(var j="",P=N;P<=v;P++){var O=i[P];if(t.multiline){if(P===v){j+=O[x]+" ",x=(x+1)%O.length;continue}if(P===N){j+=O[O.length-1]+" ";continue}}j+=O[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,h=xf(j,t,s).width,t.textAlign){case"right":u=a-h-2;break;case"center":u=(a-h)/2;break;default:u=2}e+=Pt(u)+" "+Pt(p)+` Td
`,e+="("+cc(j)+`) Tj
`,e+=-Pt(u)+` 0 Td
`,p=-(s+2),h=0,N=B?v:v+1,C++,A=""}break}return r.text=e,r.fontSize=s,r},xf=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},rq={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},iq=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},sq=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(bs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(rq)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");X2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new a3,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&iq(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],c=[],u=a.Rect;if(a.Rect&&(a.Rect=tq(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Je.createDefaultAppearanceStream(a),xn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(c=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=nq(a);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var m="";for(var y in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(y)){var p=a.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var N=p[o];typeof N=="function"&&(N=N.call(i,a)),m+="/"+o+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=p)=="function"&&(N=N.call(i,a)),m+="/"+o+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:a.objId}),i.internal.out("endobj")}s&&function(v,x){for(var A in v)if(v.hasOwnProperty(A)){var C=A,L=v[A];x.internal.newObjectDeferredBegin(L.objId,!0),xn(L)==="object"&&typeof L.putStream=="function"&&L.putStream(),delete v[C]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},s3=Yn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),xn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+cc(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Mg=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+cc(r(t))+")"},Ws=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ws.prototype.toString=function(){return this.objId+" 0 R"},Ws.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ws.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:s3(i,this.objId,this.scope)}):i instanceof Ws?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var o3=function(){Ws.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};pi(o3,Ws);var a3=function(){Ws.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+cc(n(t))+")"}},set:function(n){t=n}})};pi(a3,Ws);var bs=function t(){Ws.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');e=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!nr(e,3)},set:function(A){A?this.F=rr(e,3):this.F=ir(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');n=A}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(A){r=A!==void 0?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(A){r[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(A){r[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(A){r[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(A){r[3]=A}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Pp)return;s="FieldObject"+t.FieldNum++}var A=function(C){return C};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+cc(A(s))+")"},set:function(A){s=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(A){s=A}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(A){o=A}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(A){a=A}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(A){c=A}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/X2:u},set:function(A){u=A}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(A){h=A}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Pp||this instanceof Ml))return Mg(m,this.objId,this.scope)},set:function(A){A=A.toString(),m=A}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof xr==0?Mg(y,this.objId,this.scope):y},set:function(A){A=A.toString(),y=this instanceof xr==0?A.substr(0,1)==="("?Tc(A.substr(1,A.length-2)):Tc(A):A}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xr==1?Tc(y.substr(1,y.length-1)):y},set:function(A){A=A.toString(),y=this instanceof xr==1?"/"+A:A}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof xr==0?Mg(p,this.objId,this.scope):p},set:function(A){A=A.toString(),p=this instanceof xr==0?A.substr(0,1)==="("?Tc(A.substr(1,A.length-2)):Tc(A):A}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xr==1?Tc(p.substr(1,p.length-1)):p},set:function(A){A=A.toString(),p=this instanceof xr==1?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(A){A=!!A,v=A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(A){N=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,1)},set:function(A){A?this.Ff=rr(this.Ff,1):this.Ff=ir(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,2)},set:function(A){A?this.Ff=rr(this.Ff,2):this.Ff=ir(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,3)},set:function(A){A?this.Ff=rr(this.Ff,3):this.Ff=ir(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(A){if([0,1,2].indexOf(A)===-1)throw new Error('Invalid value "'+A+'" for attribute Q supplied.');x=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(x){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};pi(bs,Ws);var Hc=function(){bs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return s3(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var c,u=[];c=o.exec(s);)u.push(c[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,18)},set:function(n){n?this.Ff=rr(this.Ff,18):this.Ff=ir(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=rr(this.Ff,19):this.Ff=ir(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,20)},set:function(n){n?(this.Ff=rr(this.Ff,20),e.sort()):this.Ff=ir(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,22)},set:function(n){n?this.Ff=rr(this.Ff,22):this.Ff=ir(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,23)},set:function(n){n?this.Ff=rr(this.Ff,23):this.Ff=ir(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,27)},set:function(n){n?this.Ff=rr(this.Ff,27):this.Ff=ir(this.Ff,27)}}),this.hasAppearanceStream=!1};pi(Hc,bs);var Wc=function(){Hc.call(this),this.fontName="helvetica",this.combo=!1};pi(Wc,Hc);var Gc=function(){Wc.call(this),this.combo=!0};pi(Gc,Wc);var zf=function(){Gc.call(this),this.edit=!0};pi(zf,Gc);var xr=function(){bs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,15)},set:function(n){n?this.Ff=rr(this.Ff,15):this.Ff=ir(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,16)},set:function(n){n?this.Ff=rr(this.Ff,16):this.Ff=ir(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,17)},set:function(n){n?this.Ff=rr(this.Ff,17):this.Ff=ir(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,26)},set:function(n){n?this.Ff=rr(this.Ff,26):this.Ff=ir(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+cc(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){xn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};pi(xr,bs);var qf=function(){xr.call(this),this.pushButton=!0};pi(qf,xr);var Kc=function(){xr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};pi(Kc,xr);var Pp=function(){var t,e;bs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+cc(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){xn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Je.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};pi(Pp,bs),Kc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Kc.prototype.createOption=function(t){var e=new Pp;return e.Parent=this,e.optionName=t,this.Kids.push(e),oq.call(this.scope,e),e};var $f=function(){xr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Je.CheckBox.createAppearanceStream()};pi($f,xr);var Ml=function(){bs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,13)},set:function(e){e?this.Ff=rr(this.Ff,13):this.Ff=ir(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,21)},set:function(e){e?this.Ff=rr(this.Ff,21):this.Ff=ir(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,23)},set:function(e){e?this.Ff=rr(this.Ff,23):this.Ff=ir(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,24)},set:function(e){e?this.Ff=rr(this.Ff,24):this.Ff=ir(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,25)},set:function(e){e?this.Ff=rr(this.Ff,25):this.Ff=ir(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,26)},set:function(e){e?this.Ff=rr(this.Ff,26):this.Ff=ir(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};pi(Ml,bs);var Hf=function(){Ml.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,14)},set:function(t){t?this.Ff=rr(this.Ff,14):this.Ff=ir(this.Ff,14)}}),this.password=!0};pi(Hf,Ml);var Je={CheckBox:{createAppearanceStream:function(){return{N:{On:Je.CheckBox.YesNormal},D:{On:Je.CheckBox.YesPushDown,Off:Je.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ms(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=i1(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Pt(Je.internal.getWidth(t))+" "+Pt(Je.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Pt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Ms(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Je.internal.getHeight(t),o=Je.internal.getWidth(t),a=i1(t,t.caption);return i.push("1 g"),i.push("0 0 "+Pt(o)+" "+Pt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Pt(o-1)+" "+Pt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Pt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ms(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Pt(Je.internal.getWidth(t))+" "+Pt(Je.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Je.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Je.RadioButton.Circle.YesNormal,e.D[t]=Je.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ms(t);e.scope=t.scope;var n=[],r=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Je.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ya(Je.internal.getWidth(t)/2)+" "+ya(Je.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ms(t);e.scope=t.scope;var n=[],r=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Je.internal.Bezier_C).toFixed(5)),o=Number((r*Je.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ya(Je.internal.getWidth(t)/2)+" "+ya(Je.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ya(Je.internal.getWidth(t)/2)+" "+ya(Je.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ms(t);e.scope=t.scope;var n=[],r=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Je.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ya(Je.internal.getWidth(t)/2)+" "+ya(Je.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Je.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Je.RadioButton.Cross.YesNormal,e.D[t]=Je.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ms(t);e.scope=t.scope;var n=[],r=Je.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Pt(Je.internal.getWidth(t)-2)+" "+Pt(Je.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Pt(r.x1.x)+" "+Pt(r.x1.y)+" m"),n.push(Pt(r.x2.x)+" "+Pt(r.x2.y)+" l"),n.push(Pt(r.x4.x)+" "+Pt(r.x4.y)+" m"),n.push(Pt(r.x3.x)+" "+Pt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ms(t);e.scope=t.scope;var n=Je.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Pt(Je.internal.getWidth(t))+" "+Pt(Je.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Pt(Je.internal.getWidth(t)-2)+" "+Pt(Je.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Pt(n.x1.x)+" "+Pt(n.x1.y)+" m"),r.push(Pt(n.x2.x)+" "+Pt(n.x2.y)+" l"),r.push(Pt(n.x4.x)+" "+Pt(n.x4.y)+" m"),r.push(Pt(n.x3.x)+" "+Pt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ms(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Pt(Je.internal.getWidth(t))+" "+Pt(Je.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Je.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Je.internal.getWidth(t),n=Je.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Je.internal.getWidth=function(t){var e=0;return xn(t)==="object"&&(e=Nw(t.Rect[2])),e},Je.internal.getHeight=function(t){var e=0;return xn(t)==="object"&&(e=Nw(t.Rect[3])),e};var oq=Yn.addField=function(t){if(sq(this,t),!(t instanceof bs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Yn.AcroFormChoiceField=Hc,Yn.AcroFormListBox=Wc,Yn.AcroFormComboBox=Gc,Yn.AcroFormEditBox=zf,Yn.AcroFormButton=xr,Yn.AcroFormPushButton=qf,Yn.AcroFormRadioButton=Kc,Yn.AcroFormCheckBox=$f,Yn.AcroFormTextField=Ml,Yn.AcroFormPasswordField=Hf,Yn.AcroFormAppearance=Je,Yn.AcroForm={ChoiceField:Hc,ListBox:Wc,ComboBox:Gc,EditBox:zf,Button:xr,PushButton:qf,RadioButton:Kc,CheckBox:$f,TextField:Ml,PasswordField:Hf,Appearance:Je},lt.AcroForm={ChoiceField:Hc,ListBox:Wc,ComboBox:Gc,EditBox:zf,Button:xr,PushButton:qf,RadioButton:Kc,CheckBox:$f,TextField:Ml,PasswordField:Hf,Appearance:Je};function l3(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(E,I){var k,G,ce,ue,fe,ie=n;if((I=I||n)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(re(E))for(fe in r)for(ce=r[fe],k=0;k<ce.length;k+=1){for(ue=!0,G=0;G<ce[k].length;G+=1)if(ce[k][G]!==void 0&&ce[k][G]!==E[G]){ue=!1;break}if(ue===!0){ie=fe;break}}else for(fe in r)for(ce=r[fe],k=0;k<ce.length;k+=1){for(ue=!0,G=0;G<ce[k].length;G+=1)if(ce[k][G]!==void 0&&ce[k][G]!==E.charCodeAt(G)){ue=!1;break}if(ue===!0){ie=fe;break}}return ie===n&&I!==n&&(ie=I),ie},s=function E(I){for(var k=this.internal.write,G=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:I.width}),ue.push({key:"Height",value:I.height}),I.colorSpace===A.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===A.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var fe="",ie=0,ae=I.transparency.length;ie<ae;ie++)fe+=I.transparency[ie]+" "+I.transparency[ie]+" ";ue.push({key:"Mask",value:"["+fe+"]"})}I.sMask!==void 0&&ue.push({key:"SMask",value:I.objectId+1+" 0 R"});var Se=I.filter!==void 0?["/"+I.filter]:void 0;if(G({data:I.data,additionalKeyValues:ue,alreadyAppliedFilters:Se,objectId:I.objectId}),k("endobj"),"sMask"in I&&I.sMask!==void 0){var _e,z=(_e=I.sMaskBitsPerComponent)!==null&&_e!==void 0?_e:I.bitsPerComponent,Y={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:z,data:I.sMask};"filter"in I&&(Y.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(z," /Columns ").concat(I.width),Y.filter=I.filter),E.call(this,Y)}if(I.colorSpace===A.INDEXED){var X=this.internal.newObject();G({data:j(new Uint8Array(I.palette)),objectId:X}),k("endobj")}},o=function(){var E=this.internal.collections[e+"images"];for(var I in E)s.call(this,E[I])},a=function(){var E,I=this.internal.collections[e+"images"],k=this.internal.write;for(var G in I)k("/I"+(E=I[G]).index,E.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var E=this.internal.collections[e+"images"];return c.call(this),E},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(E){return typeof t["process"+E.toUpperCase()]=="function"},y=function(E){return xn(E)==="object"&&E.nodeType===1},p=function(E,I){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var k=""+E.getAttribute("src");if(k.indexOf("data:image/")===0)return Uf(unescape(k).split("base64,").pop());var G=t.loadFile(k,!0);if(G!==void 0)return G}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var ce;switch(I){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;default:ce="image/jpeg"}return Uf(E.toDataURL(ce,1).split("base64,").pop())}},N=function(E){var I=this.internal.collections[e+"images"];if(I){for(var k in I)if(E===I[k].alias)return I[k]}},v=function(E,I,k){return E||I||(E=-96,I=-96),E<0&&(E=-1*k.width*72/E/this.internal.scaleFactor),I<0&&(I=-1*k.height*72/I/this.internal.scaleFactor),E===0&&(E=I*k.width/k.height),I===0&&(I=E*k.height/k.width),[E,I]},x=function(E,I,k,G,ce,ue){var fe=v.call(this,k,G,ce),ie=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,Se=u.call(this);if(k=fe[0],G=fe[1],Se[ce.index]=ce,ue){ue*=Math.PI/180;var _e=Math.cos(ue),z=Math.sin(ue),Y=function(M){return M.toFixed(4)},X=[Y(_e),Y(z),Y(-1*z),Y(_e),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,ie(E),ae(I+G),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([ie(k),"0","0",ie(G),"0","0","cm"].join(" "))):this.internal.write([ie(k),"0","0",ie(G),ie(E),ae(I+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},A=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},L=t.__addimage__.sHashCode=function(E){var I,k,G=0;if(typeof E=="string")for(k=E.length,I=0;I<k;I++)G=(G<<5)-G+E.charCodeAt(I),G|=0;else if(re(E))for(k=E.byteLength/2,I=0;I<k;I++)G=(G<<5)-G+E[I],G|=0;return G},B=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var I=!0;return E.length===0&&(I=!1),E.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(I=!1),I},J=t.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var I=E.indexOf(",");return I<0?null:E.substring(0,I).trim().endsWith("base64")?E.substring(I+1):null};t.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var re=t.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},V=t.__addimage__.binaryStringToUint8Array=function(E){for(var I=E.length,k=new Uint8Array(I),G=0;G<I;G++)k[G]=E.charCodeAt(G);return k},j=t.__addimage__.arrayBufferToBinaryString=function(E){for(var I="",k=re(E)?E:new Uint8Array(E),G=0;G<k.length;G+=8192)I+=String.fromCharCode.apply(null,k.subarray(G,G+8192));return I};t.addImage=function(){var E,I,k,G,ce,ue,fe,ie,ae;if(typeof arguments[1]=="number"?(I=n,k=arguments[1],G=arguments[2],ce=arguments[3],ue=arguments[4],fe=arguments[5],ie=arguments[6],ae=arguments[7]):(I=arguments[1],k=arguments[2],G=arguments[3],ce=arguments[4],ue=arguments[5],fe=arguments[6],ie=arguments[7],ae=arguments[8]),xn(E=arguments[0])==="object"&&!y(E)&&"imageData"in E){var Se=E;E=Se.imageData,I=Se.format||I||n,k=Se.x||k||0,G=Se.y||G||0,ce=Se.w||Se.width||ce,ue=Se.h||Se.height||ue,fe=Se.alias||fe,ie=Se.compression||ie,ae=Se.rotation||Se.angle||ae}var _e=this.internal.getFilters();if(ie===void 0&&_e.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(k)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var z=P.call(this,E,I,fe,ie);return x.call(this,k,G,ce,ue,z,ae),this};var P=function(E,I,k,G){var ce,ue,fe;if(typeof E=="string"&&i(E)===n){E=unescape(E);var ie=O(E,!1);(ie!==""||(ie=t.loadFile(E,!0))!==void 0)&&(E=ie)}if(y(E)&&(E=p(E,I)),I=i(E,I),!m(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((fe=k)==null||fe.length===0)&&(k=function(ae){return typeof ae=="string"||re(ae)?L(ae):re(ae.data)?L(ae.data):null}(E)),(ce=N.call(this,k))||(E instanceof Uint8Array||I==="RGBA"||(ue=E,E=V(E)),ce=this["process"+I.toUpperCase()](E,h.call(this),k,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in t.image_compression?ae:C.NONE}(G),ue)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},O=t.__addimage__.convertBase64ToBinaryString=function(E,I){I=typeof I!="boolean"||I;var k,G="";if(typeof E=="string"){var ce;k=(ce=J(E))!==null&&ce!==void 0?ce:E;try{G=Uf(k)}catch(ue){if(I)throw B(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};t.getImageProperties=function(E){var I,k,G="";if(y(E)&&(E=p(E)),typeof E=="string"&&i(E)===n&&((G=O(E,!1))===""&&(G=t.loadFile(E)||""),E=G),k=i(E),!m(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(E instanceof Uint8Array||(E=V(E)),!(I=this["process"+k.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=k,I}})(lt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};lt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,h=!1,m=0;m<u.length&&!h;m++)switch((r=u[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var y=0;y<u.length;y++){r=u[y];var p=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(v.objId),C=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(A(r.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(A(C))+") >>",v.content=s;var L=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+L,r.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(v.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var B=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(N(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var J=this.annotations._nameMap[r.options.name];r.options.pageNumber=J.page,r.options.top=J.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var re=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+re+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var h=this.splitTextToSize(n,a).length;o=Math.ceil(u*h)}else a=c,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-u,a,o,s),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(lt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},a=t.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(v){var x=0,A=n,C="",L=0;for(x=0;x<v.length;x+=1)A[v.charCodeAt(x)]!==void 0?(L++,typeof(A=A[v.charCodeAt(x)])=="number"&&(C+=String.fromCharCode(A),A=n,L=0),x===v.length-1&&(A=n,C+=v.charAt(x-(L-1)),x-=L-1,L=0)):(A=n,C+=v.charAt(x-L),x-=L,L=0);return C};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(v,x,A){return o(v)?s(v)===!1?-1:!u(v)||!o(x)&&!o(A)||!o(A)&&a(x)||a(v)&&!o(x)||a(v)&&c(x)||a(v)&&a(x)?0:h(v)&&o(x)&&!a(x)&&o(A)&&u(A)?3:a(v)||!o(A)?1:2:-1},p=function(v){var x=0,A=0,C=0,L="",B="",J="",re=(v=v||"").split("\\s+"),V=[];for(x=0;x<re.length;x+=1){for(V.push(""),A=0;A<re[x].length;A+=1)L=re[x][A],B=re[x][A-1],J=re[x][A+1],o(L)?(C=y(L,B,J),V[x]+=C!==-1?String.fromCharCode(e[L.charCodeAt(0)][C]):L):V[x]+=L;V[x]=m(V[x])}return V.join(" ")},N=t.__arabicParser__.processArabic=t.processArabic=function(){var v,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,A=[];if(Array.isArray(x)){var C=0;for(A=[],C=0;C<x.length;C+=1)Array.isArray(x[C])?A.push([p(x[C][0]),x[C][1],x[C][2]]):A.push([p(x[C])]);v=A}else v=p(x);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",N])}(lt.API),lt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(lt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(v){y=v}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(v){N=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){r.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),y=u.scaleFactor||this.internal.scaleFactor,p=0,N=0,v=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var A=u.maxWidth;A>0?typeof c=="string"?c=this.splitTextToSize(c,A):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(L,B){return L.concat(x.splitTextToSize(B,A))},[])):c=Array.isArray(c)?c:[c];for(var C=0;C<c.length;C++)p<(v=this.getStringUnitWidth(c[C],{font:m})*h)&&(p=v);return p!==0&&(N=c.length),{w:p/=y,h:Math.max((N*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,p&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,h,m,y){if(r.call(this),!h)throw new Error("No data for PDF table.");var p,N,v,x,A=[],C=[],L=[],B={},J={},re=[],V=[],j=(y=y||{}).autoSize||!1,P=y.printHeaders!==!1,O=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,E=y.margins||Object.assign({width:this.getPageWidth()},e),I=typeof y.padding=="number"?y.padding:3,k=y.headerBackgroundColor||"#c8c8c8",G=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=G,this.setFontSize(O),m==null)C=A=Object.keys(h[0]),L=A.map(function(){return"left"});else if(Array.isArray(m)&&xn(m[0])==="object")for(A=m.map(function(Se){return Se.name}),C=m.map(function(Se){return Se.prompt||Se.name||""}),L=m.map(function(Se){return Se.align||"left"}),p=0;p<m.length;p+=1)J[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(C=A=m,L=A.map(function(){return"left"}));if(j||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<A.length;p+=1){for(B[x=A[p]]=h.map(function(Se){return Se[x]}),this.setFont(void 0,"bold"),re.push(this.getTextDimensions(C[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=B[x],this.setFont(void 0,"normal"),v=0;v<N.length;v+=1)re.push(this.getTextDimensions(N[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);J[x]=Math.max.apply(null,re)+I+I,re=[]}if(P){var ce={};for(p=0;p<A.length;p+=1)ce[A[p]]={},ce[A[p]].text=C[p],ce[A[p]].align=L[p];var ue=a.call(this,ce,J);V=A.map(function(Se){return new s(c,u,J[Se],ue,ce[Se].text,void 0,ce[Se].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var fe=m.reduce(function(Se,_e){return Se[_e.name]=_e.align,Se},{});for(p=0;p<h.length;p+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:p,data:h[p]},this);var ie=a.call(this,h[p],J);for(v=0;v<A.length;v+=1){var ae=h[p][A[v]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:p,col:v,data:ae},this),o.call(this,new s(c,u,J[A[v]],ie,ae,p+2,fe[A[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var a=function(c,u){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(p){var N=c[p];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,u[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/y+h+h},this).reduce(function(p,N){return Math.max(p,N)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,y.push(h)),h.lineNumber=c;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(N)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}}(lt.API);var c3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},u3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],s1=l3(u3),h3=[100,200,300,400,500,600,700,800,900],aq=l3(h3);function Fg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return c3[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof s1[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Aw(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var lq={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ew={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Sw(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Tw(t){return t.trimLeft()}function cq(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function uq(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var wf,Cw,Iw,Cc,_f,Pw,kw,Rw,Vg=["times"];function jw(t,e,n,r,i){var s=4,o=Ow;switch(i){case lt.API.image_compression.FAST:s=1,o=Lw;break;case lt.API.image_compression.MEDIUM:s=6,o=Dw;break;case lt.API.image_compression.SLOW:s=9,o=Mw}t=function(c,u,h,m){for(var y,p=c.length/u,N=new Uint8Array(c.length+p),v=[hq,Lw,Ow,Dw,Mw],x=0;x<p;x+=1){var A=x*u,C=c.subarray(A,A+u);if(m)N.set(m(C,h,y),A+x);else{for(var L=v.length,B=[],J=0;J<L;J+=1)B[J]=v[J](C,h,y);var re=fq(B.concat());N.set(B[re],A+x)}y=C}return N}(t,e,Math.ceil(n*r/8),o);var a=W0(t,{level:s});return lt.API.__addimage__.arrayBufferToBinaryString(a)}function hq(t){var e=Array.apply([],t);return e.unshift(0),e}function Lw(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function Ow(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=t[s]-o+256&255}return i}function Dw(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function Mw(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=dq(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function dq(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function fq(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Bg(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return d3(t,i)>>s&o}function Fw(t,e,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,c=(e&a)<<o;(function(u,h,m){if(h+1<u.byteLength)u.setUint16(h,m,!1);else{var y=m>>8&255;u.setUint8(h,y)}})(t,s,d3(t,s)&~(a<<o)&65535|c)}function d3(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function pq(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,c=null;s&&(a=e,c=o,e+=3*o);var u=!0,h=[],m=0,y=null,p=0,N=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,N=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];m=t[e++]|t[e++]<<8,y=t[e++],1&v||(y=null),p=v>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,B=t[e++],J=B>>6&1,re=1<<1+(7&B),V=a,j=c,P=!1;B>>7&&(P=!0,V=e,j=re,e+=3*re);var O=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}h.push({x,y:A,width:C,height:L,has_local_palette:P,palette_offset:V,palette_size:j,data_offset:O,data_length:e-O,transparent_index:y,interlaced:!!J,delay:m,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return N},this.frameInfo=function(I){if(I<0||I>=h.length)throw new Error("Frame index out of range.");return h[I]},this.decodeAndBlitFrameBGRA=function(I,k){var G=this.frameInfo(I),ce=G.width*G.height,ue=new Uint8Array(ce);Vw(t,G.data_offset,ue,ce);var fe=G.palette_offset,ie=G.transparent_index;ie===null&&(ie=256);var ae=G.width,Se=n-ae,_e=ae,z=4*(G.y*n+G.x),Y=4*((G.y+G.height)*n+G.x),X=z,M=4*Se;G.interlaced===!0&&(M+=4*n*7);for(var U=8,ne=0,oe=ue.length;ne<oe;++ne){var pe=ue[ne];if(_e===0&&(_e=ae,(X+=M)>=Y&&(M=4*Se+4*n*(U-1),X=z+(ae+Se)*(U<<1),U>>=1)),pe===ie)X+=4;else{var ye=t[fe+3*pe],Ne=t[fe+3*pe+1],Re=t[fe+3*pe+2];k[X++]=Re,k[X++]=Ne,k[X++]=ye,k[X++]=255}--_e}},this.decodeAndBlitFrameRGBA=function(I,k){var G=this.frameInfo(I),ce=G.width*G.height,ue=new Uint8Array(ce);Vw(t,G.data_offset,ue,ce);var fe=G.palette_offset,ie=G.transparent_index;ie===null&&(ie=256);var ae=G.width,Se=n-ae,_e=ae,z=4*(G.y*n+G.x),Y=4*((G.y+G.height)*n+G.x),X=z,M=4*Se;G.interlaced===!0&&(M+=4*n*7);for(var U=8,ne=0,oe=ue.length;ne<oe;++ne){var pe=ue[ne];if(_e===0&&(_e=ae,(X+=M)>=Y&&(M=4*Se+4*n*(U-1),X=z+(ae+Se)*(U<<1),U>>=1)),pe===ie)X+=4;else{var ye=t[fe+3*pe],Ne=t[fe+3*pe+1],Re=t[fe+3*pe+2];k[X++]=ye,k[X++]=Ne,k[X++]=Re,k[X++]=255}--_e}}}function Vw(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,c=i+1,u=(1<<c)-1,h=0,m=0,y=0,p=t[e++],N=new Int32Array(4096),v=null;;){for(;h<16&&p!==0;)m|=t[e++]<<h,h+=8,p===1?p=t[e++]:--p;if(h<c)break;var x=m&u;if(m>>=c,h-=c,x!==s){if(x===o)break;for(var A=x<a?x:v,C=0,L=A;L>s;)L=N[L]>>8,++C;var B=L;if(y+C+(A!==x?1:0)>r)return void Tn.log("Warning, gif stream longer than expected.");n[y++]=B;var J=y+=C;for(A!==x&&(n[y++]=B),L=A;C--;)L=N[L],n[--J]=255&L,L>>=8;v!==null&&a<4096&&(N[a++]=v<<8|B,a>=u+1&&c<12&&(++c,u=u<<1|1)),v=x}else a=o+1,u=(1<<(c=i+1))-1,v=null}return y!==r&&Tn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ug(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),c=new Array(64),u=new Array(64),h=new Array(64),m=new Array(65535),y=new Array(65535),p=new Array(64),N=new Array(64),v=[],x=0,A=7,C=new Array(64),L=new Array(64),B=new Array(64),J=new Array(256),re=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(z,Y){for(var X=0,M=0,U=new Array,ne=1;ne<=16;ne++){for(var oe=1;oe<=z[ne];oe++)U[Y[M]]=[],U[Y[M]][0]=X,U[Y[M]][1]=ne,M++,X++;X*=2}return U}function fe(z){for(var Y=z[0],X=z[1]-1;X>=0;)Y&1<<X&&(x|=1<<A),X--,--A<0&&(x==255?(ie(255),ie(0)):ie(x),A=7,x=0)}function ie(z){v.push(z)}function ae(z){ie(z>>8&255),ie(255&z)}function Se(z,Y,X,M,U){for(var ne,oe=U[0],pe=U[240],ye=function(Ie,qe){var Ue,_t,Ge,Xt,pt,nt,qt,wt,rt,dt,tt=0;for(rt=0;rt<8;++rt){Ue=Ie[tt],_t=Ie[tt+1],Ge=Ie[tt+2],Xt=Ie[tt+3],pt=Ie[tt+4],nt=Ie[tt+5],qt=Ie[tt+6];var an=Ue+(wt=Ie[tt+7]),Vt=Ue-wt,$e=_t+qt,gt=_t-qt,Ot=Ge+nt,ut=Ge-nt,Dt=Xt+pt,vt=Xt-pt,hn=an+Dt,Fn=an-Dt,Nt=$e+Ot,ot=$e-Ot;Ie[tt]=hn+Nt,Ie[tt+4]=hn-Nt;var $t=.707106781*(ot+Fn);Ie[tt+2]=Fn+$t,Ie[tt+6]=Fn-$t;var at=.382683433*((hn=vt+ut)-(ot=gt+Vt)),At=.5411961*hn+at,Wt=1.306562965*ot+at,mn=.707106781*(Nt=ut+gt),Ye=Vt+mn,or=Vt-mn;Ie[tt+5]=or+At,Ie[tt+3]=or-At,Ie[tt+1]=Ye+Wt,Ie[tt+7]=Ye-Wt,tt+=8}for(tt=0,rt=0;rt<8;++rt){Ue=Ie[tt],_t=Ie[tt+8],Ge=Ie[tt+16],Xt=Ie[tt+24],pt=Ie[tt+32],nt=Ie[tt+40],qt=Ie[tt+48];var $n=Ue+(wt=Ie[tt+56]),wn=Ue-wt,Vn=_t+qt,Cn=_t-qt,Bn=Ge+nt,ur=Ge-nt,Pr=Xt+pt,Zi=Xt-pt,ni=$n+Pr,ri=$n-Pr,Hr=Vn+Bn,ii=Vn-Bn;Ie[tt]=ni+Hr,Ie[tt+32]=ni-Hr;var si=.707106781*(ii+ri);Ie[tt+16]=ri+si,Ie[tt+48]=ri-si;var ws=.382683433*((ni=Zi+ur)-(ii=Cn+wn)),Oi=.5411961*ni+ws,Di=1.306562965*ii+ws,oo=.707106781*(Hr=ur+Cn),_s=wn+oo,Mi=wn-oo;Ie[tt+40]=Mi+Oi,Ie[tt+24]=Mi-Oi,Ie[tt+8]=_s+Di,Ie[tt+56]=_s-Di,tt++}for(rt=0;rt<64;++rt)dt=Ie[rt]*qe[rt],p[rt]=dt>0?dt+.5|0:dt-.5|0;return p}(z,Y),Ne=0;Ne<64;++Ne)N[V[Ne]]=ye[Ne];var Re=N[0]-X;X=N[0],Re==0?fe(M[0]):(fe(M[y[ne=32767+Re]]),fe(m[ne]));for(var Fe=63;Fe>0&&N[Fe]==0;)Fe--;if(Fe==0)return fe(oe),X;for(var we,te=1;te<=Fe;){for(var yt=te;N[te]==0&&te<=Fe;)++te;var ht=te-yt;if(ht>=16){we=ht>>4;for(var Qe=1;Qe<=we;++Qe)fe(pe);ht&=15}ne=32767+N[te],fe(U[(ht<<4)+y[ne]]),fe(m[ne]),te++}return Fe!=63&&fe(oe),X}function _e(z){z=Math.min(Math.max(z,1),100),s!=z&&(function(Y){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],M=0;M<64;M++){var U=o((X[M]*Y+50)/100);U=Math.min(Math.max(U,1),255),a[V[M]]=U}for(var ne=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var pe=o((ne[oe]*Y+50)/100);pe=Math.min(Math.max(pe,1),255),c[V[oe]]=pe}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,Re=0;Re<8;Re++)for(var Fe=0;Fe<8;Fe++)u[Ne]=1/(a[V[Ne]]*ye[Re]*ye[Fe]*8),h[Ne]=1/(c[V[Ne]]*ye[Re]*ye[Fe]*8),Ne++}(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),s=z)}this.encode=function(z,Y){Y&&_e(Y),v=new Array,x=0,A=7,ae(65496),ae(65504),ae(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),ae(1),ae(1),ie(0),ie(0),function(){ae(65499),ae(132),ie(0);for(var _t=0;_t<64;_t++)ie(a[_t]);ie(1);for(var Ge=0;Ge<64;Ge++)ie(c[Ge])}(),function(_t,Ge){ae(65472),ae(17),ie(8),ae(Ge),ae(_t),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(z.width,z.height),function(){ae(65476),ae(418),ie(0);for(var _t=0;_t<16;_t++)ie(j[_t+1]);for(var Ge=0;Ge<=11;Ge++)ie(P[Ge]);ie(16);for(var Xt=0;Xt<16;Xt++)ie(O[Xt+1]);for(var pt=0;pt<=161;pt++)ie(E[pt]);ie(1);for(var nt=0;nt<16;nt++)ie(I[nt+1]);for(var qt=0;qt<=11;qt++)ie(k[qt]);ie(17);for(var wt=0;wt<16;wt++)ie(G[wt+1]);for(var rt=0;rt<=161;rt++)ie(ce[rt])}(),ae(65498),ae(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var X=0,M=0,U=0;x=0,A=7,this.encode.displayName="_encode_";for(var ne,oe,pe,ye,Ne,Re,Fe,we,te,yt=z.data,ht=z.width,Qe=z.height,Ie=4*ht,qe=0;qe<Qe;){for(ne=0;ne<Ie;){for(Ne=Ie*qe+ne,Fe=-1,we=0,te=0;te<64;te++)Re=Ne+(we=te>>3)*Ie+(Fe=4*(7&te)),qe+we>=Qe&&(Re-=Ie*(qe+1+we-Qe)),ne+Fe>=Ie&&(Re-=ne+Fe-Ie+4),oe=yt[Re++],pe=yt[Re++],ye=yt[Re++],C[te]=(re[oe]+re[pe+256|0]+re[ye+512|0]>>16)-128,L[te]=(re[oe+768|0]+re[pe+1024|0]+re[ye+1280|0]>>16)-128,B[te]=(re[oe+1280|0]+re[pe+1536|0]+re[ye+1792|0]>>16)-128;X=Se(C,u,X,e,r),M=Se(L,h,M,n,i),U=Se(B,h,U,n,i),ne+=32}qe+=8}if(A>=0){var Ue=[];Ue[1]=A+1,Ue[0]=(1<<A+1)-1,fe(Ue)}return ae(65497),new Uint8Array(v)},t=t||50,function(){for(var z=String.fromCharCode,Y=0;Y<256;Y++)J[Y]=z(Y)}(),e=ue(j,P),n=ue(I,k),r=ue(O,E),i=ue(G,ce),function(){for(var z=1,Y=2,X=1;X<=15;X++){for(var M=z;M<Y;M++)y[32767+M]=X,m[32767+M]=[],m[32767+M][1]=X,m[32767+M][0]=M;for(var U=-(Y-1);U<=-z;U++)y[32767+U]=X,m[32767+U]=[],m[32767+U][1]=X,m[32767+U][0]=Y-1+U;z<<=1,Y<<=1}}(),function(){for(var z=0;z<256;z++)re[z]=19595*z,re[z+256|0]=38470*z,re[z+512|0]=7471*z+32768,re[z+768|0]=-11059*z,re[z+1024|0]=-21709*z,re[z+1280|0]=32768*z+8421375,re[z+1536|0]=-27439*z,re[z+1792|0]=-5329*z}(),_e(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function os(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Bw(t){function e(P){if(!P)throw Error("assert :P")}function n(P,O,E){for(var I=0;4>I;I++)if(P[O+I]!=E.charCodeAt(I))return!0;return!1}function r(P,O,E,I,k){for(var G=0;G<k;G++)P[O+G]=E[I+G]}function i(P,O,E,I){for(var k=0;k<I;k++)P[O+k]=E}function s(P){return new Int32Array(P)}function o(P,O){for(var E=[],I=0;I<P;I++)E.push(new O);return E}function a(P,O){var E=[];return function I(k,G,ce){for(var ue=ce[G],fe=0;fe<ue&&(k.push(ce.length>G+1?[]:new O),!(ce.length<G+1));fe++)I(k[fe],G+1,ce)}(E,0,P),E}var c=function(){var P=this;function O(d,g){for(var w=1<<g-1>>>0;d&w;)w>>>=1;return w?(d&w-1)+w:d}function E(d,g,w,T,F){e(!(T%w));do d[g+(T-=w)]=F;while(0<T)}function I(d,g,w,T,F){if(e(2328>=F),512>=F)var q=s(512);else if((q=s(F))==null)return 0;return function($,H,K,Z,le,be){var ee,he,ge=H,Ae=1<<K,ve=s(16),Te=s(16);for(e(le!=0),e(Z!=null),e($!=null),e(0<K),he=0;he<le;++he){if(15<Z[he])return 0;++ve[Z[he]]}if(ve[0]==le)return 0;for(Te[1]=0,ee=1;15>ee;++ee){if(ve[ee]>1<<ee)return 0;Te[ee+1]=Te[ee]+ve[ee]}for(he=0;he<le;++he)ee=Z[he],0<Z[he]&&(be[Te[ee]++]=he);if(Te[15]==1)return(Z=new k).g=0,Z.value=be[0],E($,ge,1,Ae,Z),Ae;var Ce,De=-1,Le=Ae-1,st=0,Ke=1,Bt=1,Ze=1<<K;for(he=0,ee=1,le=2;ee<=K;++ee,le<<=1){if(Ke+=Bt<<=1,0>(Bt-=ve[ee]))return 0;for(;0<ve[ee];--ve[ee])(Z=new k).g=ee,Z.value=be[he++],E($,ge+st,le,Ze,Z),st=O(st,ee)}for(ee=K+1,le=2;15>=ee;++ee,le<<=1){if(Ke+=Bt<<=1,0>(Bt-=ve[ee]))return 0;for(;0<ve[ee];--ve[ee]){if(Z=new k,(st&Le)!=De){for(ge+=Ze,Ce=1<<(De=ee)-K;15>De&&!(0>=(Ce-=ve[De]));)++De,Ce<<=1;Ae+=Ze=1<<(Ce=De-K),$[H+(De=st&Le)].g=Ce+K,$[H+De].value=ge-H-De}Z.g=ee-K,Z.value=be[he++],E($,ge+(st>>K),le,Ze,Z),st=O(st,ee)}}return Ke!=2*Te[15]-1?0:Ae}(d,g,w,T,F,q)}function k(){this.value=this.g=0}function G(){this.value=this.g=0}function ce(){this.G=o(5,k),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(yl,G)}function ue(d,g,w,T){e(d!=null),e(g!=null),e(2147483648>T),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=g,d.pa=w,d.Jd=g,d.Yc=w+T,d.Zc=4<=T?w+T-4+1:w,oe(d)}function fe(d,g){for(var w=0;0<g--;)w|=ye(d,128)<<g;return w}function ie(d,g){var w=fe(d,g);return pe(d)?-w:w}function ae(d,g,w,T){var F,q=0;for(e(d!=null),e(g!=null),e(4294967288>T),d.Sb=T,d.Ra=0,d.u=0,d.h=0,4<T&&(T=4),F=0;F<T;++F)q+=g[w+F]<<8*F;d.Ra=q,d.bb=T,d.oa=g,d.pa=w}function Se(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<ta-8>>>0,++d.bb,d.u-=8;M(d)&&(d.h=1,d.u=0)}function _e(d,g){if(e(0<=g),!d.h&&g<=bi){var w=X(d)&vi[g];return d.u+=g,Se(d),w}return d.h=1,d.u=0}function z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(d){return d.Ra>>>(d.u&ta-1)>>>0}function M(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>ta}function U(d,g){d.u=g,d.h=M(d)}function ne(d){d.u>=vo&&(e(d.u>=vo),Se(d))}function oe(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function pe(d){return fe(d,1)}function ye(d,g){var w=d.Ca;0>d.b&&oe(d);var T=d.b,F=w*g>>>8,q=(d.I>>>T>F)+0;for(q?(w-=F,d.I-=F+1<<T>>>0):w=F+1,T=w,F=0;256<=T;)F+=8,T>>=8;return T=7^F+na[T],d.b-=T,d.Ca=(w<<T)-1,q}function Ne(d,g,w){d[g+0]=w>>24&255,d[g+1]=w>>16&255,d[g+2]=w>>8&255,d[g+3]=255&w}function Re(d,g){return d[g+0]|d[g+1]<<8}function Fe(d,g){return Re(d,g)|d[g+2]<<16}function we(d,g){return Re(d,g)|Re(d,g+2)<<16}function te(d,g){var w=1<<g;return e(d!=null),e(0<g),d.X=s(w),d.X==null?0:(d.Mb=32-g,d.Xa=g,1)}function yt(d,g){e(d!=null),e(g!=null),e(d.Xa==g.Xa),r(g.X,0,d.X,0,1<<g.Xa)}function ht(){this.X=[],this.Xa=this.Mb=0}function Qe(d,g,w,T){e(w!=null),e(T!=null);var F=w[0],q=T[0];return F==0&&(F=(d*q+g/2)/g),q==0&&(q=(g*F+d/2)/d),0>=F||0>=q?0:(w[0]=F,T[0]=q,1)}function Ie(d,g){return d+(1<<g)-1>>>g}function qe(d,g){return((4278255360&d)+(4278255360&g)>>>0&4278255360)+((16711935&d)+(16711935&g)>>>0&16711935)>>>0}function Ue(d,g){P[g]=function(w,T,F,q,$,H,K){var Z;for(Z=0;Z<$;++Z){var le=P[d](H[K+Z-1],F,q+Z);H[K+Z]=qe(w[T+Z],le)}}}function _t(){this.ud=this.hd=this.jd=0}function Ge(d,g){return((4278124286&(d^g))>>>1)+(d&g)>>>0}function Xt(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function pt(d,g){return Xt(d+(d-g+.5>>1))}function nt(d,g,w){return Math.abs(g-w)-Math.abs(d-w)}function qt(d,g,w,T,F,q,$){for(T=q[$-1],w=0;w<F;++w)q[$+w]=T=qe(d[g+w],T)}function wt(d,g,w,T,F){var q;for(q=0;q<w;++q){var $=d[g+q],H=$>>8&255,K=16711935&(K=(K=16711935&$)+((H<<16)+H));T[F+q]=(4278255360&$)+K>>>0}}function rt(d,g){g.jd=255&d,g.hd=d>>8&255,g.ud=d>>16&255}function dt(d,g,w,T,F,q){var $;for($=0;$<T;++$){var H=g[w+$],K=H>>>8,Z=H,le=255&(le=(le=H>>>16)+((d.jd<<24>>24)*(K<<24>>24)>>>5));Z=255&(Z=(Z+=(d.hd<<24>>24)*(K<<24>>24)>>>5)+((d.ud<<24>>24)*(le<<24>>24)>>>5)),F[q+$]=(4278255360&H)+(le<<16)+Z}}function tt(d,g,w,T,F){P[g]=function(q,$,H,K,Z,le,be,ee,he){for(K=be;K<ee;++K)for(be=0;be<he;++be)Z[le++]=F(H[T(q[$++])])},P[d]=function(q,$,H,K,Z,le,be){var ee=8>>q.b,he=q.Ea,ge=q.K[0],Ae=q.w;if(8>ee)for(q=(1<<q.b)-1,Ae=(1<<ee)-1;$<H;++$){var ve,Te=0;for(ve=0;ve<he;++ve)ve&q||(Te=T(K[Z++])),le[be++]=F(ge[Te&Ae]),Te>>=ee}else P["VP8LMapColor"+w](K,Z,ge,Ae,le,be,$,H,he)}}function an(d,g,w,T,F){for(w=g+w;g<w;){var q=d[g++];T[F++]=q>>16&255,T[F++]=q>>8&255,T[F++]=255&q}}function Vt(d,g,w,T,F){for(w=g+w;g<w;){var q=d[g++];T[F++]=q>>16&255,T[F++]=q>>8&255,T[F++]=255&q,T[F++]=q>>24&255}}function $e(d,g,w,T,F){for(w=g+w;g<w;){var q=($=d[g++])>>16&240|$>>12&15,$=240&$|$>>28&15;T[F++]=q,T[F++]=$}}function gt(d,g,w,T,F){for(w=g+w;g<w;){var q=($=d[g++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;T[F++]=q,T[F++]=$}}function Ot(d,g,w,T,F){for(w=g+w;g<w;){var q=d[g++];T[F++]=255&q,T[F++]=q>>8&255,T[F++]=q>>16&255}}function ut(d,g,w,T,F,q){if(q==0)for(w=g+w;g<w;)Ne(T,((q=d[g++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),F+=32;else r(T,F,d,g,w)}function Dt(d,g){P[g][0]=P[d+"0"],P[g][1]=P[d+"1"],P[g][2]=P[d+"2"],P[g][3]=P[d+"3"],P[g][4]=P[d+"4"],P[g][5]=P[d+"5"],P[g][6]=P[d+"6"],P[g][7]=P[d+"7"],P[g][8]=P[d+"8"],P[g][9]=P[d+"9"],P[g][10]=P[d+"10"],P[g][11]=P[d+"11"],P[g][12]=P[d+"12"],P[g][13]=P[d+"13"],P[g][14]=P[d+"0"],P[g][15]=P[d+"0"]}function vt(d){return d==wm||d==_m||d==Md||d==Nm}function hn(){this.eb=[],this.size=this.A=this.fb=0}function Fn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Nt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new hn,this.f.kb=new Fn,this.sd=null}function ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function $t(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function at(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function At(d,g){var w=d.T,T=g.ba.f.RGBA,F=T.eb,q=T.fb+d.ka*T.A,$=Wi[g.ba.S],H=d.y,K=d.O,Z=d.f,le=d.N,be=d.ea,ee=d.W,he=g.cc,ge=g.dc,Ae=g.Mc,ve=g.Nc,Te=d.ka,Ce=d.ka+d.T,De=d.U,Le=De+1>>1;for(Te==0?$(H,K,null,null,Z,le,be,ee,Z,le,be,ee,F,q,null,null,De):($(g.ec,g.fc,H,K,he,ge,Ae,ve,Z,le,be,ee,F,q-T.A,F,q,De),++w);Te+2<Ce;Te+=2)he=Z,ge=le,Ae=be,ve=ee,le+=d.Rc,ee+=d.Rc,q+=2*T.A,$(H,(K+=2*d.fa)-d.fa,H,K,he,ge,Ae,ve,Z,le,be,ee,F,q-T.A,F,q,De);return K+=d.fa,d.j+Ce<d.o?(r(g.ec,g.fc,H,K,De),r(g.cc,g.dc,Z,le,Le),r(g.Mc,g.Nc,be,ee,Le),w--):1&Ce||$(H,K,null,null,Z,le,be,ee,Z,le,be,ee,F,q+T.A,null,null,De),w}function Wt(d,g,w){var T=d.F,F=[d.J];if(T!=null){var q=d.U,$=g.ba.S,H=$==Dd||$==Md;g=g.ba.f.RGBA;var K=[0],Z=d.ka;K[0]=d.T,d.Kb&&(Z==0?--K[0]:(--Z,F[0]-=d.width),d.j+d.ka+d.T==d.o&&(K[0]=d.o-d.j-Z));var le=g.eb;Z=g.fb+Z*g.A,d=sy(T,F[0],d.width,q,K,le,Z+(H?0:3),g.A),e(w==K),d&&vt($)&&Gu(le,Z,H,q,K,g.A)}return 0}function mn(d){var g=d.ma,w=g.ba.S,T=11>w,F=w==Ld||w==Od||w==Dd||w==xm||w==12||vt(w);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Vu(g.Oa,d,F?11:12))return 0;if(F&&vt(w)&&Be(),d.da)alert("todo:use_scaling");else{if(T){if(g.Ib=at,d.Kb){if(w=d.U+1>>1,g.memory=s(d.U+2*w),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+d.U,g.Mc=g.cc,g.Nc=g.dc+w,g.Ib=At,Be()}}else alert("todo:EmitYUV");F&&(g.Jb=Wt,T&&me())}if(T&&!_y){for(d=0;256>d;++d)D3[d]=89858*(d-128)+Vd>>Fd,V3[d]=-22014*(d-128)+Vd,F3[d]=-45773*(d-128),M3[d]=113618*(d-128)+Vd>>Fd;for(d=Yu;d<Sm;++d)g=76283*(d-16)+Vd>>Fd,B3[d-Yu]=Hn(g,255),U3[d-Yu]=Hn(g+8>>4,15);_y=1}return 1}function Ye(d){var g=d.ma,w=d.U,T=d.T;return e(!(1&d.ka)),0>=w||0>=T?0:(w=g.Ib(d,g),g.Jb!=null&&g.Jb(d,g,w),g.Dc+=w,1)}function or(d){d.ma.memory=null}function $n(d,g,w,T){return _e(d,8)!=47?0:(g[0]=_e(d,14)+1,w[0]=_e(d,14)+1,T[0]=_e(d,1),_e(d,3)!=0?0:!d.h)}function wn(d,g){if(4>d)return d+1;var w=d-2>>1;return(2+(1&d)<<w)+_e(g,w)+1}function Vn(d,g){return 120<g?g-120:1<=(w=((w=_3[g-1])>>4)*d+(8-(15&w)))?w:1;var w}function Cn(d,g,w){var T=X(w),F=d[g+=255&T].g-8;return 0<F&&(U(w,w.u+8),T=X(w),g+=d[g].value,g+=T&(1<<F)-1),U(w,w.u+d[g].g),d[g].value}function Bn(d,g,w){return w.g+=d.g,w.value+=d.value<<g>>>0,e(8>=w.g),d.g}function ur(d,g,w){var T=d.xc;return e((g=T==0?0:d.vc[d.md*(w>>T)+(g>>T)])<d.Wb),d.Ya[g]}function Pr(d,g,w,T){var F=d.ab,q=d.c*g,$=d.C;g=$+g;var H=w,K=T;for(T=d.Ta,w=d.Ua;0<F--;){var Z=d.gc[F],le=$,be=g,ee=H,he=K,ge=(K=T,H=w,Z.Ea);switch(e(le<be),e(be<=Z.nc),Z.hc){case 2:Xn(ee,he,(be-le)*ge,K,H);break;case 0:var Ae=le,ve=be,Te=K,Ce=H,De=(Ze=Z).Ea;Ae==0&&(Uu(ee,he,null,null,1,Te,Ce),qt(ee,he+1,0,0,De-1,Te,Ce+1),he+=De,Ce+=De,++Ae);for(var Le=1<<Ze.b,st=Le-1,Ke=Ie(De,Ze.b),Bt=Ze.K,Ze=Ze.w+(Ae>>Ze.b)*Ke;Ae<ve;){var Qt=Bt,dr=Ze,Ut=1;for(bc(ee,he,Te,Ce-De,1,Te,Ce);Ut<De;){var et=(Ut&~st)+Le;et>De&&(et=De),(0,qu[Qt[dr++]>>8&15])(ee,he+ +Ut,Te,Ce+Ut-De,et-Ut,Te,Ce+Ut),Ut=et}he+=De,Ce+=De,++Ae&st||(Ze+=Ke)}be!=Z.nc&&r(K,H-ge,K,H+(be-le-1)*ge,ge);break;case 1:for(ge=ee,ve=he,De=(ee=Z.Ea)-(Ce=ee&~(Te=(he=1<<Z.b)-1)),Ae=Ie(ee,Z.b),Le=Z.K,Z=Z.w+(le>>Z.b)*Ae;le<be;){for(st=Le,Ke=Z,Bt=new _t,Ze=ve+Ce,Qt=ve+ee;ve<Ze;)rt(st[Ke++],Bt),$u(Bt,ge,ve,he,K,H),ve+=he,H+=he;ve<Qt&&(rt(st[Ke++],Bt),$u(Bt,ge,ve,De,K,H),ve+=De,H+=De),++le&Te||(Z+=Ae)}break;case 3:if(ee==K&&he==H&&0<Z.b){for(ve=K,ee=ge=H+(be-le)*ge-(Ce=(be-le)*Ie(Z.Ea,Z.b)),he=K,Te=H,Ae=[],Ce=(De=Ce)-1;0<=Ce;--Ce)Ae[Ce]=he[Te+Ce];for(Ce=De-1;0<=Ce;--Ce)ve[ee+Ce]=Ae[Ce];Pd(Z,le,be,K,ge,K,H)}else Pd(Z,le,be,ee,he,K,H)}H=T,K=w}K!=w&&r(T,w,H,K,q)}function Zi(d,g){var w=d.V,T=d.Ba+d.c*d.C,F=g-d.C;if(e(g<=d.l.o),e(16>=F),0<F){var q=d.l,$=d.Ta,H=d.Ua,K=q.width;if(Pr(d,F,w,T),F=H=[H],e((w=d.C)<(T=g)),e(q.v<q.va),T>q.o&&(T=q.o),w<q.j){var Z=q.j-w;w=q.j,F[0]+=Z*K}if(w>=T?w=0:(F[0]+=4*q.v,q.ka=w-q.j,q.U=q.va-q.v,q.T=T-w,w=1),w){if(H=H[0],11>(w=d.ca).S){var le=w.f.RGBA,be=(T=w.S,F=q.U,q=q.T,Z=le.eb,le.A),ee=q;for(le=le.fb+d.Ma*le.A;0<ee--;){var he=$,ge=H,Ae=F,ve=Z,Te=le;switch(T){case jd:Hu(he,ge,Ae,ve,Te);break;case Ld:ra(he,ge,Ae,ve,Te);break;case wm:ra(he,ge,Ae,ve,Te),Gu(ve,Te,0,Ae,1,0);break;case dy:vl(he,ge,Ae,ve,Te);break;case Od:ut(he,ge,Ae,ve,Te,1);break;case _m:ut(he,ge,Ae,ve,Te,1),Gu(ve,Te,0,Ae,1,0);break;case Dd:ut(he,ge,Ae,ve,Te,0);break;case Md:ut(he,ge,Ae,ve,Te,0),Gu(ve,Te,1,Ae,1,0);break;case xm:ia(he,ge,Ae,ve,Te);break;case Nm:ia(he,ge,Ae,ve,Te),iy(ve,Te,Ae,1,0);break;case fy:sa(he,ge,Ae,ve,Te);break;default:e(0)}H+=K,le+=be}d.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=w.height)}}d.C=g,e(d.C<=d.i)}function ni(d){var g;if(0<d.ua)return 0;for(g=0;g<d.Wb;++g){var w=d.Ya[g].G,T=d.Ya[g].H;if(0<w[1][T[1]+0].g||0<w[2][T[2]+0].g||0<w[3][T[3]+0].g)return 0}return 1}function ri(d,g,w,T,F,q){if(d.Z!=0){var $=d.qd,H=d.rd;for(e(la[d.Z]!=null);g<w;++g)la[d.Z]($,H,T,F,T,F,q),$=T,H=F,F+=q;d.qd=$,d.rd=H}}function Hr(d,g){var w=d.l.ma,T=w.Z==0||w.Z==1?d.l.j:d.C;if(T=d.C<T?T:d.C,e(g<=d.l.o),g>T){var F=d.l.width,q=w.ca,$=w.tb+F*T,H=d.V,K=d.Ba+d.c*T,Z=d.gc;e(d.ab==1),e(Z[0].hc==3),Rs(Z[0],T,g,H,K,q,$),ri(w,T,g,q,$,F)}d.C=d.Ma=g}function ii(d,g,w,T,F,q,$){var H=d.$/T,K=d.$%T,Z=d.m,le=d.s,be=w+d.$,ee=be;F=w+T*F;var he=w+T*q,ge=280+le.ua,Ae=d.Pb?H:16777216,ve=0<le.ua?le.Wa:null,Te=le.wc,Ce=be<he?ur(le,K,H):null;e(d.C<q),e(he<=F);var De=!1;e:for(;;){for(;De||be<he;){var Le=0;if(H>=Ae){var st=be-w;e((Ae=d).Pb),Ae.wd=Ae.m,Ae.xd=st,0<Ae.s.ua&&yt(Ae.s.Wa,Ae.s.vb),Ae=H+A3}if(K&Te||(Ce=ur(le,K,H)),e(Ce!=null),Ce.Qb&&(g[be]=Ce.qb,De=!0),!De)if(ne(Z),Ce.jc){Le=Z,st=g;var Ke=be,Bt=Ce.pd[X(Le)&yl-1];e(Ce.jc),256>Bt.g?(U(Le,Le.u+Bt.g),st[Ke]=Bt.value,Le=0):(U(Le,Le.u+Bt.g-256),e(256<=Bt.value),Le=Bt.value),Le==0&&(De=!0)}else Le=Cn(Ce.G[0],Ce.H[0],Z);if(Z.h)break;if(De||256>Le){if(!De)if(Ce.nd)g[be]=(Ce.qb|Le<<8)>>>0;else{if(ne(Z),De=Cn(Ce.G[1],Ce.H[1],Z),ne(Z),st=Cn(Ce.G[2],Ce.H[2],Z),Ke=Cn(Ce.G[3],Ce.H[3],Z),Z.h)break;g[be]=(Ke<<24|De<<16|Le<<8|st)>>>0}if(De=!1,++be,++K>=T&&(K=0,++H,$!=null&&H<=q&&!(H%16)&&$(d,H),ve!=null))for(;ee<be;)Le=g[ee++],ve.X[(506832829*Le&4294967295)>>>ve.Mb]=Le}else if(280>Le){if(Le=wn(Le-256,Z),st=Cn(Ce.G[4],Ce.H[4],Z),ne(Z),st=Vn(T,st=wn(st,Z)),Z.h)break;if(be-w<st||F-be<Le)break e;for(Ke=0;Ke<Le;++Ke)g[be+Ke]=g[be+Ke-st];for(be+=Le,K+=Le;K>=T;)K-=T,++H,$!=null&&H<=q&&!(H%16)&&$(d,H);if(e(be<=F),K&Te&&(Ce=ur(le,K,H)),ve!=null)for(;ee<be;)Le=g[ee++],ve.X[(506832829*Le&4294967295)>>>ve.Mb]=Le}else{if(!(Le<ge))break e;for(De=Le-280,e(ve!=null);ee<be;)Le=g[ee++],ve.X[(506832829*Le&4294967295)>>>ve.Mb]=Le;Le=be,e(!(De>>>(st=ve).Xa)),g[Le]=st.X[De],De=!0}De||e(Z.h==M(Z))}if(d.Pb&&Z.h&&be<F)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&yt(d.s.vb,d.s.Wa);else{if(Z.h)break e;$!=null&&$(d,H>q?q:H),d.a=0,d.$=be-w}return 1}return d.a=3,0}function si(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var g=d.Wa;g!=null&&(g.X=null),d.vb=null,e(d!=null)}function ws(){var d=new Xe;return d==null?null:(d.a=0,d.xb=gy,Dt("Predictor","VP8LPredictors"),Dt("Predictor","VP8LPredictors_C"),Dt("PredictorAdd","VP8LPredictorsAdd"),Dt("PredictorAdd","VP8LPredictorsAdd_C"),Xn=wt,$u=dt,Hu=an,ra=Vt,ia=$e,sa=gt,vl=Ot,P.VP8LMapColor32b=ks,P.VP8LMapColor8b=zu,d)}function Oi(d,g,w,T,F){var q=1,$=[d],H=[g],K=T.m,Z=T.s,le=null,be=0;e:for(;;){if(w)for(;q&&_e(K,1);){var ee=$,he=H,ge=T,Ae=1,ve=ge.m,Te=ge.gc[ge.ab],Ce=_e(ve,2);if(ge.Oc&1<<Ce)q=0;else{switch(ge.Oc|=1<<Ce,Te.hc=Ce,Te.Ea=ee[0],Te.nc=he[0],Te.K=[null],++ge.ab,e(4>=ge.ab),Ce){case 0:case 1:Te.b=_e(ve,3)+2,Ae=Oi(Ie(Te.Ea,Te.b),Ie(Te.nc,Te.b),0,ge,Te.K),Te.K=Te.K[0];break;case 3:var De,Le=_e(ve,8)+1,st=16<Le?0:4<Le?1:2<Le?2:3;if(ee[0]=Ie(Te.Ea,st),Te.b=st,De=Ae=Oi(Le,1,0,ge,Te.K)){var Ke,Bt=Le,Ze=Te,Qt=1<<(8>>Ze.b),dr=s(Qt);if(dr==null)De=0;else{var Ut=Ze.K[0],et=Ze.w;for(dr[0]=Ze.K[0][0],Ke=1;Ke<1*Bt;++Ke)dr[Ke]=qe(Ut[et+Ke],dr[Ke-1]);for(;Ke<4*Qt;++Ke)dr[Ke]=0;Ze.K[0]=null,Ze.K[0]=dr,De=1}}Ae=De;break;case 2:break;default:e(0)}q=Ae}}if($=$[0],H=H[0],q&&_e(K,1)&&!(q=1<=(be=_e(K,4))&&11>=be)){T.a=3;break e}var ze;if(ze=q)t:{var Zn,jt,tn,Ln=T,Nr=$,Jr=H,Wn=be,Lr=w,Xr=Ln.m,fr=Ln.s,on=[null],gn=1,Gn=0,yn=N3[Wn];n:for(;;){if(Lr&&_e(Xr,1)){var Ar=_e(Xr,3)+2,rs=Ie(Nr,Ar),er=Ie(Jr,Ar),ci=rs*er;if(!Oi(rs,er,0,Ln,on))break n;for(on=on[0],fr.xc=Ar,Zn=0;Zn<ci;++Zn){var Sn=on[Zn]>>8&65535;on[Zn]=Sn,Sn>=gn&&(gn=Sn+1)}}if(Xr.h)break n;for(jt=0;5>jt;++jt){var pr=py[jt];!jt&&0<Wn&&(pr+=1<<Wn),Gn<pr&&(Gn=pr)}var wi=o(gn*yn,k),Qr=gn,_i=o(Qr,ce);if(_i==null)var Ni=null;else e(65536>=Qr),Ni=_i;var ui=s(Gn);if(Ni==null||ui==null||wi==null){Ln.a=1;break n}var Ai=wi;for(Zn=tn=0;Zn<gn;++Zn){var Rn=Ni[Zn],Ei=Rn.G,is=Rn.H,xl=0,wo=1,Er=0;for(jt=0;5>jt;++jt){pr=py[jt],Ei[jt]=Ai,is[jt]=tn,!jt&&0<Wn&&(pr+=1<<Wn);i:{var Ud,Tm=pr,zd=Ln,Ju=ui,$3=Ai,H3=tn,Cm=0,ca=zd.m,W3=_e(ca,1);if(i(Ju,0,0,Tm),W3){var G3=_e(ca,1)+1,K3=_e(ca,1),Ey=_e(ca,K3==0?1:8);Ju[Ey]=1,G3==2&&(Ju[Ey=_e(ca,8)]=1);var qd=1}else{var Sy=s(19),Ty=_e(ca,4)+4;if(19<Ty){zd.a=3;var $d=0;break i}for(Ud=0;Ud<Ty;++Ud)Sy[w3[Ud]]=_e(ca,3);var Im=void 0,Xu=void 0,Cy=zd,Y3=Sy,Hd=Tm,Iy=Ju,Pm=0,ua=Cy.m,Py=8,ky=o(128,k);r:for(;I(ky,0,7,Y3,19);){if(_e(ua,1)){var J3=2+2*_e(ua,3);if((Im=2+_e(ua,J3))>Hd)break r}else Im=Hd;for(Xu=0;Xu<Hd&&Im--;){ne(ua);var Ry=ky[0+(127&X(ua))];U(ua,ua.u+Ry.g);var wc=Ry.value;if(16>wc)Iy[Xu++]=wc,wc!=0&&(Py=wc);else{var X3=wc==16,jy=wc-16,Q3=b3[jy],Ly=_e(ua,v3[jy])+Q3;if(Xu+Ly>Hd)break r;for(var Z3=X3?Py:0;0<Ly--;)Iy[Xu++]=Z3}}Pm=1;break r}Pm||(Cy.a=3),qd=Pm}(qd=qd&&!ca.h)&&(Cm=I($3,H3,8,Ju,Tm)),qd&&Cm!=0?$d=Cm:(zd.a=3,$d=0)}if($d==0)break n;if(wo&&x3[jt]==1&&(wo=Ai[tn].g==0),xl+=Ai[tn].g,tn+=$d,3>=jt){var Qu,km=ui[0];for(Qu=1;Qu<pr;++Qu)ui[Qu]>km&&(km=ui[Qu]);Er+=km}}if(Rn.nd=wo,Rn.Qb=0,wo&&(Rn.qb=(Ei[3][is[3]+0].value<<24|Ei[1][is[1]+0].value<<16|Ei[2][is[2]+0].value)>>>0,xl==0&&256>Ei[0][is[0]+0].value&&(Rn.Qb=1,Rn.qb+=Ei[0][is[0]+0].value<<8)),Rn.jc=!Rn.Qb&&6>Er,Rn.jc){var Wd,_o=Rn;for(Wd=0;Wd<yl;++Wd){var ha=Wd,da=_o.pd[ha],Gd=_o.G[0][_o.H[0]+ha];256<=Gd.value?(da.g=Gd.g+256,da.value=Gd.value):(da.g=0,da.value=0,ha>>=Bn(Gd,8,da),ha>>=Bn(_o.G[1][_o.H[1]+ha],16,da),ha>>=Bn(_o.G[2][_o.H[2]+ha],0,da),Bn(_o.G[3][_o.H[3]+ha],24,da))}}}fr.vc=on,fr.Wb=gn,fr.Ya=Ni,fr.yc=wi,ze=1;break t}ze=0}if(!(q=ze)){T.a=3;break e}if(0<be){if(Z.ua=1<<be,!te(Z.Wa,be)){T.a=1,q=0;break e}}else Z.ua=0;var Rm=T,Oy=$,eT=H,jm=Rm.s,Lm=jm.xc;if(Rm.c=Oy,Rm.i=eT,jm.md=Ie(Oy,Lm),jm.wc=Lm==0?-1:(1<<Lm)-1,w){T.xb=k3;break e}if((le=s($*H))==null){T.a=1,q=0;break e}q=(q=ii(T,le,0,$,H,H,null))&&!K.h;break e}return q?(F!=null?F[0]=le:(e(le==null),e(w)),T.$=0,w||si(Z)):si(Z),q}function Di(d,g){var w=d.c*d.i,T=w+g+16*g;return e(d.c<=g),d.V=s(T),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+w+g,1)}function oo(d,g){var w=d.C,T=g-w,F=d.V,q=d.Ba+d.c*w;for(e(g<=d.l.o);0<T;){var $=16<T?16:T,H=d.l.ma,K=d.l.width,Z=K*$,le=H.ca,be=H.tb+K*w,ee=d.Ta,he=d.Ua;Pr(d,$,F,q),oy(ee,he,le,be,Z),ri(H,w,w+$,le,be,K),T-=$,F+=$*d.c,w+=$}e(w==g),d.C=d.Ma=g}function _s(){this.ub=this.yd=this.td=this.Rb=0}function Mi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function es(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ao(){this.Yb=function(){var d=[];return function g(w,T,F){for(var q=F[T],$=0;$<q&&(w.push(F.length>T+1?[]:0),!(F.length<T+1));$++)g(w[$],T+1,F)}(d,0,[3,11]),d}()}function uc(){this.jb=s(3),this.Wc=a([4,8],ao),this.Xc=a([4,17],ao)}function ol(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Wr(){this.ld=this.La=this.dd=this.tc=0}function qo(){this.Na=this.la=0}function $o(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function lo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function al(){this.uc=this.M=this.Nb=0,this.wa=Array(new Wr),this.Y=0,this.ya=Array(new lo),this.aa=0,this.l=new Ho}function ll(){this.y=s(16),this.f=s(8),this.ea=s(8)}function cl(){this.cb=this.a=0,this.sc="",this.m=new z,this.Od=new _s,this.Kc=new Mi,this.ed=new ol,this.Qa=new es,this.Ic=this.$c=this.Aa=0,this.D=new al,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,z),this.ia=0,this.pb=o(4,$o),this.Pa=new uc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ll),this.Hd=0,this.rb=Array(new qo),this.sb=0,this.wa=Array(new Wr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new lo),this.L=this.aa=0,this.gd=a([4,2],Wr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ho(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Fi(){var d=new cl;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Ku||(Ku=mi)),d}function cn(d,g,w){return d.a==0&&(d.a=g,d.sc=w,d.cb=0),0}function Ns(d,g,w){return 3<=w&&d[g+0]==157&&d[g+1]==1&&d[g+2]==42}function As(d,g){if(d==null)return 0;if(d.a=0,d.sc="OK",g==null)return cn(d,2,"null VP8Io passed to VP8GetHeaders()");var w=g.data,T=g.w,F=g.ha;if(4>F)return cn(d,7,"Truncated header.");var q=w[T+0]|w[T+1]<<8|w[T+2]<<16,$=d.Od;if($.Rb=!(1&q),$.td=q>>1&7,$.yd=q>>4&1,$.ub=q>>5,3<$.td)return cn(d,3,"Incorrect keyframe parameters.");if(!$.yd)return cn(d,4,"Frame not displayable.");T+=3,F-=3;var H=d.Kc;if($.Rb){if(7>F)return cn(d,7,"cannot parse picture header");if(!Ns(w,T,F))return cn(d,3,"Bad code word");H.c=16383&(w[T+4]<<8|w[T+3]),H.Td=w[T+4]>>6,H.i=16383&(w[T+6]<<8|w[T+5]),H.Ud=w[T+6]>>6,T+=7,F-=7,d.za=H.c+15>>4,d.Ub=H.i+15>>4,g.width=H.c,g.height=H.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((q=d.Pa).jb,0,255,q.jb.length),e((q=d.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,i(q.Zb,0,0,q.Zb.length),i(q.Lb,0,0,q.Lb)}if($.ub>F)return cn(d,7,"bad partition length");ue(q=d.m,w,T,$.ub),T+=$.ub,F-=$.ub,$.Rb&&(H.Ld=pe(q),H.Kd=pe(q)),H=d.Qa;var K,Z=d.Pa;if(e(q!=null),e(H!=null),H.Cb=pe(q),H.Cb){if(H.Bb=pe(q),pe(q)){for(H.Fb=pe(q),K=0;4>K;++K)H.Zb[K]=pe(q)?ie(q,7):0;for(K=0;4>K;++K)H.Lb[K]=pe(q)?ie(q,6):0}if(H.Bb)for(K=0;3>K;++K)Z.jb[K]=pe(q)?fe(q,8):255}else H.Bb=0;if(q.Ka)return cn(d,3,"cannot parse segment header");if((H=d.ed).zd=pe(q),H.Tb=fe(q,6),H.wb=fe(q,3),H.Pc=pe(q),H.Pc&&pe(q)){for(Z=0;4>Z;++Z)pe(q)&&(H.vd[Z]=ie(q,6));for(Z=0;4>Z;++Z)pe(q)&&(H.od[Z]=ie(q,6))}if(d.L=H.Tb==0?0:H.zd?1:2,q.Ka)return cn(d,3,"cannot parse filter header");var le=F;if(F=K=T,T=K+le,H=le,d.Xb=(1<<fe(d.m,2))-1,le<3*(Z=d.Xb))w=7;else{for(K+=3*Z,H-=3*Z,le=0;le<Z;++le){var be=w[F+0]|w[F+1]<<8|w[F+2]<<16;be>H&&(be=H),ue(d.Jc[+le],w,K,be),K+=be,H-=be,F+=3}ue(d.Jc[+Z],w,K,H),w=K<T?0:5}if(w!=0)return cn(d,w,"cannot parse partitions");for(w=fe(K=d.m,7),F=pe(K)?ie(K,4):0,T=pe(K)?ie(K,4):0,H=pe(K)?ie(K,4):0,Z=pe(K)?ie(K,4):0,K=pe(K)?ie(K,4):0,le=d.Qa,be=0;4>be;++be){if(le.Cb){var ee=le.Zb[be];le.Fb||(ee+=w)}else{if(0<be){d.pb[be]=d.pb[0];continue}ee=w}var he=d.pb[be];he.Sc[0]=Am[Hn(ee+F,127)],he.Sc[1]=Em[Hn(ee+0,127)],he.Eb[0]=2*Am[Hn(ee+T,127)],he.Eb[1]=101581*Em[Hn(ee+H,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=Am[Hn(ee+Z,117)],he.Qc[1]=Em[Hn(ee+K,127)],he.lc=ee+K}if(!$.Rb)return cn(d,4,"Not a key frame.");for(pe(q),$=d.Pa,w=0;4>w;++w){for(F=0;8>F;++F)for(T=0;3>T;++T)for(H=0;11>H;++H)Z=ye(q,I3[w][F][T][H])?fe(q,8):T3[w][F][T][H],$.Wc[w][F].Yb[T][H]=Z;for(F=0;17>F;++F)$.Xc[w][F]=$.Wc[w][P3[F]]}return d.kc=pe(q),d.kc&&(d.Bd=fe(q,8)),d.cb=1}function mi(d,g,w,T,F,q,$){var H=g[F].Yb[w];for(w=0;16>F;++F){if(!ye(d,H[w+0]))return F;for(;!ye(d,H[w+1]);)if(H=g[++F].Yb[0],w=0,F==16)return 16;var K=g[F+1].Yb;if(ye(d,H[w+2])){var Z=d,le=0;if(ye(Z,(ee=H)[(be=w)+3]))if(ye(Z,ee[be+6])){for(H=0,be=2*(le=ye(Z,ee[be+8]))+(ee=ye(Z,ee[be+9+le])),le=0,ee=E3[be];ee[H];++H)le+=le+ye(Z,ee[H]);le+=3+(8<<be)}else ye(Z,ee[be+7])?(le=7+2*ye(Z,165),le+=ye(Z,145)):le=5+ye(Z,159);else le=ye(Z,ee[be+4])?3+ye(Z,ee[be+5]):2;H=K[2]}else le=1,H=K[1];K=$+S3[F],0>(Z=d).b&&oe(Z);var be,ee=Z.b,he=(be=Z.Ca>>1)-(Z.I>>ee)>>31;--Z.b,Z.Ca+=he,Z.Ca|=1,Z.I-=(be+1&he)<<ee,q[K]=((le^he)-he)*T[(0<F)+0]}return 16}function sn(d){var g=d.rb[d.sb-1];g.la=0,g.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function kr(d,g,w,T,F){F=d[g+w+32*T]+(F>>3),d[g+w+32*T]=-256&F?0>F?0:255:F}function gi(d,g,w,T,F,q){kr(d,g,0,w,T+F),kr(d,g,1,w,T+q),kr(d,g,2,w,T-q),kr(d,g,3,w,T-F)}function _n(d){return(20091*d>>16)+d}function ul(d,g,w,T){var F,q=0,$=s(16);for(F=0;4>F;++F){var H=d[g+0]+d[g+8],K=d[g+0]-d[g+8],Z=(35468*d[g+4]>>16)-_n(d[g+12]),le=_n(d[g+4])+(35468*d[g+12]>>16);$[q+0]=H+le,$[q+1]=K+Z,$[q+2]=K-Z,$[q+3]=H-le,q+=4,g++}for(F=q=0;4>F;++F)H=(d=$[q+0]+4)+$[q+8],K=d-$[q+8],Z=(35468*$[q+4]>>16)-_n($[q+12]),kr(w,T,0,0,H+(le=_n($[q+4])+(35468*$[q+12]>>16))),kr(w,T,1,0,K+Z),kr(w,T,2,0,K-Z),kr(w,T,3,0,H-le),q++,T+=32}function hc(d,g,w,T){var F=d[g+0]+4,q=35468*d[g+4]>>16,$=_n(d[g+4]),H=35468*d[g+1]>>16;gi(w,T,0,F+$,d=_n(d[g+1]),H),gi(w,T,1,F+q,d,H),gi(w,T,2,F-q,d,H),gi(w,T,3,F-$,d,H)}function Ou(d,g,w,T,F){ul(d,g,w,T),F&&ul(d,g+16,w,T+4)}function Du(d,g,w,T){bl(d,g+0,w,T,1),bl(d,g+32,w,T+128,1)}function Vi(d,g,w,T){var F;for(d=d[g+0]+4,F=0;4>F;++F)for(g=0;4>g;++g)kr(w,T,g,F,d)}function dc(d,g,w,T){d[g+0]&&dn(d,g+0,w,T),d[g+16]&&dn(d,g+16,w,T+4),d[g+32]&&dn(d,g+32,w,T+128),d[g+48]&&dn(d,g+48,w,T+128+4)}function Es(d,g,w,T){var F,q=s(16);for(F=0;4>F;++F){var $=d[g+0+F]+d[g+12+F],H=d[g+4+F]+d[g+8+F],K=d[g+4+F]-d[g+8+F],Z=d[g+0+F]-d[g+12+F];q[0+F]=$+H,q[8+F]=$-H,q[4+F]=Z+K,q[12+F]=Z-K}for(F=0;4>F;++F)$=(d=q[0+4*F]+3)+q[3+4*F],H=q[1+4*F]+q[2+4*F],K=q[1+4*F]-q[2+4*F],Z=d-q[3+4*F],w[T+0]=$+H>>3,w[T+16]=Z+K>>3,w[T+32]=$-H>>3,w[T+48]=Z-K>>3,T+=64}function Rr(d,g,w){var T,F=g-32,q=xi,$=255-d[F-1];for(T=0;T<w;++T){var H,K=q,Z=$+d[g-1];for(H=0;H<w;++H)d[g+H]=K[Z+d[F+H]];g+=32}}function Wo(d,g){Rr(d,g,4)}function fc(d,g){Rr(d,g,8)}function pc(d,g){Rr(d,g,16)}function mc(d,g){var w;for(w=0;16>w;++w)r(d,g+32*w,d,g-32,16)}function Go(d,g){var w;for(w=16;0<w;--w)i(d,g,d[g-1],16),g+=32}function oi(d,g,w){var T;for(T=0;16>T;++T)i(g,w+32*T,d,16)}function Ss(d,g){var w,T=16;for(w=0;16>w;++w)T+=d[g-1+32*w]+d[g+w-32];oi(T>>5,d,g)}function Mu(d,g){var w,T=8;for(w=0;16>w;++w)T+=d[g-1+32*w];oi(T>>4,d,g)}function co(d,g){var w,T=8;for(w=0;16>w;++w)T+=d[g+w-32];oi(T>>4,d,g)}function ai(d,g){oi(128,d,g)}function Et(d,g,w){return d+2*g+w+2>>2}function hl(d,g){var w,T=g-32;for(T=new Uint8Array([Et(d[T-1],d[T+0],d[T+1]),Et(d[T+0],d[T+1],d[T+2]),Et(d[T+1],d[T+2],d[T+3]),Et(d[T+2],d[T+3],d[T+4])]),w=0;4>w;++w)r(d,g+32*w,T,0,T.length)}function Ko(d,g){var w=d[g-1],T=d[g-1+32],F=d[g-1+64],q=d[g-1+96];Ne(d,g+0,16843009*Et(d[g-1-32],w,T)),Ne(d,g+32,16843009*Et(w,T,F)),Ne(d,g+64,16843009*Et(T,F,q)),Ne(d,g+96,16843009*Et(F,q,q))}function gc(d,g){var w,T=4;for(w=0;4>w;++w)T+=d[g+w-32]+d[g-1+32*w];for(T>>=3,w=0;4>w;++w)i(d,g+32*w,T,4)}function uo(d,g){var w=d[g-1+0],T=d[g-1+32],F=d[g-1+64],q=d[g-1-32],$=d[g+0-32],H=d[g+1-32],K=d[g+2-32],Z=d[g+3-32];d[g+0+96]=Et(T,F,d[g-1+96]),d[g+1+96]=d[g+0+64]=Et(w,T,F),d[g+2+96]=d[g+1+64]=d[g+0+32]=Et(q,w,T),d[g+3+96]=d[g+2+64]=d[g+1+32]=d[g+0+0]=Et($,q,w),d[g+3+64]=d[g+2+32]=d[g+1+0]=Et(H,$,q),d[g+3+32]=d[g+2+0]=Et(K,H,$),d[g+3+0]=Et(Z,K,H)}function Gr(d,g){var w=d[g+1-32],T=d[g+2-32],F=d[g+3-32],q=d[g+4-32],$=d[g+5-32],H=d[g+6-32],K=d[g+7-32];d[g+0+0]=Et(d[g+0-32],w,T),d[g+1+0]=d[g+0+32]=Et(w,T,F),d[g+2+0]=d[g+1+32]=d[g+0+64]=Et(T,F,q),d[g+3+0]=d[g+2+32]=d[g+1+64]=d[g+0+96]=Et(F,q,$),d[g+3+32]=d[g+2+64]=d[g+1+96]=Et(q,$,H),d[g+3+64]=d[g+2+96]=Et($,H,K),d[g+3+96]=Et(H,K,K)}function Bi(d,g){var w=d[g-1+0],T=d[g-1+32],F=d[g-1+64],q=d[g-1-32],$=d[g+0-32],H=d[g+1-32],K=d[g+2-32],Z=d[g+3-32];d[g+0+0]=d[g+1+64]=q+$+1>>1,d[g+1+0]=d[g+2+64]=$+H+1>>1,d[g+2+0]=d[g+3+64]=H+K+1>>1,d[g+3+0]=K+Z+1>>1,d[g+0+96]=Et(F,T,w),d[g+0+64]=Et(T,w,q),d[g+0+32]=d[g+1+96]=Et(w,q,$),d[g+1+32]=d[g+2+96]=Et(q,$,H),d[g+2+32]=d[g+3+96]=Et($,H,K),d[g+3+32]=Et(H,K,Z)}function dl(d,g){var w=d[g+0-32],T=d[g+1-32],F=d[g+2-32],q=d[g+3-32],$=d[g+4-32],H=d[g+5-32],K=d[g+6-32],Z=d[g+7-32];d[g+0+0]=w+T+1>>1,d[g+1+0]=d[g+0+64]=T+F+1>>1,d[g+2+0]=d[g+1+64]=F+q+1>>1,d[g+3+0]=d[g+2+64]=q+$+1>>1,d[g+0+32]=Et(w,T,F),d[g+1+32]=d[g+0+96]=Et(T,F,q),d[g+2+32]=d[g+1+96]=Et(F,q,$),d[g+3+32]=d[g+2+96]=Et(q,$,H),d[g+3+64]=Et($,H,K),d[g+3+96]=Et(H,K,Z)}function In(d,g){var w=d[g-1+0],T=d[g-1+32],F=d[g-1+64],q=d[g-1+96];d[g+0+0]=w+T+1>>1,d[g+2+0]=d[g+0+32]=T+F+1>>1,d[g+2+32]=d[g+0+64]=F+q+1>>1,d[g+1+0]=Et(w,T,F),d[g+3+0]=d[g+1+32]=Et(T,F,q),d[g+3+32]=d[g+1+64]=Et(F,q,q),d[g+3+64]=d[g+2+64]=d[g+0+96]=d[g+1+96]=d[g+2+96]=d[g+3+96]=q}function Yo(d,g){var w=d[g-1+0],T=d[g-1+32],F=d[g-1+64],q=d[g-1+96],$=d[g-1-32],H=d[g+0-32],K=d[g+1-32],Z=d[g+2-32];d[g+0+0]=d[g+2+32]=w+$+1>>1,d[g+0+32]=d[g+2+64]=T+w+1>>1,d[g+0+64]=d[g+2+96]=F+T+1>>1,d[g+0+96]=q+F+1>>1,d[g+3+0]=Et(H,K,Z),d[g+2+0]=Et($,H,K),d[g+1+0]=d[g+3+32]=Et(w,$,H),d[g+1+32]=d[g+3+64]=Et(T,w,$),d[g+1+64]=d[g+3+96]=Et(F,T,w),d[g+1+96]=Et(q,F,T)}function fl(d,g){var w;for(w=0;8>w;++w)r(d,g+32*w,d,g-32,8)}function Ts(d,g){var w;for(w=0;8>w;++w)i(d,g,d[g-1],8),g+=32}function ho(d,g,w){var T;for(T=0;8>T;++T)i(g,w+32*T,d,8)}function fo(d,g){var w,T=8;for(w=0;8>w;++w)T+=d[g+w-32]+d[g-1+32*w];ho(T>>4,d,g)}function Jo(d,g){var w,T=4;for(w=0;8>w;++w)T+=d[g+w-32];ho(T>>3,d,g)}function li(d,g){var w,T=4;for(w=0;8>w;++w)T+=d[g-1+32*w];ho(T>>3,d,g)}function Xo(d,g){ho(128,d,g)}function po(d,g,w){var T=d[g-w],F=d[g+0],q=3*(F-T)+bm[1020+d[g-2*w]-d[g+w]],$=Rd[112+(q+4>>3)];d[g-w]=xi[255+T+Rd[112+(q+3>>3)]],d[g+0]=xi[255+F-$]}function yi(d,g,w,T){var F=d[g+0],q=d[g+w];return Hi[255+d[g-2*w]-d[g-w]]>T||Hi[255+q-F]>T}function Qo(d,g,w,T){return 4*Hi[255+d[g-w]-d[g+0]]+Hi[255+d[g-2*w]-d[g+w]]<=T}function Cs(d,g,w,T,F){var q=d[g-3*w],$=d[g-2*w],H=d[g-w],K=d[g+0],Z=d[g+w],le=d[g+2*w],be=d[g+3*w];return 4*Hi[255+H-K]+Hi[255+$-Z]>T?0:Hi[255+d[g-4*w]-q]<=F&&Hi[255+q-$]<=F&&Hi[255+$-H]<=F&&Hi[255+be-le]<=F&&Hi[255+le-Z]<=F&&Hi[255+Z-K]<=F}function Is(d,g,w,T){var F=2*T+1;for(T=0;16>T;++T)Qo(d,g+T,w,F)&&po(d,g+T,w)}function Ps(d,g,w,T){var F=2*T+1;for(T=0;16>T;++T)Qo(d,g+T*w,1,F)&&po(d,g+T*w,1)}function mo(d,g,w,T){var F;for(F=3;0<F;--F)Is(d,g+=4*w,w,T)}function yc(d,g,w,T){var F;for(F=3;0<F;--F)Ps(d,g+=4,w,T)}function Ui(d,g,w,T,F,q,$,H){for(q=2*q+1;0<F--;){if(Cs(d,g,w,q,$))if(yi(d,g,w,H))po(d,g,w);else{var K=d,Z=g,le=w,be=K[Z-2*le],ee=K[Z-le],he=K[Z+0],ge=K[Z+le],Ae=K[Z+2*le],ve=27*(Ce=bm[1020+3*(he-ee)+bm[1020+be-ge]])+63>>7,Te=18*Ce+63>>7,Ce=9*Ce+63>>7;K[Z-3*le]=xi[255+K[Z-3*le]+Ce],K[Z-2*le]=xi[255+be+Te],K[Z-le]=xi[255+ee+ve],K[Z+0]=xi[255+he-ve],K[Z+le]=xi[255+ge-Te],K[Z+2*le]=xi[255+Ae-Ce]}g+=T}}function Kr(d,g,w,T,F,q,$,H){for(q=2*q+1;0<F--;){if(Cs(d,g,w,q,$))if(yi(d,g,w,H))po(d,g,w);else{var K=d,Z=g,le=w,be=K[Z-le],ee=K[Z+0],he=K[Z+le],ge=Rd[112+(4+(Ae=3*(ee-be))>>3)],Ae=Rd[112+(Ae+3>>3)],ve=ge+1>>1;K[Z-2*le]=xi[255+K[Z-2*le]+ve],K[Z-le]=xi[255+be+Ae],K[Z+0]=xi[255+ee-ge],K[Z+le]=xi[255+he-ve]}g+=T}}function pl(d,g,w,T,F,q){Ui(d,g,w,1,16,T,F,q)}function ml(d,g,w,T,F,q){Ui(d,g,1,w,16,T,F,q)}function ts(d,g,w,T,F,q){var $;for($=3;0<$;--$)Kr(d,g+=4*w,w,1,16,T,F,q)}function Zo(d,g,w,T,F,q){var $;for($=3;0<$;--$)Kr(d,g+=4,1,w,16,T,F,q)}function b(d,g,w,T,F,q,$,H){Ui(d,g,F,1,8,q,$,H),Ui(w,T,F,1,8,q,$,H)}function D(d,g,w,T,F,q,$,H){Ui(d,g,1,F,8,q,$,H),Ui(w,T,1,F,8,q,$,H)}function Q(d,g,w,T,F,q,$,H){Kr(d,g+4*F,F,1,8,q,$,H),Kr(w,T+4*F,F,1,8,q,$,H)}function se(d,g,w,T,F,q,$,H){Kr(d,g+4,1,F,8,q,$,H),Kr(w,T+4,1,F,8,q,$,H)}function de(){this.ba=new Nt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new $t,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ee(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function je(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function We(){this.ua=0,this.Wa=new ht,this.vb=new ht,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ce,this.yc=new k}function Xe(){this.xb=this.a=0,this.l=new Ho,this.ca=new Nt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new We,this.ab=0,this.gc=o(4,je),this.Oc=0}function mt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ho,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function it(d,g,w,T,F,q,$){for(d=d==null?0:d[g+0],g=0;g<$;++g)F[q+g]=d+w[T+g]&255,d=F[q+g]}function en(d,g,w,T,F,q,$){var H;if(d==null)it(null,null,w,T,F,q,$);else for(H=0;H<$;++H)F[q+H]=d[g+H]+w[T+H]&255}function Pn(d,g,w,T,F,q,$){if(d==null)it(null,null,w,T,F,q,$);else{var H,K=d[g+0],Z=K,le=K;for(H=0;H<$;++H)Z=le+(K=d[g+H])-Z,le=w[T+H]+(-256&Z?0>Z?0:255:Z)&255,Z=K,F[q+H]=le}}function Nn(d,g,w,T){var F=g.width,q=g.o;if(e(d!=null&&g!=null),0>w||0>=T||w+T>q)return null;if(!d.Cc){if(d.ga==null){var $;if(d.ga=new mt,($=d.ga==null)||($=g.width*g.o,e(d.Gb.length==0),d.Gb=s($),d.Uc=0,d.Gb==null?$=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,$=1),$=!$),!$){$=d.ga;var H=d.Fa,K=d.P,Z=d.qc,le=d.mb,be=d.nb,ee=K+1,he=Z-1,ge=$.l;if(e(H!=null&&le!=null&&g!=null),la[0]=null,la[1]=it,la[2]=en,la[3]=Pn,$.ca=le,$.tb=be,$.c=g.width,$.i=g.height,e(0<$.c&&0<$.i),1>=Z)g=0;else if($.$a=3&H[K+0],$.Z=H[K+0]>>2&3,$.Lc=H[K+0]>>4&3,K=H[K+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||K)g=0;else if(ge.put=Ye,ge.ac=mn,ge.bc=or,ge.ma=$,ge.width=g.width,ge.height=g.height,ge.Da=g.Da,ge.v=g.v,ge.va=g.va,ge.j=g.j,ge.o=g.o,$.$a)e:{e($.$a==1),g=ws();t:for(;;){if(g==null){g=0;break e}if(e($!=null),$.mc=g,g.c=$.c,g.i=$.i,g.l=$.l,g.l.ma=$,g.l.width=$.c,g.l.height=$.i,g.a=0,ae(g.m,H,ee,he),!Oi($.c,$.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&ni(g.s)?($.ic=1,H=g.c*g.i,g.Ta=null,g.Ua=0,g.V=s(H),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):($.ic=0,g=Di(g,$.c)),!g))break t;g=1;break e}$.mc=null,g=0}else g=he>=$.c*$.i;$=!g}if($)return null;d.ga.Lc!=1?d.Ga=0:T=q-w}e(d.ga!=null),e(w+T<=q);e:{if(g=(H=d.ga).c,q=H.l.o,H.$a==0){if(ee=d.rc,he=d.Vc,ge=d.Fa,K=d.P+1+w*g,Z=d.mb,le=d.nb+w*g,e(K<=d.P+d.qc),H.Z!=0)for(e(la[H.Z]!=null),$=0;$<T;++$)la[H.Z](ee,he,ge,K,Z,le,g),ee=Z,he=le,le+=g,K+=g;else for($=0;$<T;++$)r(Z,le,ge,K,g),ee=Z,he=le,le+=g,K+=g;d.rc=ee,d.Vc=he}else{if(e(H.mc!=null),g=w+T,e(($=H.mc)!=null),e(g<=$.i),$.C>=g)g=1;else if(H.ic||me(),H.ic){H=$.V,ee=$.Ba,he=$.c;var Ae=$.i,ve=(ge=1,K=$.$/he,Z=$.$%he,le=$.m,be=$.s,$.$),Te=he*Ae,Ce=he*g,De=be.wc,Le=ve<Ce?ur(be,Z,K):null;e(ve<=Te),e(g<=Ae),e(ni(be));t:for(;;){for(;!le.h&&ve<Ce;){if(Z&De||(Le=ur(be,Z,K)),e(Le!=null),ne(le),256>(Ae=Cn(Le.G[0],Le.H[0],le)))H[ee+ve]=Ae,++ve,++Z>=he&&(Z=0,++K<=g&&!(K%16)&&Hr($,K));else{if(!(280>Ae)){ge=0;break t}Ae=wn(Ae-256,le);var st,Ke=Cn(Le.G[4],Le.H[4],le);if(ne(le),!(ve>=(Ke=Vn(he,Ke=wn(Ke,le)))&&Te-ve>=Ae)){ge=0;break t}for(st=0;st<Ae;++st)H[ee+ve+st]=H[ee+ve+st-Ke];for(ve+=Ae,Z+=Ae;Z>=he;)Z-=he,++K<=g&&!(K%16)&&Hr($,K);ve<Ce&&Z&De&&(Le=ur(be,Z,K))}e(le.h==M(le))}Hr($,K>g?g:K);break t}!ge||le.h&&ve<Te?(ge=0,$.a=le.h?5:3):$.$=ve,g=ge}else g=ii($,$.V,$.Ba,$.c,$.i,g,oo);if(!g){T=0;break e}}w+T>=q&&(d.Cc=1),T=1}if(!T)return null;if(d.Cc&&((T=d.ga)!=null&&(T.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+w*F}function f(d,g,w,T,F,q){for(;0<F--;){var $,H=d,K=g+(w?1:0),Z=d,le=g+(w?0:3);for($=0;$<T;++$){var be=Z[le+4*$];be!=255&&(be*=32897,H[K+4*$+0]=H[K+4*$+0]*be>>23,H[K+4*$+1]=H[K+4*$+1]*be>>23,H[K+4*$+2]=H[K+4*$+2]*be>>23)}g+=q}}function _(d,g,w,T,F){for(;0<T--;){var q;for(q=0;q<w;++q){var $=d[g+2*q+0],H=15&(Z=d[g+2*q+1]),K=4369*H,Z=(240&Z|Z>>4)*K>>16;d[g+2*q+0]=(240&$|$>>4)*K>>16&240|(15&$|$<<4)*K>>16>>4&15,d[g+2*q+1]=240&Z|H}g+=F}}function R(d,g,w,T,F,q,$,H){var K,Z,le=255;for(Z=0;Z<F;++Z){for(K=0;K<T;++K){var be=d[g+K];q[$+4*K]=be,le&=be}g+=w,$+=H}return le!=255}function W(d,g,w,T,F){var q;for(q=0;q<F;++q)w[T+q]=d[g+q]>>8}function me(){Gu=f,iy=_,sy=R,oy=W}function xe(d,g,w){P[d]=function(T,F,q,$,H,K,Z,le,be,ee,he,ge,Ae,ve,Te,Ce,De){var Le,st=De-1>>1,Ke=H[K+0]|Z[le+0]<<16,Bt=be[ee+0]|he[ge+0]<<16;e(T!=null);var Ze=3*Ke+Bt+131074>>2;for(g(T[F+0],255&Ze,Ze>>16,Ae,ve),q!=null&&(Ze=3*Bt+Ke+131074>>2,g(q[$+0],255&Ze,Ze>>16,Te,Ce)),Le=1;Le<=st;++Le){var Qt=H[K+Le]|Z[le+Le]<<16,dr=be[ee+Le]|he[ge+Le]<<16,Ut=Ke+Qt+Bt+dr+524296,et=Ut+2*(Qt+Bt)>>3;Ze=et+Ke>>1,Ke=(Ut=Ut+2*(Ke+dr)>>3)+Qt>>1,g(T[F+2*Le-1],255&Ze,Ze>>16,Ae,ve+(2*Le-1)*w),g(T[F+2*Le-0],255&Ke,Ke>>16,Ae,ve+(2*Le-0)*w),q!=null&&(Ze=Ut+Bt>>1,Ke=et+dr>>1,g(q[$+2*Le-1],255&Ze,Ze>>16,Te,Ce+(2*Le-1)*w),g(q[$+2*Le+0],255&Ke,Ke>>16,Te,Ce+(2*Le+0)*w)),Ke=Qt,Bt=dr}1&De||(Ze=3*Ke+Bt+131074>>2,g(T[F+De-1],255&Ze,Ze>>16,Ae,ve+(De-1)*w),q!=null&&(Ze=3*Bt+Ke+131074>>2,g(q[$+De-1],255&Ze,Ze>>16,Te,Ce+(De-1)*w)))}}function Be(){Wi[jd]=R3,Wi[Ld]=yy,Wi[dy]=j3,Wi[Od]=vy,Wi[Dd]=by,Wi[xm]=xy,Wi[fy]=L3,Wi[wm]=yy,Wi[_m]=vy,Wi[Md]=by,Wi[Nm]=xy}function St(d){return d&~O3?0>d?0:255:d>>wy}function An(d,g){return St((19077*d>>8)+(26149*g>>8)-14234)}function Gt(d,g,w){return St((19077*d>>8)-(6419*g>>8)-(13320*w>>8)+8708)}function kn(d,g){return St((19077*d>>8)+(33050*g>>8)-17685)}function yr(d,g,w,T,F){T[F+0]=An(d,w),T[F+1]=Gt(d,g,w),T[F+2]=kn(d,g)}function Yr(d,g,w,T,F){T[F+0]=kn(d,g),T[F+1]=Gt(d,g,w),T[F+2]=An(d,w)}function jn(d,g,w,T,F){var q=Gt(d,g,w);g=q<<3&224|kn(d,g)>>3,T[F+0]=248&An(d,w)|q>>5,T[F+1]=g}function jr(d,g,w,T,F){var q=240&kn(d,g)|15;T[F+0]=240&An(d,w)|Gt(d,g,w)>>4,T[F+1]=q}function zi(d,g,w,T,F){T[F+0]=255,yr(d,g,w,T,F+1)}function go(d,g,w,T,F){Yr(d,g,w,T,F),T[F+3]=255}function Fu(d,g,w,T,F){yr(d,g,w,T,F),T[F+3]=255}function Hn(d,g){return 0>d?0:d>g?g:d}function yo(d,g,w){P[d]=function(T,F,q,$,H,K,Z,le,be){for(var ee=le+(-2&be)*w;le!=ee;)g(T[F+0],q[$+0],H[K+0],Z,le),g(T[F+1],q[$+0],H[K+0],Z,le+w),F+=2,++$,++K,le+=2*w;1&be&&g(T[F+0],q[$+0],H[K+0],Z,le)}}function vc(d,g,w){return w==0?d==0?g==0?6:5:g==0?4:0:w}function Id(d,g,w,T,F){switch(d>>>30){case 3:bl(g,w,T,F,0);break;case 2:$i(g,w,T,F);break;case 1:dn(g,w,T,F)}}function qi(d,g){var w,T,F=g.M,q=g.Nb,$=d.oc,H=d.pc+40,K=d.oc,Z=d.pc+584,le=d.oc,be=d.pc+600;for(w=0;16>w;++w)$[H+32*w-1]=129;for(w=0;8>w;++w)K[Z+32*w-1]=129,le[be+32*w-1]=129;for(0<F?$[H-1-32]=K[Z-1-32]=le[be-1-32]=129:(i($,H-32-1,127,21),i(K,Z-32-1,127,9),i(le,be-32-1,127,9)),T=0;T<d.za;++T){var ee=g.ya[g.aa+T];if(0<T){for(w=-1;16>w;++w)r($,H+32*w-4,$,H+32*w+12,4);for(w=-1;8>w;++w)r(K,Z+32*w-4,K,Z+32*w+4,4),r(le,be+32*w-4,le,be+32*w+4,4)}var he=d.Gd,ge=d.Hd+T,Ae=ee.ad,ve=ee.Hc;if(0<F&&(r($,H-32,he[ge].y,0,16),r(K,Z-32,he[ge].f,0,8),r(le,be-32,he[ge].ea,0,8)),ee.Za){var Te=$,Ce=H-32+16;for(0<F&&(T>=d.za-1?i(Te,Ce,he[ge].y[15],4):r(Te,Ce,he[ge+1].y,0,4)),w=0;4>w;w++)Te[Ce+128+w]=Te[Ce+256+w]=Te[Ce+384+w]=Te[Ce+0+w];for(w=0;16>w;++w,ve<<=2)Te=$,Ce=H+Ny[w],ns[ee.Ob[w]](Te,Ce),Id(ve,Ae,16*+w,Te,Ce)}else if(Te=vc(T,F,ee.Ob[0]),aa[Te]($,H),ve!=0)for(w=0;16>w;++w,ve<<=2)Id(ve,Ae,16*+w,$,H+Ny[w]);for(w=ee.Gc,Te=vc(T,F,ee.Dd),xo[Te](K,Z),xo[Te](le,be),ve=Ae,Te=K,Ce=Z,255&(ee=0|w)&&(170&ee?js(ve,256,Te,Ce):En(ve,256,Te,Ce)),ee=le,ve=be,255&(w>>=8)&&(170&w?js(Ae,320,ee,ve):En(Ae,320,ee,ve)),F<d.Ub-1&&(r(he[ge].y,0,$,H+480,16),r(he[ge].f,0,K,Z+224,8),r(he[ge].ea,0,le,be+224,8)),w=8*q*d.B,he=d.sa,ge=d.ta+16*T+16*q*d.R,Ae=d.qa,ee=d.ra+8*T+w,ve=d.Ha,Te=d.Ia+8*T+w,w=0;16>w;++w)r(he,ge+w*d.R,$,H+32*w,16);for(w=0;8>w;++w)r(Ae,ee+w*d.B,K,Z+32*w,8),r(ve,Te+w*d.B,le,be+32*w,8)}}function gl(d,g,w,T,F,q,$,H,K){var Z=[0],le=[0],be=0,ee=K!=null?K.kd:0,he=K??new Ee;if(d==null||12>w)return 7;he.data=d,he.w=g,he.ha=w,g=[g],w=[w],he.gb=[he.gb];e:{var ge=g,Ae=w,ve=he.gb;if(e(d!=null),e(Ae!=null),e(ve!=null),ve[0]=0,12<=Ae[0]&&!n(d,ge[0],"RIFF")){if(n(d,ge[0]+8,"WEBP")){ve=3;break e}var Te=we(d,ge[0]+4);if(12>Te||4294967286<Te){ve=3;break e}if(ee&&Te>Ae[0]-8){ve=7;break e}ve[0]=Te,ge[0]+=12,Ae[0]-=12}ve=0}if(ve!=0)return ve;for(Te=0<he.gb[0],w=w[0];;){e:{var Ce=d;Ae=g,ve=w;var De=Z,Le=le,st=ge=[0];if((Ze=be=[be])[0]=0,8>ve[0])ve=7;else{if(!n(Ce,Ae[0],"VP8X")){if(we(Ce,Ae[0]+4)!=10){ve=3;break e}if(18>ve[0]){ve=7;break e}var Ke=we(Ce,Ae[0]+8),Bt=1+Fe(Ce,Ae[0]+12);if(2147483648<=Bt*(Ce=1+Fe(Ce,Ae[0]+15))){ve=3;break e}st!=null&&(st[0]=Ke),De!=null&&(De[0]=Bt),Le!=null&&(Le[0]=Ce),Ae[0]+=18,ve[0]-=18,Ze[0]=1}ve=0}}if(be=be[0],ge=ge[0],ve!=0)return ve;if(Ae=!!(2&ge),!Te&&be)return 3;if(q!=null&&(q[0]=!!(16&ge)),$!=null&&($[0]=Ae),H!=null&&(H[0]=0),$=Z[0],ge=le[0],be&&Ae&&K==null){ve=0;break}if(4>w){ve=7;break}if(Te&&be||!Te&&!be&&!n(d,g[0],"ALPH")){w=[w],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{Ke=d,ve=g,Te=w;var Ze=he.gb;De=he.na,Le=he.P,st=he.Sa,Bt=22,e(Ke!=null),e(Te!=null),Ce=ve[0];var Qt=Te[0];for(e(De!=null),e(st!=null),De[0]=null,Le[0]=null,st[0]=0;;){if(ve[0]=Ce,Te[0]=Qt,8>Qt){ve=7;break e}var dr=we(Ke,Ce+4);if(4294967286<dr){ve=3;break e}var Ut=8+dr+1&-2;if(Bt+=Ut,0<Ze&&Bt>Ze){ve=3;break e}if(!n(Ke,Ce,"VP8 ")||!n(Ke,Ce,"VP8L")){ve=0;break e}if(Qt[0]<Ut){ve=7;break e}n(Ke,Ce,"ALPH")||(De[0]=Ke,Le[0]=Ce+8,st[0]=dr),Ce+=Ut,Qt-=Ut}}if(w=w[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],ve!=0)break}w=[w],he.Ja=[he.Ja],he.xa=[he.xa];e:if(Ze=d,ve=g,Te=w,De=he.gb[0],Le=he.Ja,st=he.xa,Ke=ve[0],Ce=!n(Ze,Ke,"VP8 "),Bt=!n(Ze,Ke,"VP8L"),e(Ze!=null),e(Te!=null),e(Le!=null),e(st!=null),8>Te[0])ve=7;else{if(Ce||Bt){if(Ze=we(Ze,Ke+4),12<=De&&Ze>De-12){ve=3;break e}if(ee&&Ze>Te[0]-8){ve=7;break e}Le[0]=Ze,ve[0]+=8,Te[0]-=8,st[0]=Bt}else st[0]=5<=Te[0]&&Ze[Ke+0]==47&&!(Ze[Ke+4]>>5),Le[0]=Te[0];ve=0}if(w=w[0],he.Ja=he.Ja[0],he.xa=he.xa[0],g=g[0],ve!=0)break;if(4294967286<he.Ja)return 3;if(H==null||Ae||(H[0]=he.xa?2:1),$=[$],ge=[ge],he.xa){if(5>w){ve=7;break}H=$,ee=ge,Ae=q,d==null||5>w?d=0:5<=w&&d[g+0]==47&&!(d[g+4]>>5)?(Te=[0],Ze=[0],De=[0],ae(Le=new Y,d,g,w),$n(Le,Te,Ze,De)?(H!=null&&(H[0]=Te[0]),ee!=null&&(ee[0]=Ze[0]),Ae!=null&&(Ae[0]=De[0]),d=1):d=0):d=0}else{if(10>w){ve=7;break}H=ge,d==null||10>w||!Ns(d,g+3,w-3)?d=0:(ee=d[g+0]|d[g+1]<<8|d[g+2]<<16,Ae=16383&(d[g+7]<<8|d[g+6]),d=16383&(d[g+9]<<8|d[g+8]),1&ee||3<(ee>>1&7)||!(ee>>4&1)||ee>>5>=he.Ja||!Ae||!d?d=0:($&&($[0]=Ae),H&&(H[0]=d),d=1))}if(!d||($=$[0],ge=ge[0],be&&(Z[0]!=$||le[0]!=ge)))return 3;K!=null&&(K[0]=he,K.offset=g-K.w,e(4294967286>g-K.w),e(K.offset==K.ha-w));break}return ve==0||ve==7&&be&&K==null?(q!=null&&(q[0]|=he.na!=null&&0<he.na.length),T!=null&&(T[0]=$),F!=null&&(F[0]=ge),0):ve}function Vu(d,g,w){var T=g.width,F=g.height,q=0,$=0,H=T,K=F;if(g.Da=d!=null&&0<d.Da,g.Da&&(H=d.cd,K=d.bd,q=d.v,$=d.j,11>w||(q&=-2,$&=-2),0>q||0>$||0>=H||0>=K||q+H>T||$+K>F))return 0;if(g.v=q,g.j=$,g.va=q+H,g.o=$+K,g.U=H,g.T=K,g.da=d!=null&&0<d.da,g.da){if(!Qe(H,K,w=[d.ib],q=[d.hb]))return 0;g.ib=w[0],g.hb=q[0]}return g.ob=d!=null&&d.ob,g.Kb=d==null||!d.Sd,g.da&&(g.ob=g.ib<3*T/4&&g.hb<3*F/4,g.Kb=0),1}function Bu(d){if(d==null)return 2;if(11>d.S){var g=d.f.RGBA;g.fb+=(d.height-1)*g.A,g.A=-g.A}else g=d.f.kb,d=d.height,g.O+=(d-1)*g.fa,g.fa=-g.fa,g.N+=(d-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(d-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(d-1)*g.lb,g.lb=-g.lb);return 0}function ea(d,g,w,T){if(T==null||0>=d||0>=g)return 2;if(w!=null){if(w.Da){var F=w.cd,q=w.bd,$=-2&w.v,H=-2&w.j;if(0>$||0>H||0>=F||0>=q||$+F>d||H+q>g)return 2;d=F,g=q}if(w.da){if(!Qe(d,g,F=[w.ib],q=[w.hb]))return 2;d=F[0],g=q[0]}}T.width=d,T.height=g;e:{var K=T.width,Z=T.height;if(d=T.S,0>=K||0>=Z||!(d>=jd&&13>d))d=2;else{if(0>=T.Rd&&T.sd==null){$=q=F=g=0;var le=(H=K*Ay[d])*Z;if(11>d||(q=(Z+1)/2*(g=(K+1)/2),d==12&&($=(F=K)*Z)),(Z=s(le+2*q+$))==null){d=1;break e}T.sd=Z,11>d?((K=T.f.RGBA).eb=Z,K.fb=0,K.A=H,K.size=le):((K=T.f.kb).y=Z,K.O=0,K.fa=H,K.Fd=le,K.f=Z,K.N=0+le,K.Ab=g,K.Cd=q,K.ea=Z,K.W=0+le+q,K.Db=g,K.Ed=q,d==12&&(K.F=Z,K.J=0+le+2*q),K.Tc=$,K.lb=F)}if(g=1,F=T.S,q=T.width,$=T.height,F>=jd&&13>F)if(11>F)d=T.f.RGBA,g&=(H=Math.abs(d.A))*($-1)+q<=d.size,g&=H>=q*Ay[F],g&=d.eb!=null;else{d=T.f.kb,H=(q+1)/2,le=($+1)/2,K=Math.abs(d.fa),Z=Math.abs(d.Ab);var be=Math.abs(d.Db),ee=Math.abs(d.lb),he=ee*($-1)+q;g&=K*($-1)+q<=d.Fd,g&=Z*(le-1)+H<=d.Cd,g=(g&=be*(le-1)+H<=d.Ed)&K>=q&Z>=H&be>=H,g&=d.y!=null,g&=d.f!=null,g&=d.ea!=null,F==12&&(g&=ee>=q,g&=he<=d.Tc,g&=d.F!=null)}else g=0;d=g?0:2}}return d!=0||w!=null&&w.fd&&(d=Bu(T)),d}var yl=64,vi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],bi=24,ta=32,vo=8,na=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(d){return d},P.Predictor2=function(d,g,w){return g[w+0]},P.Predictor3=function(d,g,w){return g[w+1]},P.Predictor4=function(d,g,w){return g[w-1]},P.Predictor5=function(d,g,w){return Ge(Ge(d,g[w+1]),g[w+0])},P.Predictor6=function(d,g,w){return Ge(d,g[w-1])},P.Predictor7=function(d,g,w){return Ge(d,g[w+0])},P.Predictor8=function(d,g,w){return Ge(g[w-1],g[w+0])},P.Predictor9=function(d,g,w){return Ge(g[w+0],g[w+1])},P.Predictor10=function(d,g,w){return Ge(Ge(d,g[w-1]),Ge(g[w+0],g[w+1]))},P.Predictor11=function(d,g,w){var T=g[w+0];return 0>=nt(T>>24&255,d>>24&255,(g=g[w-1])>>24&255)+nt(T>>16&255,d>>16&255,g>>16&255)+nt(T>>8&255,d>>8&255,g>>8&255)+nt(255&T,255&d,255&g)?T:d},P.Predictor12=function(d,g,w){var T=g[w+0];return(Xt((d>>24&255)+(T>>24&255)-((g=g[w-1])>>24&255))<<24|Xt((d>>16&255)+(T>>16&255)-(g>>16&255))<<16|Xt((d>>8&255)+(T>>8&255)-(g>>8&255))<<8|Xt((255&d)+(255&T)-(255&g)))>>>0},P.Predictor13=function(d,g,w){var T=g[w-1];return(pt((d=Ge(d,g[w+0]))>>24&255,T>>24&255)<<24|pt(d>>16&255,T>>16&255)<<16|pt(d>>8&255,T>>8&255)<<8|pt(255&d,255&T))>>>0};var Uu=P.PredictorAdd0;P.PredictorAdd1=qt,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var bc=P.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Xn,Pd=P.ColorIndexInverseTransform,ks=P.MapARGB,Rs=P.VP8LColorIndexInverseTransformAlpha,zu=P.MapAlpha,qu=P.VP8LPredictorsAdd=[];qu.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var $u,Hu,ra,ia,sa,vl,oa,bl,$i,js,dn,En,Qn,hr,bo,Wu,xc,kd,Q2,Z2,ey,ty,ny,ry,Gu,iy,sy,oy,ay=s(511),ly=s(2041),cy=s(225),uy=s(767),hy=0,bm=ly,Rd=cy,xi=uy,Hi=ay,jd=0,Ld=1,dy=2,Od=3,Dd=4,xm=5,fy=6,wm=7,_m=8,Md=9,Nm=10,v3=[2,3,7],b3=[3,3,11],py=[280,256,256,256,40],x3=[0,1,1,1,0],w3=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],_3=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],N3=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],A3=8,Am=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Em=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ku=null,E3=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],S3=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],my=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],T3=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],C3=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],I3=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],P3=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],aa=[],ns=[],xo=[],k3=1,gy=2,la=[],Wi=[];xe("UpsampleRgbLinePair",yr,3),xe("UpsampleBgrLinePair",Yr,3),xe("UpsampleRgbaLinePair",Fu,4),xe("UpsampleBgraLinePair",go,4),xe("UpsampleArgbLinePair",zi,4),xe("UpsampleRgba4444LinePair",jr,2),xe("UpsampleRgb565LinePair",jn,2);var R3=P.UpsampleRgbLinePair,j3=P.UpsampleBgrLinePair,yy=P.UpsampleRgbaLinePair,vy=P.UpsampleBgraLinePair,by=P.UpsampleArgbLinePair,xy=P.UpsampleRgba4444LinePair,L3=P.UpsampleRgb565LinePair,Fd=16,Vd=1<<Fd-1,Yu=-227,Sm=482,wy=6,O3=(256<<wy)-1,_y=0,D3=s(256),M3=s(256),F3=s(256),V3=s(256),B3=s(Sm-Yu),U3=s(Sm-Yu);yo("YuvToRgbRow",yr,3),yo("YuvToBgrRow",Yr,3),yo("YuvToRgbaRow",Fu,4),yo("YuvToBgraRow",go,4),yo("YuvToArgbRow",zi,4),yo("YuvToRgba4444Row",jr,2),yo("YuvToRgb565Row",jn,2);var Ny=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bd=[0,2,8],z3=[8,7,6,4,4,2,2,2,1,1,1,1],q3=1;this.WebPDecodeRGBA=function(d,g,w,T,F){var q=Ld,$=new de,H=new Nt;$.ba=H,H.S=q,H.width=[H.width],H.height=[H.height];var K=H.width,Z=H.height,le=new ot;if(le==null||d==null)var be=2;else e(le!=null),be=gl(d,g,w,le.width,le.height,le.Pd,le.Qd,le.format,null);if(be!=0?K=0:(K!=null&&(K[0]=le.width[0]),Z!=null&&(Z[0]=le.height[0]),K=1),K){H.width=H.width[0],H.height=H.height[0],T!=null&&(T[0]=H.width),F!=null&&(F[0]=H.height);e:{if(T=new Ho,(F=new Ee).data=d,F.w=g,F.ha=w,F.kd=1,g=[0],e(F!=null),((d=gl(F.data,F.w,F.ha,null,null,null,g,null,F))==0||d==7)&&g[0]&&(d=4),(g=d)==0){if(e($!=null),T.data=F.data,T.w=F.w+F.offset,T.ha=F.ha-F.offset,T.put=Ye,T.ac=mn,T.bc=or,T.ma=$,F.xa){if((d=ws())==null){$=1;break e}if(function(ee,he){var ge=[0],Ae=[0],ve=[0];t:for(;;){if(ee==null)return 0;if(he==null)return ee.a=2,0;if(ee.l=he,ee.a=0,ae(ee.m,he.data,he.w,he.ha),!$n(ee.m,ge,Ae,ve)){ee.a=3;break t}if(ee.xb=gy,he.width=ge[0],he.height=Ae[0],!Oi(ge[0],Ae[0],1,ee,null))break t;return 1}return e(ee.a!=0),0}(d,T)){if(T=(g=ea(T.width,T.height,$.Oa,$.ba))==0){t:{T=d;n:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((w=T.l)!=null),e((F=w.ma)!=null),T.xb!=0){if(T.ca=F.ba,T.tb=F.tb,e(T.ca!=null),!Vu(F.Oa,w,Od)){T.a=2;break n}if(!Di(T,w.width)||w.da)break n;if((w.da||vt(T.ca.S))&&me(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&me()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!te(T.s.vb,T.s.Wa.Xa)){T.a=1;break n}T.xb=0}if(!ii(T,T.V,T.Ba,T.c,T.i,w.o,Zi))break n;F.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(g=d.a)}else g=d.a}else{if((d=new Fi)==null){$=1;break e}if(d.Fa=F.na,d.P=F.P,d.qc=F.Sa,As(d,T)){if((g=ea(T.width,T.height,$.Oa,$.ba))==0){if(d.Aa=0,w=$.Oa,e((F=d)!=null),w!=null){if(0<(K=0>(K=w.Md)?0:100<K?255:255*K/100)){for(Z=le=0;4>Z;++Z)12>(be=F.pb[Z]).lc&&(be.ia=K*z3[0>be.lc?0:be.lc]>>3),le|=be.ia;le&&(alert("todo:VP8InitRandom"),F.ia=1)}F.Ga=w.Id,100<F.Ga?F.Ga=100:0>F.Ga&&(F.Ga=0)}(function(ee,he){if(ee==null)return 0;if(he==null)return cn(ee,2,"NULL VP8Io parameter in VP8Decode().");if(!ee.cb&&!As(ee,he))return 0;if(e(ee.cb),he.ac==null||he.ac(he)){he.ob&&(ee.L=0);var ge=Bd[ee.L];if(ee.L==2?(ee.yb=0,ee.zb=0):(ee.yb=he.v-ge>>4,ee.zb=he.j-ge>>4,0>ee.yb&&(ee.yb=0),0>ee.zb&&(ee.zb=0)),ee.Va=he.o+15+ge>>4,ee.Hb=he.va+15+ge>>4,ee.Hb>ee.za&&(ee.Hb=ee.za),ee.Va>ee.Ub&&(ee.Va=ee.Ub),0<ee.L){var Ae=ee.ed;for(ge=0;4>ge;++ge){var ve;if(ee.Qa.Cb){var Te=ee.Qa.Lb[ge];ee.Qa.Fb||(Te+=Ae.Tb)}else Te=Ae.Tb;for(ve=0;1>=ve;++ve){var Ce=ee.gd[ge][ve],De=Te;if(Ae.Pc&&(De+=Ae.vd[0],ve&&(De+=Ae.od[0])),0<(De=0>De?0:63<De?63:De)){var Le=De;0<Ae.wb&&(Le=4<Ae.wb?Le>>2:Le>>1)>9-Ae.wb&&(Le=9-Ae.wb),1>Le&&(Le=1),Ce.dd=Le,Ce.tc=2*De+Le,Ce.ld=40<=De?2:15<=De?1:0}else Ce.tc=0;Ce.La=ve}}}ge=0}else cn(ee,6,"Frame setup failed"),ge=ee.a;if(ge=ge==0){if(ge){ee.$c=0,0<ee.Aa||(ee.Ic=q3);t:{ge=ee.Ic,Ae=4*(Le=ee.za);var st=32*Le,Ke=Le+1,Bt=0<ee.L?Le*(0<ee.Aa?2:1):0,Ze=(ee.Aa==2?2:1)*Le;if((Ce=Ae+832+(ve=3*(16*ge+Bd[ee.L])/2*st)+(Te=ee.Fa!=null&&0<ee.Fa.length?ee.Kc.c*ee.Kc.i:0))!=Ce)ge=0;else{if(Ce>ee.Vb){if(ee.Vb=0,ee.Ec=s(Ce),ee.Fc=0,ee.Ec==null){ge=cn(ee,1,"no memory during frame initialization.");break t}ee.Vb=Ce}Ce=ee.Ec,De=ee.Fc,ee.Ac=Ce,ee.Bc=De,De+=Ae,ee.Gd=o(st,ll),ee.Hd=0,ee.rb=o(Ke+1,qo),ee.sb=1,ee.wa=Bt?o(Bt,Wr):null,ee.Y=0,ee.D.Nb=0,ee.D.wa=ee.wa,ee.D.Y=ee.Y,0<ee.Aa&&(ee.D.Y+=Le),e(!0),ee.oc=Ce,ee.pc=De,De+=832,ee.ya=o(Ze,lo),ee.aa=0,ee.D.ya=ee.ya,ee.D.aa=ee.aa,ee.Aa==2&&(ee.D.aa+=Le),ee.R=16*Le,ee.B=8*Le,Le=(st=Bd[ee.L])*ee.R,st=st/2*ee.B,ee.sa=Ce,ee.ta=De+Le,ee.qa=ee.sa,ee.ra=ee.ta+16*ge*ee.R+st,ee.Ha=ee.qa,ee.Ia=ee.ra+8*ge*ee.B+st,ee.$c=0,De+=ve,ee.mb=Te?Ce:null,ee.nb=Te?De:null,e(De+Te<=ee.Fc+ee.Vb),sn(ee),i(ee.Ac,ee.Bc,0,Ae),ge=1}}if(ge){if(he.ka=0,he.y=ee.sa,he.O=ee.ta,he.f=ee.qa,he.N=ee.ra,he.ea=ee.Ha,he.Vd=ee.Ia,he.fa=ee.R,he.Rc=ee.B,he.F=null,he.J=0,!hy){for(ge=-255;255>=ge;++ge)ay[255+ge]=0>ge?-ge:ge;for(ge=-1020;1020>=ge;++ge)ly[1020+ge]=-128>ge?-128:127<ge?127:ge;for(ge=-112;112>=ge;++ge)cy[112+ge]=-16>ge?-16:15<ge?15:ge;for(ge=-255;510>=ge;++ge)uy[255+ge]=0>ge?0:255<ge?255:ge;hy=1}oa=Es,bl=Ou,js=Du,dn=Vi,En=dc,$i=hc,Qn=pl,hr=ml,bo=b,Wu=D,xc=ts,kd=Zo,Q2=Q,Z2=se,ey=Is,ty=Ps,ny=mo,ry=yc,ns[0]=gc,ns[1]=Wo,ns[2]=hl,ns[3]=Ko,ns[4]=uo,ns[5]=Bi,ns[6]=Gr,ns[7]=dl,ns[8]=Yo,ns[9]=In,aa[0]=Ss,aa[1]=pc,aa[2]=mc,aa[3]=Go,aa[4]=Mu,aa[5]=co,aa[6]=ai,xo[0]=fo,xo[1]=fc,xo[2]=fl,xo[3]=Ts,xo[4]=li,xo[5]=Jo,xo[6]=Xo,ge=1}else ge=0}ge&&(ge=function(Qt,dr){for(Qt.M=0;Qt.M<Qt.Va;++Qt.M){var Ut,et=Qt.Jc[Qt.M&Qt.Xb],ze=Qt.m,Zn=Qt;for(Ut=0;Ut<Zn.za;++Ut){var jt=ze,tn=Zn,Ln=tn.Ac,Nr=tn.Bc+4*Ut,Jr=tn.zc,Wn=tn.ya[tn.aa+Ut];if(tn.Qa.Bb?Wn.$b=ye(jt,tn.Pa.jb[0])?2+ye(jt,tn.Pa.jb[2]):ye(jt,tn.Pa.jb[1]):Wn.$b=0,tn.kc&&(Wn.Ad=ye(jt,tn.Bd)),Wn.Za=!ye(jt,145)+0,Wn.Za){var Lr=Wn.Ob,Xr=0;for(tn=0;4>tn;++tn){var fr,on=Jr[0+tn];for(fr=0;4>fr;++fr){on=C3[Ln[Nr+fr]][on];for(var gn=my[ye(jt,on[0])];0<gn;)gn=my[2*gn+ye(jt,on[gn])];on=-gn,Ln[Nr+fr]=on}r(Lr,Xr,Ln,Nr,4),Xr+=4,Jr[0+tn]=on}}else on=ye(jt,156)?ye(jt,128)?1:3:ye(jt,163)?2:0,Wn.Ob[0]=on,i(Ln,Nr,on,4),i(Jr,0,on,4);Wn.Dd=ye(jt,142)?ye(jt,114)?ye(jt,183)?1:3:2:0}if(Zn.m.Ka)return cn(Qt,7,"Premature end-of-partition0 encountered.");for(;Qt.ja<Qt.za;++Qt.ja){if(Zn=et,jt=(ze=Qt).rb[ze.sb-1],Ln=ze.rb[ze.sb+ze.ja],Ut=ze.ya[ze.aa+ze.ja],Nr=ze.kc?Ut.Ad:0)jt.la=Ln.la=0,Ut.Za||(jt.Na=Ln.Na=0),Ut.Hc=0,Ut.Gc=0,Ut.ia=0;else{var Gn,yn;if(jt=Ln,Ln=Zn,Nr=ze.Pa.Xc,Jr=ze.ya[ze.aa+ze.ja],Wn=ze.pb[Jr.$b],tn=Jr.ad,Lr=0,Xr=ze.rb[ze.sb-1],on=fr=0,i(tn,Lr,0,384),Jr.Za)var Ar=0,rs=Nr[3];else{gn=s(16);var er=jt.Na+Xr.Na;if(er=Ku(Ln,Nr[1],er,Wn.Eb,0,gn,0),jt.Na=Xr.Na=(0<er)+0,1<er)oa(gn,0,tn,Lr);else{var ci=gn[0]+3>>3;for(gn=0;256>gn;gn+=16)tn[Lr+gn]=ci}Ar=1,rs=Nr[0]}var Sn=15&jt.la,pr=15&Xr.la;for(gn=0;4>gn;++gn){var wi=1&pr;for(ci=yn=0;4>ci;++ci)Sn=Sn>>1|(wi=(er=Ku(Ln,rs,er=wi+(1&Sn),Wn.Sc,Ar,tn,Lr))>Ar)<<7,yn=yn<<2|(3<er?3:1<er?2:tn[Lr+0]!=0),Lr+=16;Sn>>=4,pr=pr>>1|wi<<7,fr=(fr<<8|yn)>>>0}for(rs=Sn,Ar=pr>>4,Gn=0;4>Gn;Gn+=2){for(yn=0,Sn=jt.la>>4+Gn,pr=Xr.la>>4+Gn,gn=0;2>gn;++gn){for(wi=1&pr,ci=0;2>ci;++ci)er=wi+(1&Sn),Sn=Sn>>1|(wi=0<(er=Ku(Ln,Nr[2],er,Wn.Qc,0,tn,Lr)))<<3,yn=yn<<2|(3<er?3:1<er?2:tn[Lr+0]!=0),Lr+=16;Sn>>=2,pr=pr>>1|wi<<5}on|=yn<<4*Gn,rs|=Sn<<4<<Gn,Ar|=(240&pr)<<Gn}jt.la=rs,Xr.la=Ar,Jr.Hc=fr,Jr.Gc=on,Jr.ia=43690&on?0:Wn.ia,Nr=!(fr|on)}if(0<ze.L&&(ze.wa[ze.Y+ze.ja]=ze.gd[Ut.$b][Ut.Za],ze.wa[ze.Y+ze.ja].La|=!Nr),Zn.Ka)return cn(Qt,7,"Premature end-of-file encountered.")}if(sn(Qt),ze=dr,Zn=1,Ut=(et=Qt).D,jt=0<et.L&&et.M>=et.zb&&et.M<=et.Va,et.Aa==0)t:{if(Ut.M=et.M,Ut.uc=jt,qi(et,Ut),Zn=1,Ut=(yn=et.D).Nb,jt=(on=Bd[et.L])*et.R,Ln=on/2*et.B,gn=16*Ut*et.R,ci=8*Ut*et.B,Nr=et.sa,Jr=et.ta-jt+gn,Wn=et.qa,tn=et.ra-Ln+ci,Lr=et.Ha,Xr=et.Ia-Ln+ci,pr=(Sn=yn.M)==0,fr=Sn>=et.Va-1,et.Aa==2&&qi(et,yn),yn.uc)for(wi=(er=et).D.M,e(er.D.uc),yn=er.yb;yn<er.Hb;++yn){Ar=yn,rs=wi;var Qr=(_i=(Er=er).D).Nb;Gn=Er.R;var _i=_i.wa[_i.Y+Ar],Ni=Er.sa,ui=Er.ta+16*Qr*Gn+16*Ar,Ai=_i.dd,Rn=_i.tc;if(Rn!=0)if(e(3<=Rn),Er.L==1)0<Ar&&ty(Ni,ui,Gn,Rn+4),_i.La&&ry(Ni,ui,Gn,Rn),0<rs&&ey(Ni,ui,Gn,Rn+4),_i.La&&ny(Ni,ui,Gn,Rn);else{var Ei=Er.B,is=Er.qa,xl=Er.ra+8*Qr*Ei+8*Ar,wo=Er.Ha,Er=Er.Ia+8*Qr*Ei+8*Ar;Qr=_i.ld,0<Ar&&(hr(Ni,ui,Gn,Rn+4,Ai,Qr),Wu(is,xl,wo,Er,Ei,Rn+4,Ai,Qr)),_i.La&&(kd(Ni,ui,Gn,Rn,Ai,Qr),Z2(is,xl,wo,Er,Ei,Rn,Ai,Qr)),0<rs&&(Qn(Ni,ui,Gn,Rn+4,Ai,Qr),bo(is,xl,wo,Er,Ei,Rn+4,Ai,Qr)),_i.La&&(xc(Ni,ui,Gn,Rn,Ai,Qr),Q2(is,xl,wo,Er,Ei,Rn,Ai,Qr))}}if(et.ia&&alert("todo:DitherRow"),ze.put!=null){if(yn=16*Sn,Sn=16*(Sn+1),pr?(ze.y=et.sa,ze.O=et.ta+gn,ze.f=et.qa,ze.N=et.ra+ci,ze.ea=et.Ha,ze.W=et.Ia+ci):(yn-=on,ze.y=Nr,ze.O=Jr,ze.f=Wn,ze.N=tn,ze.ea=Lr,ze.W=Xr),fr||(Sn-=on),Sn>ze.o&&(Sn=ze.o),ze.F=null,ze.J=null,et.Fa!=null&&0<et.Fa.length&&yn<Sn&&(ze.J=Nn(et,ze,yn,Sn-yn),ze.F=et.mb,ze.F==null&&ze.F.length==0)){Zn=cn(et,3,"Could not decode alpha data.");break t}yn<ze.j&&(on=ze.j-yn,yn=ze.j,e(!(1&on)),ze.O+=et.R*on,ze.N+=et.B*(on>>1),ze.W+=et.B*(on>>1),ze.F!=null&&(ze.J+=ze.width*on)),yn<Sn&&(ze.O+=ze.v,ze.N+=ze.v>>1,ze.W+=ze.v>>1,ze.F!=null&&(ze.J+=ze.v),ze.ka=yn-ze.j,ze.U=ze.va-ze.v,ze.T=Sn-yn,Zn=ze.put(ze))}Ut+1!=et.Ic||fr||(r(et.sa,et.ta-jt,Nr,Jr+16*et.R,jt),r(et.qa,et.ra-Ln,Wn,tn+8*et.B,Ln),r(et.Ha,et.Ia-Ln,Lr,Xr+8*et.B,Ln))}if(!Zn)return cn(Qt,6,"Output aborted.")}return 1}(ee,he)),he.bc!=null&&he.bc(he),ge&=1}return ge?(ee.cb=0,ge):0})(d,T)||(g=d.a)}}else g=d.a}g==0&&$.Oa!=null&&$.Oa.fd&&(g=Bu($.ba))}$=g}q=$!=0?null:11>q?H.f.RGBA.eb:H.f.kb.y}else q=null;return q};var Ay=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,O){for(var E="",I=0;I<4;I++)E+=String.fromCharCode(P[O++]);return E}function h(P,O){return P[O+0]|P[O+1]<<8}function m(P,O){return(P[O+0]|P[O+1]<<8|P[O+2]<<16)>>>0}function y(P,O){return(P[O+0]|P[O+1]<<8|P[O+2]<<16|P[O+3]<<24)>>>0}new c;var p=[0],N=[0],v=[],x=new c,A=t,C=function(P,O){var E={},I=0,k=!1,G=0,ce=0;if(E.frames=[],!function(z,Y){for(var X=0;X<4;X++)if(z[Y+X]!="RIFF".charCodeAt(X))return!0;return!1}(P,O)){for(y(P,O+=4),O+=8;O<P.length;){var ue=u(P,O),fe=y(P,O+=4);O+=4;var ie=fe+(1&fe);switch(ue){case"VP8 ":case"VP8L":E.frames[I]===void 0&&(E.frames[I]={}),(_e=E.frames[I]).src_off=k?ce:O-8,_e.src_size=G+fe+8,I++,k&&(k=!1,G=0,ce=0);break;case"VP8X":(_e=E.header={}).feature_flags=P[O];var ae=O+4;_e.canvas_width=1+m(P,ae),ae+=3,_e.canvas_height=1+m(P,ae),ae+=3;break;case"ALPH":k=!0,G=ie+8,ce=O-8;break;case"ANIM":(_e=E.header).bgcolor=y(P,O),ae=O+4,_e.loop_count=h(P,ae),ae+=2;break;case"ANMF":var Se,_e;(_e=E.frames[I]={}).offset_x=2*m(P,O),O+=3,_e.offset_y=2*m(P,O),O+=3,_e.width=1+m(P,O),O+=3,_e.height=1+m(P,O),O+=3,_e.duration=m(P,O),O+=3,Se=P[O++],_e.dispose=1&Se,_e.blend=Se>>1&1}ue!="ANMF"&&(O+=ie)}return E}}(A,0);C.response=A,C.rgbaoutput=!0,C.dataurl=!1;var L=C.header?C.header:null,B=C.frames?C.frames:null;if(L){L.loop_counter=L.loop_count,p=[L.canvas_height],N=[L.canvas_width];for(var J=0;J<B.length&&B[J].blend!=0;J++);}var re=B[0],V=x.WebPDecodeRGBA(A,re.src_off,re.src_size,N,p);re.rgba=V,re.imgwidth=N[0],re.imgheight=p[0];for(var j=0;j<N[0]*p[0]*4;j++)v[j]=V[j];return this.width=N,this.height=p,this.data=v,this}(function(t){var e,n,r,i,s,o,a,c,u,h=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new c,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new o,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new o,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,c=this.internal.Matrix,u=new h}]);var m=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=z;Object.defineProperty(this,"pdf",{get:function(){return Y}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(we){X=!!we}});var M=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return M},set:function(we){M=!!we}});var U=0;Object.defineProperty(this,"posX",{get:function(){return U},set:function(we){isNaN(we)||(U=we)}});var ne=0;Object.defineProperty(this,"posY",{get:function(){return ne},set:function(we){isNaN(we)||(ne=we)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(we){var te;typeof we=="number"?te=[we,we,we,we]:((te=new Array(4))[0]=we[0],te[1]=we.length>=2?we[1]:te[0],te[2]=we.length>=3?we[2]:te[0],te[3]=we.length>=4?we[3]:te[1]),u.margin=te}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(we){oe=we}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(we){pe=we}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(we){ye=we}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(we){we instanceof h&&(u=we)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(we){u.path=we}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(we){Ne=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var te;te=y(we),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var te=y(we);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var Re=null,Fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Fe},set:function(we){Re=null,Fe=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var te;if(this.ctx.font=we,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(we))!==null){var yt=te[1];te[2];var ht=te[3],Qe=te[4];te[5];var Ie=te[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qe)[2];Qe=Math.floor(qe==="px"?parseFloat(Qe)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(Qe)*this.pdf.getFontSize():parseFloat(Qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qe);var Ue=function(dt){var tt,an,Vt=[],$e=dt.trim();if($e==="")return Vg;if($e in Ew)return[Ew[$e]];for(;$e!=="";){switch(an=null,tt=($e=Tw($e)).charAt(0)){case'"':case"'":an=cq($e.substring(1),tt);break;default:an=uq($e)}if(an===null||(Vt.push(an[0]),($e=Tw(an[1]))!==""&&$e.charAt(0)!==","))return Vg;$e=$e.replace(/^,/,"")}return Vt}(Ie);if(this.fontFaces){var _t=function(dt,tt){if(Re===null){var an=function(Vt){var $e=[];return Object.keys(Vt).forEach(function(gt){Vt[gt].forEach(function(Ot){var ut=null;switch(Ot){case"bold":ut={family:gt,weight:"bold"};break;case"italic":ut={family:gt,style:"italic"};break;case"bolditalic":ut={family:gt,weight:"bold",style:"italic"};break;case"":case"normal":ut={family:gt}}ut!==null&&(ut.ref={name:gt,style:Ot},$e.push(ut))})}),$e}(dt.getFontList());Re=function(Vt){for(var $e={},gt=0;gt<Vt.length;++gt){var Ot=Fg(Vt[gt]),ut=Ot.family,Dt=Ot.stretch,vt=Ot.style,hn=Ot.weight;$e[ut]=$e[ut]||{},$e[ut][Dt]=$e[ut][Dt]||{},$e[ut][Dt][vt]=$e[ut][Dt][vt]||{},$e[ut][Dt][vt][hn]=Ot}return $e}(an.concat(tt))}return Re}(this.pdf,this.fontFaces),Ge=Ue.map(function(dt){return{family:dt,stretch:"normal",weight:ht,style:yt}}),Xt=function(dt,tt,an){for(var Vt=(an=an||{}).defaultFontFamily||"times",$e=Object.assign({},lq,an.genericFontFamilies||{}),gt=null,Ot=null,ut=0;ut<tt.length;++ut)if($e[(gt=Fg(tt[ut])).family]&&(gt.family=$e[gt.family]),dt.hasOwnProperty(gt.family)){Ot=dt[gt.family];break}if(!(Ot=Ot||dt[Vt]))throw new Error("Could not find a font-family for the rule '"+Sw(gt)+"' and default family '"+Vt+"'.");if(Ot=function(Dt,vt){if(vt[Dt])return vt[Dt];var hn=s1[Dt],Fn=hn<=s1.normal?-1:1,Nt=Aw(vt,u3,hn,Fn);if(!Nt)throw new Error("Could not find a matching font-stretch value for "+Dt);return Nt}(gt.stretch,Ot),Ot=function(Dt,vt){if(vt[Dt])return vt[Dt];for(var hn=c3[Dt],Fn=0;Fn<hn.length;++Fn)if(vt[hn[Fn]])return vt[hn[Fn]];throw new Error("Could not find a matching font-style for "+Dt)}(gt.style,Ot),!(Ot=function(Dt,vt){if(vt[Dt])return vt[Dt];if(Dt===400&&vt[500])return vt[500];if(Dt===500&&vt[400])return vt[400];var hn=aq[Dt],Fn=Aw(vt,h3,hn,Dt<400?-1:1);if(!Fn)throw new Error("Could not find a matching font-weight for value "+Dt);return Fn}(gt.weight,Ot)))throw new Error("Failed to resolve a font for the rule '"+Sw(gt)+"'.");return Ot}(_t,Ge);this.pdf.setFont(Xt.ref.name,Xt.ref.style)}else{var pt="";(ht==="bold"||parseInt(ht,10)>=700||yt==="bold")&&(pt="bold"),yt==="italic"&&(pt+="italic"),pt.length===0&&(pt="normal");for(var nt="",qt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},wt=0;wt<Ue.length;wt++){if(this.pdf.internal.getFont(Ue[wt],pt,{noFallback:!0,disableWarning:!0})!==void 0){nt=Ue[wt];break}if(pt==="bolditalic"&&this.pdf.internal.getFont(Ue[wt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)nt=Ue[wt],pt="bold";else if(this.pdf.internal.getFont(Ue[wt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){nt=Ue[wt],pt="normal";break}}if(nt===""){for(var rt=0;rt<Ue.length;rt++)if(qt[Ue[rt]]){nt=qt[Ue[rt]];break}}nt=nt===""?"Times":nt,this.pdf.setFont(nt,pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,_e.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,_e.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};m.prototype.setLineDash=function(z){this.lineDash=z},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){B.call(this,"fill",!1)},m.prototype.stroke=function(){B.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(z,Y){if(isNaN(z)||isNaN(Y))throw Tn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new o(z,Y));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(z,Y)},m.prototype.closePath=function(){var z=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&xn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){z=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(z.x,z.y)},m.prototype.lineTo=function(z,Y){if(isNaN(z)||isNaN(Y))throw Tn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new o(z,Y));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},m.prototype.quadraticCurveTo=function(z,Y,X,M){if(isNaN(X)||isNaN(M)||isNaN(z)||isNaN(Y))throw Tn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var U=this.ctx.transform.applyToPoint(new o(X,M)),ne=this.ctx.transform.applyToPoint(new o(z,Y));this.path.push({type:"qct",x1:ne.x,y1:ne.y,x:U.x,y:U.y}),this.ctx.lastPoint=new o(U.x,U.y)},m.prototype.bezierCurveTo=function(z,Y,X,M,U,ne){if(isNaN(U)||isNaN(ne)||isNaN(z)||isNaN(Y)||isNaN(X)||isNaN(M))throw Tn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new o(U,ne)),pe=this.ctx.transform.applyToPoint(new o(z,Y)),ye=this.ctx.transform.applyToPoint(new o(X,M));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:ye.x,y2:ye.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},m.prototype.arc=function(z,Y,X,M,U,ne){if(isNaN(z)||isNaN(Y)||isNaN(X)||isNaN(M)||isNaN(U))throw Tn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ne=!!ne,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new o(z,Y));z=oe.x,Y=oe.y;var pe=this.ctx.transform.applyToPoint(new o(0,X)),ye=this.ctx.transform.applyToPoint(new o(0,0));X=Math.sqrt(Math.pow(pe.x-ye.x,2)+Math.pow(pe.y-ye.y,2))}Math.abs(U-M)>=2*Math.PI&&(M=0,U=2*Math.PI),this.path.push({type:"arc",x:z,y:Y,radius:X,startAngle:M,endAngle:U,counterclockwise:ne})},m.prototype.arcTo=function(z,Y,X,M,U){throw new Error("arcTo not implemented.")},m.prototype.rect=function(z,Y,X,M){if(isNaN(z)||isNaN(Y)||isNaN(X)||isNaN(M))throw Tn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,Y),this.lineTo(z+X,Y),this.lineTo(z+X,Y+M),this.lineTo(z,Y+M),this.lineTo(z,Y),this.lineTo(z+X,Y),this.lineTo(z,Y)},m.prototype.fillRect=function(z,Y,X,M){if(isNaN(z)||isNaN(Y)||isNaN(X)||isNaN(M))throw Tn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var U={};this.lineCap!=="butt"&&(U.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(U.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,Y,X,M),this.fill(),U.hasOwnProperty("lineCap")&&(this.lineCap=U.lineCap),U.hasOwnProperty("lineJoin")&&(this.lineJoin=U.lineJoin)}},m.prototype.strokeRect=function(z,Y,X,M){if(isNaN(z)||isNaN(Y)||isNaN(X)||isNaN(M))throw Tn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(z,Y,X,M),this.stroke())},m.prototype.clearRect=function(z,Y,X,M){if(isNaN(z)||isNaN(Y)||isNaN(X)||isNaN(M))throw Tn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,Y,X,M))},m.prototype.save=function(z){z=typeof z!="boolean"||z;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var M=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=M}},m.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(z){var Y,X,M,U;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))Y=0,X=0,M=0,U=0;else{var ne=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(ne!==null)Y=parseInt(ne[1]),X=parseInt(ne[2]),M=parseInt(ne[3]),U=1;else if((ne=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)Y=parseInt(ne[1]),X=parseInt(ne[2]),M=parseInt(ne[3]),U=parseFloat(ne[4]);else{if(U=1,typeof z=="string"&&z.charAt(0)!=="#"){var oe=new n3(z);z=oe.ok?oe.toHex():"#000000"}z.length===4?(Y=z.substring(1,2),Y+=Y,X=z.substring(2,3),X+=X,M=z.substring(3,4),M+=M):(Y=z.substring(1,3),X=z.substring(3,5),M=z.substring(5,7)),Y=parseInt(Y,16),X=parseInt(X,16),M=parseInt(M,16)}}return{r:Y,g:X,b:M,a:U,style:z}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(z,Y,X,M){if(isNaN(Y)||isNaN(X)||typeof z!="string")throw Tn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(M=isNaN(M)?void 0:M,!p.call(this)){var U=ie(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;I.call(this,{text:z,x:Y,y:X,scale:ne,angle:U,align:this.textAlign,maxWidth:M})}},m.prototype.strokeText=function(z,Y,X,M){if(isNaN(Y)||isNaN(X)||typeof z!="string")throw Tn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){M=isNaN(M)?void 0:M;var U=ie(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;I.call(this,{text:z,x:Y,y:X,scale:ne,renderingMode:"stroke",angle:U,align:this.textAlign,maxWidth:M})}},m.prototype.measureText=function(z){if(typeof z!="string")throw Tn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,X=this.pdf.internal.scaleFactor,M=Y.internal.getFontSize(),U=Y.getStringUnitWidth(z)*M/Y.internal.scaleFactor;return new function(ne){var oe=(ne=ne||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return oe}}),this}({width:U*=Math.round(96*X/72*1e4)/1e4})},m.prototype.scale=function(z,Y){if(isNaN(z)||isNaN(Y))throw Tn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new c(z,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.rotate=function(z){if(isNaN(z))throw Tn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new c(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},m.prototype.translate=function(z,Y){if(isNaN(z)||isNaN(Y))throw Tn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new c(1,0,0,1,z,Y);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.transform=function(z,Y,X,M,U,ne){if(isNaN(z)||isNaN(Y)||isNaN(X)||isNaN(M)||isNaN(U)||isNaN(ne))throw Tn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new c(z,Y,X,M,U,ne);this.ctx.transform=this.ctx.transform.multiply(oe)},m.prototype.setTransform=function(z,Y,X,M,U,ne){z=isNaN(z)?1:z,Y=isNaN(Y)?0:Y,X=isNaN(X)?0:X,M=isNaN(M)?1:M,U=isNaN(U)?0:U,ne=isNaN(ne)?0:ne,this.ctx.transform=new c(z,Y,X,M,U,ne)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(z,Y,X,M,U,ne,oe,pe,ye){var Ne=this.pdf.getImageProperties(z),Re=1,Fe=1,we=1,te=1;M!==void 0&&pe!==void 0&&(we=pe/M,te=ye/U,Re=Ne.width/M*pe/M,Fe=Ne.height/U*ye/U),ne===void 0&&(ne=Y,oe=X,Y=0,X=0),M!==void 0&&pe===void 0&&(pe=M,ye=U),M===void 0&&pe===void 0&&(pe=Ne.width,ye=Ne.height);for(var yt,ht=this.ctx.transform.decompose(),Qe=ie(ht.rotate.shx),Ie=new c,qe=(Ie=(Ie=(Ie=Ie.multiply(ht.translate)).multiply(ht.skew)).multiply(ht.scale)).applyToRectangle(new a(ne-Y*we,oe-X*te,M*Re,U*Fe)),Ue=x.call(this,qe),_t=[],Ge=0;Ge<Ue.length;Ge+=1)_t.indexOf(Ue[Ge])===-1&&_t.push(Ue[Ge]);if(L(_t),this.autoPaging)for(var Xt=_t[0],pt=_t[_t.length-1],nt=Xt;nt<pt+1;nt++){this.pdf.setPage(nt);var qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=nt===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=nt===1?0:rt+(nt-2)*dt;if(this.ctx.clip_path.length!==0){var an=this.path;yt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(yt,this.posX+this.margin[3],-tt+wt+this.ctx.prevPageLastElemOffset),J.call(this,"fill",!0),this.path=an}var Vt=JSON.parse(JSON.stringify(qe));Vt=C([Vt],this.posX+this.margin[3],-tt+wt+this.ctx.prevPageLastElemOffset)[0];var $e=(nt>Xt||nt<pt)&&v.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,dt,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,Qe),$e&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(z,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Qe)};var x=function(z,Y,X){var M=[];Y=Y||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var U=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":M.push(Math.floor((z.y+U)/X)+1);break;case"arc":M.push(Math.floor((z.y+U-z.radius)/X)+1),M.push(Math.floor((z.y+U+z.radius)/X)+1);break;case"qct":var ne=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);M.push(Math.floor((ne.y+U)/X)+1),M.push(Math.floor((ne.y+ne.h+U)/X)+1);break;case"bct":var oe=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);M.push(Math.floor((oe.y+U)/X)+1),M.push(Math.floor((oe.y+oe.h+U)/X)+1);break;case"rect":M.push(Math.floor((z.y+U)/X)+1),M.push(Math.floor((z.y+z.h+U)/X)+1)}for(var pe=0;pe<M.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<M[pe];)A.call(this);return M},A=function(){var z=this.fillStyle,Y=this.strokeStyle,X=this.font,M=this.lineCap,U=this.lineWidth,ne=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=Y,this.font=X,this.lineCap=M,this.lineWidth=U,this.lineJoin=ne},C=function(z,Y,X){for(var M=0;M<z.length;M++)switch(z[M].type){case"bct":z[M].x2+=Y,z[M].y2+=X;case"qct":z[M].x1+=Y,z[M].y1+=X;default:z[M].x+=Y,z[M].y+=X}return z},L=function(z){return z.sort(function(Y,X){return Y-X})},B=function(z,Y){for(var X,M,U=this.fillStyle,ne=this.strokeStyle,oe=this.lineCap,pe=this.lineWidth,ye=Math.abs(pe*this.ctx.transform.scaleX),Ne=this.lineJoin,Re=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),we=[],te=0;te<Fe.length;te++)if(Fe[te].x!==void 0)for(var yt=x.call(this,Fe[te]),ht=0;ht<yt.length;ht+=1)we.indexOf(yt[ht])===-1&&we.push(yt[ht]);for(var Qe=0;Qe<we.length;Qe++)for(;this.pdf.internal.getNumberOfPages()<we[Qe];)A.call(this);if(L(we),this.autoPaging)for(var Ie=we[0],qe=we[we.length-1],Ue=Ie;Ue<qe+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=U,this.strokeStyle=ne,this.lineCap=oe,this.lineWidth=ye,this.lineJoin=Ne;var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=Ue===1?this.posY+this.margin[0]:this.margin[0],Xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=Ue===1?0:Xt+(Ue-2)*pt;if(this.ctx.clip_path.length!==0){var qt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(X,this.posX+this.margin[3],-nt+Ge+this.ctx.prevPageLastElemOffset),J.call(this,z,!0),this.path=qt}if(M=JSON.parse(JSON.stringify(Re)),this.path=C(M,this.posX+this.margin[3],-nt+Ge+this.ctx.prevPageLastElemOffset),Y===!1||Ue===0){var wt=(Ue>Ie||Ue<qe)&&v.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,pt,null).clip().discardPath()),J.call(this,z,Y),wt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=ye,J.call(this,z,Y),this.lineWidth=pe;this.path=Re},J=function(z,Y){if((z!=="stroke"||Y||!N.call(this))&&(z==="stroke"||Y||!p.call(this))){for(var X,M,U=[],ne=this.path,oe=0;oe<ne.length;oe++){var pe=ne[oe];switch(pe.type){case"begin":U.push({begin:!0});break;case"close":U.push({close:!0});break;case"mt":U.push({start:pe,deltas:[],abs:[]});break;case"lt":var ye=U.length;if(ne[oe-1]&&!isNaN(ne[oe-1].x)&&(X=[pe.x-ne[oe-1].x,pe.y-ne[oe-1].y],ye>0)){for(;ye>=0;ye--)if(U[ye-1].close!==!0&&U[ye-1].begin!==!0){U[ye-1].deltas.push(X),U[ye-1].abs.push(pe);break}}break;case"bct":X=[pe.x1-ne[oe-1].x,pe.y1-ne[oe-1].y,pe.x2-ne[oe-1].x,pe.y2-ne[oe-1].y,pe.x-ne[oe-1].x,pe.y-ne[oe-1].y],U[U.length-1].deltas.push(X);break;case"qct":var Ne=ne[oe-1].x+2/3*(pe.x1-ne[oe-1].x),Re=ne[oe-1].y+2/3*(pe.y1-ne[oe-1].y),Fe=pe.x+2/3*(pe.x1-pe.x),we=pe.y+2/3*(pe.y1-pe.y),te=pe.x,yt=pe.y;X=[Ne-ne[oe-1].x,Re-ne[oe-1].y,Fe-ne[oe-1].x,we-ne[oe-1].y,te-ne[oe-1].x,yt-ne[oe-1].y],U[U.length-1].deltas.push(X);break;case"arc":U.push({deltas:[],abs:[],arc:!0}),Array.isArray(U[U.length-1].abs)&&U[U.length-1].abs.push(pe)}}M=Y?null:z==="stroke"?"stroke":"fill";for(var ht=!1,Qe=0;Qe<U.length;Qe++)if(U[Qe].arc)for(var Ie=U[Qe].abs,qe=0;qe<Ie.length;qe++){var Ue=Ie[qe];Ue.type==="arc"?j.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,Y,!ht):k.call(this,Ue.x,Ue.y),ht=!0}else if(U[Qe].close===!0)this.pdf.internal.out("h"),ht=!1;else if(U[Qe].begin!==!0){var _t=U[Qe].start.x,Ge=U[Qe].start.y;G.call(this,U[Qe].deltas,_t,Ge),ht=!0}M&&P.call(this,M),Y&&O.call(this)}},re=function(z){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-X;case"top":return z+Y-X;case"hanging":return z+Y-2*X;case"middle":return z+Y/2-X;default:return z}},V=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(Y,X){this.colorStops.push([Y,X])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(z,Y,X,M,U,ne,oe,pe,ye){for(var Ne=ue.call(this,X,M,U,ne),Re=0;Re<Ne.length;Re++){var Fe=Ne[Re];Re===0&&(ye?E.call(this,Fe.x1+z,Fe.y1+Y):k.call(this,Fe.x1+z,Fe.y1+Y)),ce.call(this,z,Y,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}pe?O.call(this):P.call(this,oe)},P=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(z,Y){this.pdf.internal.out(n(z)+" "+r(Y)+" m")},I=function(z){var Y;switch(z.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var X=this.pdf.getTextDimensions(z.text),M=re.call(this,z.y),U=V.call(this,M)-X.h,ne=this.ctx.transform.applyToPoint(new o(z.x,M)),oe=this.ctx.transform.decompose(),pe=new c;pe=(pe=(pe=pe.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var ye,Ne,Re,Fe=this.ctx.transform.applyToRectangle(new a(z.x,M,X.w,X.h)),we=pe.applyToRectangle(new a(z.x,U,X.w,X.h)),te=x.call(this,we),yt=[],ht=0;ht<te.length;ht+=1)yt.indexOf(te[ht])===-1&&yt.push(te[ht]);if(L(yt),this.autoPaging)for(var Qe=yt[0],Ie=yt[yt.length-1],qe=Qe;qe<Ie+1;qe++){this.pdf.setPage(qe);var Ue=qe===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],Xt=Ge-this.margin[0],pt=this.pdf.internal.pageSize.width-this.margin[1],nt=pt-this.margin[3],qt=qe===1?0:_t+(qe-2)*Xt;if(this.ctx.clip_path.length!==0){var wt=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ye,this.posX+this.margin[3],-1*qt+Ue),J.call(this,"fill",!0),this.path=wt}var rt=C([JSON.parse(JSON.stringify(we))],this.posX+this.margin[3],-qt+Ue+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*z.scale),Re=this.lineWidth,this.lineWidth=Re*z.scale);var dt=this.autoPaging!=="text";if(dt||rt.y+rt.h<=Ge){if(dt||rt.y>=Ue&&rt.x<=pt){var tt=dt?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||pt-rt.x)[0],an=C([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-qt+Ue+this.ctx.prevPageLastElemOffset)[0],Vt=dt&&(qe>Qe||qe<Ie)&&v.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,Xt,null).clip().discardPath()),this.pdf.text(tt,an.x,an.y,{angle:z.angle,align:Y,renderingMode:z.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else rt.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-rt.y);z.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=Re)}else z.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*z.scale),Re=this.lineWidth,this.lineWidth=Re*z.scale),this.pdf.text(z.text,ne.x+this.posX,ne.y+this.posY,{angle:z.angle,align:Y,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=Re)},k=function(z,Y,X,M){X=X||0,M=M||0,this.pdf.internal.out(n(z+X)+" "+r(Y+M)+" l")},G=function(z,Y,X){return this.pdf.lines(z,Y,X,null,null)},ce=function(z,Y,X,M,U,ne,oe,pe){this.pdf.internal.out([e(i(X+z)),e(s(M+Y)),e(i(U+z)),e(s(ne+Y)),e(i(oe+z)),e(s(pe+Y)),"c"].join(" "))},ue=function(z,Y,X,M){for(var U=2*Math.PI,ne=Math.PI/2;Y>X;)Y-=U;var oe=Math.abs(X-Y);oe<U&&M&&(oe=U-oe);for(var pe=[],ye=M?-1:1,Ne=Y;oe>1e-5;){var Re=Ne+ye*Math.min(oe,ne);pe.push(fe.call(this,z,Ne,Re)),oe-=Math.abs(Re-Ne),Ne=Re}return pe},fe=function(z,Y,X){var M=(X-Y)/2,U=z*Math.cos(M),ne=z*Math.sin(M),oe=U,pe=-ne,ye=oe*oe+pe*pe,Ne=ye+oe*U+pe*ne,Re=4/3*(Math.sqrt(2*ye*Ne)-Ne)/(oe*ne-pe*U),Fe=oe-Re*pe,we=pe+Re*oe,te=Fe,yt=-we,ht=M+Y,Qe=Math.cos(ht),Ie=Math.sin(ht);return{x1:z*Math.cos(Y),y1:z*Math.sin(Y),x2:Fe*Qe-we*Ie,y2:Fe*Ie+we*Qe,x3:te*Qe-yt*Ie,y3:te*Ie+yt*Qe,x4:z*Math.cos(X),y4:z*Math.sin(X)}},ie=function(z){return 180*z/Math.PI},ae=function(z,Y,X,M,U,ne){var oe=z+.5*(X-z),pe=Y+.5*(M-Y),ye=U+.5*(X-U),Ne=ne+.5*(M-ne),Re=Math.min(z,U,oe,ye),Fe=Math.max(z,U,oe,ye),we=Math.min(Y,ne,pe,Ne),te=Math.max(Y,ne,pe,Ne);return new a(Re,we,Fe-Re,te-we)},Se=function(z,Y,X,M,U,ne,oe,pe){var ye,Ne,Re,Fe,we,te,yt,ht,Qe,Ie,qe,Ue,_t,Ge,Xt=X-z,pt=M-Y,nt=U-X,qt=ne-M,wt=oe-U,rt=pe-ne;for(Ne=0;Ne<41;Ne++)Qe=(yt=(Re=z+(ye=Ne/40)*Xt)+ye*((we=X+ye*nt)-Re))+ye*(we+ye*(U+ye*wt-we)-yt),Ie=(ht=(Fe=Y+ye*pt)+ye*((te=M+ye*qt)-Fe))+ye*(te+ye*(ne+ye*rt-te)-ht),Ne==0?(qe=Qe,Ue=Ie,_t=Qe,Ge=Ie):(qe=Math.min(qe,Qe),Ue=Math.min(Ue,Ie),_t=Math.max(_t,Qe),Ge=Math.max(Ge,Ie));return new a(Math.round(qe),Math.round(Ue),Math.round(_t-qe),Math.round(Ge-Ue))},_e=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,Y,X=(z=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:Y}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(lt.API),function(t){var e=function(o){var a,c,u,h,m,y,p,N,v,x;for(c=[],u=0,h=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;h>u;u+=4)(m=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(y=(m=((m=((m=((m=(m-(x=m%85))/85)-(v=m%85))/85)-(N=m%85))/85)-(p=m%85))/85)%85,c.push(y+33,p+33,N+33,v+33,x+33)):c.push(122);return function(A,C){for(var L=C;L>0;L--)A.pop()}(c,a.length),String.fromCharCode.apply(String,c)+"~>"},n=function(o){var a,c,u,h,m,y=String,p="length",N=255,v="charCodeAt",x="slice",A="replace";for(o[x](-2),o=o[x](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),u=[],h=0,m=(o+=a="uuuuu"[x](o[p]%5||5))[p];m>h;h+=5)c=52200625*(o[v](h)-33)+614125*(o[v](h+1)-33)+7225*(o[v](h+2)-33)+85*(o[v](h+3)-33)+(o[v](h+4)-33),u.push(N&c>>24,N&c>>16,N&c>>8,N&c);return function(C,L){for(var B=L;B>0;B--)C.pop()}(u,a[p]),y.fromCharCode.apply(y,u)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},s=function(o){for(var a=new Uint8Array(o.length),c=o.length;c--;)a[c]=o.charCodeAt(c);return(a=W0(a)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};t.processDataByFilters=function(o,a){var c=0,u=o||"",h=[];for(typeof(a=a||[])=="string"&&(a=[a]),c=0;c<a.length;c+=1)switch(a[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[c]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(lt.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(c,u,h){var m=new XMLHttpRequest,y=0,p=function(N){var v=N.length,x=[],A=String.fromCharCode;for(y=0;y<v;y+=1)x.push(A(255&N.charCodeAt(y)));return x.join("")};if(m.open("GET",c,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?h(p(this.responseText)):h(void 0)}),m.send(null),u&&m.status===200)return p(m.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(lt.API),function(t){function e(){return(Tt.html2canvas?Promise.resolve(Tt.html2canvas):Vm(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Tt.DOMPurify?Promise.resolve(Tt.DOMPurify):Vm(()=>import("./purify.es-sOfw8HaZ.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var c=xn(a);return c==="undefined"?"undefined":c==="string"||a instanceof String?"string":c==="number"||a instanceof Number?"number":c==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(a,c){var u=document.createElement(a);for(var h in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[h]=c.style[h];return u},s=function a(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(a(m,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},o=function a(c){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),h=a.convert(Promise.resolve(),u);return(h=h.setProgress(1,a,1,[a])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,c){return a.__proto__=c||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,c){return this.then(function(){switch(c=c||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),c){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var u=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var p=0;p<h.length;++p){var N=h[p],v=N.src.find(function(x){return x.format==="truetype"});v&&u.addFont(v.url,N.ref.name,N.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,c):this.outputPdf(a,c)},o.prototype.outputPdf=function(a,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,c)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var c=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(a,c){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return c?c(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function c(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(a=a||lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:c(a.inner.width,a.k),height:c(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,c,u,h){return a!=null&&(this.progress.val=a),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,c,u,h){return this.setProgress(a?this.progress.val+a:null,c||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(a,c){var u=this;return this.thenCore(a,c,function(h,m){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,h),y}).then(h,m).then(function(y){return u.updateProgress(1),y})})},o.prototype.thenCore=function(a,c,u){u=u||Promise.prototype.then;var h=this;a&&(a=a.bind(h)),c&&(c=c.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),y=u.call(m,a,c);return o.convert(y,h.__proto__)},o.prototype.thenExternal=function(a,c){return Promise.prototype.then.call(this,a,c)},o.prototype.thenList=function(a){var c=this;return a.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(a){a&&(a=a.bind(this));var c=Promise.prototype.catch.call(this,a);return o.convert(c,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,lt.getPageSize=function(a,c,u){if(xn(a)==="object"){var h=a;a=h.orientation,c=h.unit||c,u=h.format||u}c=c||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var m,y=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}var N,v=0,x=0;if(p.hasOwnProperty(y))v=p[y][1]/m,x=p[y][0]/m;else try{v=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",x>v&&(N=x,x=v,v=N);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",v>x&&(N=x,x=v,v=N)}return{width:x,height:v,unit:c,k:m,orientation:a}},t.html=function(a,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Fg):null;var u=new o(c);return c.worker?u:u.from(a).doCallback()}}(lt.API),lt.API.addJS=function(t){return Iw=t,this.internal.events.subscribe("postPutResources",function(){wf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(wf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Cw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Iw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){wf!==void 0&&Cw!==void 0&&this.internal.out("/Names <</JavaScript "+wf+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var c=a[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(s=0;s<u;s++){var m=n.internal.newObject();h.push(m);var y=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<h.length;s++)n.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(lt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var c,u=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=function(m){for(var y,p=256*m.charCodeAt(4)+m.charCodeAt(5),N=m.length,v={width:0,height:0,numcomponents:1},x=4;x<N;x+=2){if(x+=p,e.indexOf(m.charCodeAt(x+1))!==-1){y=256*m.charCodeAt(x+5)+m.charCodeAt(x+6),v={width:256*m.charCodeAt(x+7)+m.charCodeAt(x+8),height:y,numcomponents:m.charCodeAt(x+9)};break}p=256*m.charCodeAt(x+2)+m.charCodeAt(x+3)}return v}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:n,width:c.width,height:c.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return h}}(lt.API),lt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=Gz(t,{checkCrc:!0}),o=s.width,a=s.height,c=s.channels,u=s.palette,h=s.depth;i=u&&c===1?function(j){for(var P=j.width,O=j.height,E=j.data,I=j.palette,k=j.depth,G=!1,ce=[],ue=[],fe=void 0,ie=!1,ae=0,Se=0;Se<I.length;Se++){var _e=Nx(I[Se],4),z=_e[0],Y=_e[1],X=_e[2],M=_e[3];ce.push(z,Y,X),M!=null&&(M===0?(ae++,ue.length<1&&ue.push(Se)):M<255&&(ie=!0))}if(ie||ae>1){G=!0,ue=void 0;var U=P*O;fe=new Uint8Array(U);for(var ne=new DataView(E.buffer),oe=0;oe<U;oe++){var pe=Bg(ne,oe,k),ye=Nx(I[pe],4)[3];fe[oe]=ye}}else ae===0&&(ue=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:G?8:void 0,colorBytes:E,alphaBytes:fe,needSMask:G,palette:ce,mask:ue}}(s):c===2||c===4?function(j){for(var P=j.data,O=j.width,E=j.height,I=j.channels,k=j.depth,G=I===2?"DeviceGray":"DeviceRGB",ce=I-1,ue=O*E,fe=ce,ie=ue*fe,ae=1*ue,Se=Math.ceil(ie*k/8),_e=Math.ceil(ae*k/8),z=new Uint8Array(Se),Y=new Uint8Array(_e),X=new DataView(P.buffer),M=new DataView(z.buffer),U=new DataView(Y.buffer),ne=!1,oe=0;oe<ue;oe++){for(var pe=oe*I,ye=0;ye<fe;ye++)Fw(M,Bg(X,pe+ye,k),oe*fe+ye,k);var Ne=Bg(X,pe+fe,k);Ne<(1<<k)-1&&(ne=!0),Fw(U,Ne,1*oe,k)}return{colorSpace:G,colorsPerPixel:ce,sMaskBitsPerComponent:ne?k:void 0,colorBytes:z,alphaBytes:Y,needSMask:ne}}(s):function(j){var P=j.data,O=j.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:O,colorsPerPixel:O==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?function(E){for(var I=E.length,k=new Uint8Array(2*I),G=new DataView(k.buffer,k.byteOffset,k.byteLength),ce=0;ce<I;ce++)G.setUint16(2*ce,E[ce],!1);return k}(P):P,needSMask:!1}}(s);var m,y,p,N=i,v=N.colorSpace,x=N.colorsPerPixel,A=N.sMaskBitsPerComponent,C=N.colorBytes,L=N.alphaBytes,B=N.needSMask,J=N.palette,re=N.mask,V=null;return r!==lt.API.image_compression.NONE&&typeof W0=="function"?(V=function(j){var P;switch(j){case lt.API.image_compression.FAST:P=11;break;case lt.API.image_compression.MEDIUM:P=13;break;case lt.API.image_compression.SLOW:P=14;break;default:P=12}return P}(r),m=this.decode.FLATE_DECODE,y="/Predictor ".concat(V," /Colors ").concat(x," /BitsPerComponent ").concat(h," /Columns ").concat(o),t=jw(C,Math.ceil(o*x*h/8),x,h,r),B&&(p=jw(L,Math.ceil(o*A/8),1,A,r))):(m=void 0,y=void 0,t=C,B&&(p=L)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:m,decodeParameters:y,transparency:re,palette:J,sMask:p,predictor:V,width:o,height:a,bitsPerComponent:h,sMaskBitsPerComponent:A,colorSpace:v}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new pq(e),o=s.width,a=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:a},h=new Ug(100).encode(u,100);return t.processJPEG.call(this,h,n,r,i)},t.processGIF87A=t.processGIF89A}(lt.API),os.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},os.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Tn.log("bit decode error:"+n)}},os.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var c=this.palette[s>>7-a&1];this.data[o+4*a]=c.blue,this.data[o+4*a+1]=c.green,this.data[o+4*a+2]=c.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},os.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,c=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},os.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},os.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,u=s>>15?255:0,h=r*this.width*4+4*i;this.data[h]=c,this.data[h+1]=a,this.data[h+2]=o,this.data[h+3]=u}this.pos+=t}},os.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,c=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,h=i*this.width*4+4*s;this.data[h]=u,this.data[h+1]=c,this.data[h+2]=a,this.data[h+3]=255}this.pos+=t}},os.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},os.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},os.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new os(e,!1),o=s.width,a=s.height,c={data:s.getData(),width:o,height:a},u=new Ug(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)}}(lt.API),Bw.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new Bw(e),o=s.width,a=s.height,c={data:s.getData(),width:o,height:a},u=new Ug(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)}}(lt.API),lt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,c=0,u=0;u<i;u+=4){var h=r[u],m=r[u+1],y=r[u+2],p=r[u+3];s[a++]=h,s[a++]=m,s[a++]=y,o[c++]=p}var N=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:N,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},lt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Cc=lt.API,_f=Cc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,c=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,m=e.doKerning!==!1,y=0,p=t.length,N=0,v=a[0]||c,x=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(y=m&&xn(u[r])==="object"&&!isNaN(parseInt(u[r][N],10))?u[r][N]/h:0,x.push((a[r]||v)/c+y)),N=r;return x},Pw=Cc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Cc.processArabic&&(t=Cc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:_f.apply(this,arguments).reduce(function(s,o){return s+o},0)},kw=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var c=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(c,s)),a=0,c=s),a+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},Rw=function(t,e,n){n||(n={});var r,i,s,o,a,c,u,h=[],m=[h],y=n.textIndent||0,p=0,N=0,v=t.split(" "),x=_f.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var A=Array(c).join(" "),C=[];v.map(function(B){(B=B.split(/\s*\n/)).length>1?C=C.concat(B.map(function(J,re){return(re&&J.length?`
`:"")+J})):C.push(B[0])}),v=C,c=Pw.apply(this,[A,n])}for(s=0,o=v.length;s<o;s++){var L=0;if(r=v[s],c&&r[0]==`
`&&(r=r.substr(1),L=1),y+p+(N=(i=_f.apply(this,[r,n])).reduce(function(B,J){return B+J},0))>e||L){if(N>e){for(a=kw.apply(this,[r,i,e-(y+p),e]),h.push(a.shift()),h=[a.pop()];a.length;)m.push([a.shift()]);N=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(B,J){return B+J},0)}else h=[r];m.push(h),y=N+c,p=x}else h.push(r),y+=p+N,p=x}return u=c?function(B,J){return(J?A:"")+B.join(" ")}:function(B){return B.join(" ")},m.map(u)},Cc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),y="Unicode";return m.metadata[y]?{widths:m.metadata[y].widths||{0:1},kerning:m.metadata[y].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,c,u=[];for(a=0,c=r.length;a<c;a++)u=u.concat(Rw.apply(this,[r[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var o=function(y){return"0x"+parseInt(y,10).toString(16)},a=t.__fontmetrics__.compress=function(y){var p,N,v,x,A=["{"];for(var C in y){if(p=y[C],isNaN(parseInt(C,10))?N="'"+C+"'":(C=parseInt(C,10),N=(N=o(C).slice(2)).slice(0,-1)+i[N.slice(-1)]),typeof p=="number")p<0?(v=o(p).slice(3),x="-"):(v=o(p).slice(2),x=""),v=x+v.slice(0,-1)+i[v.slice(-1)];else{if(xn(p)!=="object")throw new Error("Don't know what to do with value type "+xn(p)+".");v=a(p)}A.push(N+v)}return A.push("}"),A.join("")},c=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,N,v,x,A={},C=1,L=A,B=[],J="",re="",V=y.length-1,j=1;j<V;j+=1)(x=y[j])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(x):x=="{"?(B.push([L,v]),L={},v=void 0):x=="}"?((N=B.pop())[0][N[1]]=L,v=void 0,L=N[0]):x=="-"?C=-1:v===void 0?r.hasOwnProperty(x)?(J+=r[x],v=parseInt(J,16)*C,C=1,J=""):J+=x:r.hasOwnProperty(x)?(re+=r[x],L[v]=parseInt(re,16)*C,C=1,v=void 0,re=""):re+=x;return A},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var p=y.font,N=m.Unicode[p.postScriptName];N&&(p.metadata.Unicode={},p.metadata.Unicode.widths=N.widths,p.metadata.Unicode.kerning=N.kerning);var v=h.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])}(lt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Uf(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(lt),lt.API.addSvgAsImage=function(t,e,n,r,i,s,o,a){if(isNaN(e)||isNaN(n))throw Tn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Tn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Tt.canvg?Promise.resolve(Tt.canvg):Vm(()=>import("./index.es-Dow_IIJ3.js"),__vite__mapDeps([0,1,2]),import.meta.url)).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(u,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(h)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),e,n,r,i,o,a)})},lt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},lt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),c=[],u=0,h=0,m=0;function y(N,v){var x,A=!1;for(x=0;x<N.length;x+=1)N[x]===v&&(A=!0);return A}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(m=0;m<p;m+=1)n[a[m]].value=n[a[m]].defaultValue,n[a[m]].explicitSet=!1}if(xn(t)==="object"){for(i in t)if(s=t[i],y(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&y(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(h=0;h<s[u].length;h+=1)typeof s[u][h]!="number"&&(r=!1);r===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,v=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?v.push("/"+N+" /"+n[N].value):v.push("/"+N+" "+n[N].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(lt.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],m=0,y=s.length;m<y;++m){if(a=o.metadata.characterToGlyph(s.charCodeAt(m)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(m),c.indexOf(a)==-1&&(c.push(a),c.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(u[4-a.length],a)}return h.join("")},r=function(s){var o,a,c,u,h,m,y;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,y=(a=Object.keys(s).sort(function(p,N){return p-N})).length;m<y;m++)o=a[m],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,c=o.out,u=o.newObject,h=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var m=a.metadata.Unicode.widths,y=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",N=0;N<y.length;N++)p+=String.fromCharCode(y[N]);var v=u();h({data:p,addLength1:!0,objectId:v}),c("endobj");var x=u();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var A=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Lc(a.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/Flags "+a.metadata.flags),c("/StemV "+a.metadata.stemV),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c(">>"),c("endobj");var C=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Lc(a.fontName)),c("/FontDescriptor "+A+" 0 R"),c("/W "+t.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+a.encoding+")"),c(">>"),c(">>"),c("endobj"),a.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+Lc(a.fontName)),c("/Encoding /"+a.encoding),c("/DescendantFonts ["+C+" 0 R]"),c(">>"),c("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,c=o.out,u=o.newObject,h=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var m=a.metadata.rawData,y="",p=0;p<m.length;p++)y+=String.fromCharCode(m[p]);var N=u();h({data:y,addLength1:!0,objectId:N}),c("endobj");var v=u();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var x=u();c("<<"),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c("/StemV "+a.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+N+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/FontName /"+Lc(a.fontName)),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c(">>"),c("endobj"),a.objectNumber=u();for(var A=0;A<a.metadata.hmtx.widths.length;A++)a.metadata.hmtx.widths[A]=parseInt(a.metadata.hmtx.widths[A]*(1e3/a.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Lc(a.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),c("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",c=s.x,u=s.y,h=s.options||{},m=s.mutex||{},y=m.pdfEscape,p=m.activeFontKey,N=m.fonts,v=p,x="",A=0,C="",L=N[v].encoding;if(N[v].encoding!=="Identity-H")return{text:a,x:c,y:u,options:h,mutex:m};for(C=a,v=p,Array.isArray(a)&&(C=a[0]),A=0;A<C.length;A+=1)N[v].metadata.hasOwnProperty("cmap")&&(o=N[v].metadata.cmap.unicode.codeMap[C[A].charCodeAt(0)]),o||C[A].charCodeAt(0)<256&&N[v].metadata.hasOwnProperty("Unicode")?x+=C[A]:x+="";var B="";return parseInt(v.slice(1))<14||L==="WinAnsiEncoding"?B=y(x,v).split("").map(function(J){return J.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&(B=n(x,N[v])),m.isHex=!0,{text:B,x:c,y:u,options:h,mutex:m}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},c,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},c,{text:o})).text}])}(lt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(lt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,c,u,h,m=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,L=0;this.__bidiEngine__={};var B=function(E){var I=E.charCodeAt(),k=I>>8,G=v[k];return G!==void 0?m[256*G+(255&I)]:k===252||k===253?"AL":A.test(k)?"L":k===8?"R":"N"},J=function(E){for(var I,k=0;k<E.length;k++){if((I=B(E.charAt(k)))==="L")return!1;if(I==="R")return!0}return!1},re=function(E,I,k,G){var ce,ue,fe,ie,ae=I[G];switch(ae){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"N":case"AN":break;case"EN":C&&(ae="AN");break;case"AL":C=!0,ae="R";break;case"WS":case"BN":ae="N";break;case"CS":G<1||G+1>=I.length||(ce=k[G-1])!=="EN"&&ce!=="AN"||(ue=I[G+1])!=="EN"&&ue!=="AN"?ae="N":C&&(ue="AN"),ae=ue===ce?ue:"N";break;case"ES":ae=(ce=G>0?k[G-1]:"B")==="EN"&&G+1<I.length&&I[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&k[G-1]==="EN"){ae="EN";break}if(C){ae="N";break}for(fe=G+1,ie=I.length;fe<ie&&I[fe]==="ET";)fe++;ae=fe<ie&&I[fe]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(ie=I.length,fe=G+1;fe<ie&&I[fe]==="NSM";)fe++;if(fe<ie){var Se=E[G],_e=Se>=1425&&Se<=2303||Se===64286;if(ce=I[fe],_e&&(ce==="R"||ce==="AL")){ae="R";break}}}ae=G<1||(ce=I[G-1])==="B"?"N":k[G-1];break;case"B":C=!1,i=!0,ae=L;break;case"S":s=!0,ae="N"}return ae},V=function(E,I,k){var G=E.split("");return k&&j(G,k,{hiLevel:L}),G.reverse(),I&&I.reverse(),G.join("")},j=function(E,I,k){var G,ce,ue,fe,ie,ae=-1,Se=E.length,_e=0,z=[],Y=L?p:y,X=[];for(C=!1,i=!1,s=!1,ce=0;ce<Se;ce++)X[ce]=B(E[ce]);for(ue=0;ue<Se;ue++){if(ie=_e,z[ue]=re(E,X,z,ue),G=240&(_e=Y[ie][N[z[ue]]]),_e&=15,I[ue]=fe=Y[_e][5],G>0)if(G===16){for(ce=ae;ce<ue;ce++)I[ce]=1;ae=-1}else ae=-1;if(Y[_e][6])ae===-1&&(ae=ue);else if(ae>-1){for(ce=ae;ce<ue;ce++)I[ce]=fe;ae=-1}X[ue]==="B"&&(I[ue]=0),k.hiLevel|=fe}s&&function(M,U,ne){for(var oe=0;oe<ne;oe++)if(M[oe]==="S"){U[oe]=L;for(var pe=oe-1;pe>=0&&M[pe]==="WS";pe--)U[pe]=L}}(X,I,Se)},P=function(E,I,k,G,ce){if(!(ce.hiLevel<E)){if(E===1&&L===1&&!i)return I.reverse(),void(k&&k.reverse());for(var ue,fe,ie,ae,Se=I.length,_e=0;_e<Se;){if(G[_e]>=E){for(ie=_e+1;ie<Se&&G[ie]>=E;)ie++;for(ae=_e,fe=ie-1;ae<fe;ae++,fe--)ue=I[ae],I[ae]=I[fe],I[fe]=ue,k&&(ue=k[ae],k[ae]=k[fe],k[fe]=ue);_e=ie}_e++}}},O=function(E,I,k){var G=E.split(""),ce={hiLevel:L};return k||(k=[]),j(G,k,ce),function(ue,fe,ie){if(ie.hiLevel!==0&&h)for(var ae,Se=0;Se<ue.length;Se++)fe[Se]===1&&(ae=x.indexOf(ue[Se]))>=0&&(ue[Se]=x[ae+1])}(G,k,ce),P(2,G,I,k,ce),P(1,G,I,k,ce),G.join("")};return this.__bidiEngine__.doBidiReorder=function(E,I,k){if(function(ce,ue){if(ue)for(var fe=0;fe<ce.length;fe++)ue[fe]=fe;a===void 0&&(a=J(ce)),u===void 0&&(u=J(ce))}(E,I),o||!c||u)if(o&&c&&a^u)L=a?1:0,E=V(E,I,k);else if(!o&&c&&u)L=a?1:0,E=O(E,I,k),E=V(E,I);else if(!o||a||c||u){if(o&&!c&&a^u)E=V(E,I),a?(L=0,E=O(E,I,k)):(L=1,E=O(E,I,k),E=V(E,I));else if(o&&a&&!c&&u)L=1,E=O(E,I,k),E=V(E,I);else if(!o&&!c&&a^u){var G=h;a?(L=1,E=O(E,I,k),L=0,h=!1,E=O(E,I,k),h=G):(L=0,E=O(E,I,k),E=V(E,I),L=1,h=!1,E=O(E,I,k),h=G,E=V(E,I))}}else L=0,E=O(E,I,k);else L=a?1:0,E=O(E,I,k);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,c=E.isOutputVisual,a=E.isInputRtl,u=E.isOutputRtl,h=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(lt),lt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Za(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Iq(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new mq(this.contents),this.head=new yq(this),this.name=new _q(this),this.cmap=new f3(this),this.toUnicode={},this.hhea=new vq(this),this.maxp=new Nq(this),this.hmtx=new Aq(this),this.post=new xq(this),this.os2=new bq(this),this.loca=new Cq(this),this.glyf=new Eq(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,c,u;for(u=[],o=0,a=(c=this.bbox).length;o<a;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var xs,Za=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),mq=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,c,u,h,m,y,p,N,v;for(v in p=Object.keys(n).length,c=Math.log(2),m=16*Math.floor(Math.log(p)/c),o=Math.floor(m/c),h=16*p-m,(i=new Za).writeInt(this.scalarType),i.writeShort(p),i.writeShort(m),i.writeShort(o),i.writeShort(h),s=16*p,u=i.pos+s,a=null,N=[],n)for(y=n[v],i.writeString(v),i.writeInt(t(y)),i.writeInt(u),i.writeInt(y.length),N=N.concat(y),v==="head"&&(a=u),u+=y.length;u%4;)N.push(0),u++;return i.write(N),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=p3.call(n);n.length%4;)n.push(0);for(s=new Za(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),gq={}.hasOwnProperty,so=function(t,e){for(var n in e)gq.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};xs=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var yq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return so(t,xs),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Za).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),Uw=function(){function t(e,n){var r,i,s,o,a,c,u,h,m,y,p,N,v,x,A,C,L;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),y=p/2,e.pos+=6,s=function(){var B,J;for(J=[],c=B=0;0<=y?B<y:B>y;c=0<=y?++B:--B)J.push(e.readUInt16());return J}(),e.pos+=2,v=function(){var B,J;for(J=[],c=B=0;0<=y?B<y:B>y;c=0<=y?++B:--B)J.push(e.readUInt16());return J}(),u=function(){var B,J;for(J=[],c=B=0;0<=y?B<y:B>y;c=0<=y?++B:--B)J.push(e.readUInt16());return J}(),h=function(){var B,J;for(J=[],c=B=0;0<=y?B<y:B>y;c=0<=y?++B:--B)J.push(e.readUInt16());return J}(),i=(this.length-e.pos+this.offset)/2,a=function(){var B,J;for(J=[],c=B=0;0<=i?B<i:B>i;c=0<=i?++B:--B)J.push(e.readUInt16());return J}(),c=A=0,L=s.length;A<L;c=++A)for(x=s[c],r=C=N=v[c];N<=x?C<=x:C>=x;r=N<=x?++C:--C)h[c]===0?o=r+u[c]:(o=a[h[c]/2+(r-N)-(y-c)]||0)!==0&&(o+=u[c]),this.codeMap[r]=65535&o}e.pos=m}return t.encode=function(e,n){var r,i,s,o,a,c,u,h,m,y,p,N,v,x,A,C,L,B,J,re,V,j,P,O,E,I,k,G,ce,ue,fe,ie,ae,Se,_e,z,Y,X,M,U,ne,oe,pe,ye,Ne,Re;switch(G=new Za,o=Object.keys(e).sort(function(Fe,we){return Fe-we}),n){case"macroman":for(v=0,x=function(){var Fe=[];for(N=0;N<256;++N)Fe.push(0);return Fe}(),C={0:0},s={},ce=0,ae=o.length;ce<ae;ce++)C[pe=e[i=o[ce]]]==null&&(C[pe]=++v),s[i]={old:e[i],new:C[e[i]]},x[i]=C[e[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(x),{charMap:s,subtable:G.data,maxGlyphID:v+1};case"unicode":for(I=[],m=[],L=0,C={},r={},A=u=null,ue=0,Se=o.length;ue<Se;ue++)C[J=e[i=o[ue]]]==null&&(C[J]=++L),r[i]={old:J,new:C[J]},a=C[J]-i,A!=null&&a===u||(A&&m.push(A),I.push(i),u=a),A=i;for(A&&m.push(A),m.push(65535),I.push(65535),O=2*(P=I.length),j=2*Math.pow(Math.log(P)/Math.LN2,2),y=Math.log(j/2)/Math.LN2,V=2*P-j,c=[],re=[],p=[],N=fe=0,_e=I.length;fe<_e;N=++fe){if(E=I[N],h=m[N],E===65535){c.push(0),re.push(0);break}if(E-(k=r[E].new)>=32768)for(c.push(0),re.push(2*(p.length+P-N)),i=ie=E;E<=h?ie<=h:ie>=h;i=E<=h?++ie:--ie)p.push(r[i].new);else c.push(k-E),re.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*P+2*p.length),G.writeUInt16(0),G.writeUInt16(O),G.writeUInt16(j),G.writeUInt16(y),G.writeUInt16(V),ne=0,z=m.length;ne<z;ne++)i=m[ne],G.writeUInt16(i);for(G.writeUInt16(0),oe=0,Y=I.length;oe<Y;oe++)i=I[oe],G.writeUInt16(i);for(ye=0,X=c.length;ye<X;ye++)a=c[ye],G.writeUInt16(a);for(Ne=0,M=re.length;Ne<M;Ne++)B=re[Ne],G.writeUInt16(B);for(Re=0,U=p.length;Re<U;Re++)v=p[Re],G.writeUInt16(v);return{charMap:r,subtable:G.data,maxGlyphID:L+1}}},t}(),f3=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return so(t,xs),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new Uw(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=Uw.encode(e,n),(i=new Za).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),vq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return so(t,xs),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),bq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return so(t,xs),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),xq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return so(t,xs),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,c;for(c=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)c.push(e.readUInt32());return c}).call(this)}},t}(),wq=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},_q=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return so(t,xs),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,o,a,c,u,h,m,y;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(c={},s=h=0,m=r.length;h<m;s=++h)i=r[s],e.pos=i.offset,u=e.readString(i.length),o=new wq(u,i),c[y=i.nameID]==null&&(c[y]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),Nq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return so(t,xs),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Aq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return so(t,xs),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,o,a,c;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)h.push(e.readInt16());return h}(),this.widths=(function(){var u,h,m,y;for(y=[],u=0,h=(m=this.metrics).length;u<h;u++)s=m[u],y.push(s.advance);return y}).call(this),r=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),p3=[].slice,Eq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return so(t,xs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,o,a,c,u,h,m;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new Za(n.read(i))).readShort(),u=a.readShort(),m=a.readShort(),c=a.readShort(),h=a.readShort(),this.cache[e]=o===-1?new Tq(a,u,m,c,h):new Sq(a,o,u,m,c,h),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,o,a,c;for(o=[],s=[],a=0,c=n.length;a<c;a++)i=e[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},t}(),Sq=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Tq=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Za(p3.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),Cq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return so(t,xs),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],c=this.offsets[o+1]-a;c>0&&(i+=c)}for(var u=new Array(4*r.length),h=0;h<r.length;++h)u[4*h+3]=255&r[h],u[4*h+2]=(65280&r[h])>>8,u[4*h+1]=(16711680&r[h])>>16,u[4*h]=(4278190080&r[h])>>24;return u},t}(),Iq=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,c;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,c,u,h,m,y,p,N,v,x,A;for(i in r=f3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},A=r.charMap)p[(c=A[i]).old]=c.new;for(N in y=r.maxGlyphID,o)N in p||(p[N]=y++);return h=function(C){var L,B;for(L in B={},C)B[C[L]]=L;return B}(p),m=Object.keys(h).sort(function(C,L){return C-L}),v=function(){var C,L,B;for(B=[],C=0,L=m.length;C<L;C++)a=m[C],B.push(h[a]);return B}(),s=this.font.glyf.encode(o,v,p),u=this.font.loca.encode(s.offsets,v),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t}();lt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,c,u;for(u=[],a=0,c=n.length;a<c;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const Pq=()=>{const{currentUser:t,userData:e}=Pu(),n=_u(),{toast:r}=ld(),[i,s]=S.useState(!1),[o,a]=S.useState(!0),[c,u]=S.useState(!1),[h,m]=S.useState(!1),[y,p]=S.useState(""),[N,v]=S.useState("draw"),[x,A]=S.useState(""),[C,L]=S.useState(!1),[B,J]=S.useState(!0),[re,V]=S.useState({purpose:!0,logo:!1,ordering:!1,inventory:!1,delivery:!1,payment:!1,liability:!1,duration:!1,acceptance:!1,event:!1}),j=S.useRef(null),P=S.useRef(null);S.useEffect(()=>{const M=setTimeout(()=>{a(!1)},1500);return()=>clearTimeout(M)},[]),S.useEffect(()=>{const M=j.current;if(!M)return;const U=M.getContext("2d");if(!U)return;U.lineWidth=2,U.lineCap="round",U.strokeStyle="#000000",U.fillStyle="#ffffff",U.fillRect(0,0,M.width,M.height);const ne=()=>{const oe=M.parentElement;if(oe){const pe=oe.clientWidth,ye=400/150,Ne=Math.min(pe-20,400),Re=Ne/ye;M.style.width=`${Ne}px`,M.style.height=`${Re}px`}};return ne(),window.addEventListener("resize",ne),()=>{window.removeEventListener("resize",ne)}},[]);const[O,E]=S.useState({fullName:(e==null?void 0:e.name)||"",designation:"",companyName:(e==null?void 0:e.businessName)||"",registeredAddress:"",mobileNumber:(e==null?void 0:e.mobile)||"",emailId:(e==null?void 0:e.email)||"",dateOfAgreement:new Date().toISOString().split("T")[0],digitalSignature:"",digitalSignatureName:"",digitalSignatureDate:new Date().toISOString().split("T")[0],termsAccepted:!1});if(!t)return n("/login"),null;const I=M=>{const{name:U,value:ne}=M.target;E(oe=>({...oe,[U]:ne}))},k=M=>{V(U=>({...U,[M]:!U[M]}))},G=()=>{const U=[{key:"fullName",label:"Full Name"},{key:"designation",label:"Designation"},{key:"companyName",label:"Company Name"},{key:"registeredAddress",label:"Registered Address"},{key:"mobileNumber",label:"Mobile Number"},{key:"emailId",label:"Email ID"},{key:"dateOfAgreement",label:"Date of Agreement"},{key:"digitalSignatureName",label:"Digital Signature Name"}].filter(ne=>{var oe;return!((oe=O[ne.key])!=null&&oe.trim())});return U.length>0?(r({title:"Missing Required Fields",description:`Please fill in: ${U.map(ne=>ne.label).join(", ")}`,variant:"destructive"}),!1):x?O.termsAccepted?!0:(r({title:"Terms and Conditions",description:"Please accept the terms and conditions",variant:"destructive"}),!1):(r({title:"Digital Signature Required",description:"Please provide a digital signature",variant:"destructive"}),!1)},ce=M=>{E(U=>({...U,termsAccepted:M}))},ue=M=>{L(!0);const U=j.current;if(!U)return;const ne=U.getBoundingClientRect(),oe=U.getContext("2d");if(!oe)return;oe.lineWidth=2,oe.lineCap="round",oe.strokeStyle="#000000";const pe=M.clientX-ne.left,ye=M.clientY-ne.top;oe.beginPath(),oe.moveTo(pe,ye)},fe=M=>{if(!C)return;const U=j.current;if(!U)return;const ne=U.getBoundingClientRect(),oe=U.getContext("2d");if(!oe)return;const pe=M.clientX-ne.left,ye=M.clientY-ne.top;oe.lineTo(pe,ye),oe.stroke()},ie=()=>{L(!1);const M=j.current;M&&A(M.toDataURL())},ae=()=>{const M=j.current;if(!M)return;const U=M.getContext("2d");U&&(U.clearRect(0,0,M.width,M.height),U.fillStyle="#ffffff",U.fillRect(0,0,M.width,M.height),U.lineWidth=2,U.lineCap="round",U.strokeStyle="#000000",A(""))},Se=M=>{var oe;const U=(oe=M.target.files)==null?void 0:oe[0];if(!U)return;const ne=new FileReader;ne.onload=pe=>{var ye;A((ye=pe.target)==null?void 0:ye.result)},ne.readAsDataURL(U)},_e=async()=>{const M=new lt;let U=20;const ne=280,oe=(pe=20)=>{U+pe>ne&&(M.addPage(),U=20)};return M.setTextColor(0,119,182),M.setFontSize(18),M.text("AQUA2PROMO E-CONTRACT AGREEMENT",20,U),U+=20,M.setTextColor(0,0,0),M.setFontSize(12),M.text("Between:",20,U),U+=8,M.text("Aqua2Promo (White Labelling Company)",20,U),U+=8,M.text("and",20,U),U+=8,M.text("Partner Business (Café / Restaurant / Event / Shop)",20,U),U+=20,oe(30),M.setFontSize(14),M.setTextColor(0,119,182),M.text("1. Partner Information",20,U),U+=12,M.setFontSize(11),M.setTextColor(0,0,0),M.text(`Full Name: ${O.fullName}`,20,U),U+=6,M.text(`Designation: ${O.designation}`,20,U),U+=6,M.text(`Company: ${O.companyName}`,20,U),U+=6,M.text(`Registered Address: ${O.registeredAddress}`,20,U),U+=6,M.text(`Mobile Number: ${O.mobileNumber}`,20,U),U+=6,M.text(`Email ID: ${O.emailId}`,20,U),U+=6,M.text(`Date of Agreement: ${O.dateOfAgreement}`,20,U),U+=15,oe(20),M.setFontSize(14),M.setTextColor(0,119,182),M.text("2. Purpose of the Agreement",20,U),U+=12,M.setFontSize(11),M.setTextColor(0,0,0),M.text("This e-contract establishes the understanding between Aqua2Promo and the Partner",20,U),U+=6,M.text("Business for the supply of customized and white-labelled water bottles or similar",20,U),U+=6,M.text("promotional products under the Partner's brand name.",20,U),U+=15,oe(25),M.setFontSize(14),M.setTextColor(0,119,182),M.text("3. Logo and Trademark Usage",20,U),U+=12,M.setFontSize(11),M.setTextColor(0,0,0),M.text("• The Partner agrees to share their official logo, trademark, and design for product branding.",20,U),U+=6,M.text("• The Partner confirms that they own the full rights to the provided logo/trademark",20,U),U+=6,M.text("  and that it does not violate any third-party rights.",20,U),U+=6,M.text("• Aqua2Promo is not responsible or liable for any disputes regarding trademark",20,U),U+=6,M.text("  authenticity or ownership. The Partner will be solely responsible for such matters.",20,U),U+=15,oe(20),M.setFontSize(14),M.setTextColor(0,119,182),M.text("4. Ordering & Reordering Timeline",20,U),U+=12,M.setFontSize(11),M.setTextColor(0,0,0),M.text("• All reorders must be placed at least 1 day in advance to ensure smooth delivery",20,U),U+=6,M.text("  and production.",20,U),U+=6,M.text("• Same-day or urgent orders may be accepted subject to stock and production capacity.",20,U),U+=15,oe(25),M.setFontSize(14),M.setTextColor(0,119,182),M.text("5. Inventory & Discontinuation of Service",20,U),U+=12,M.setFontSize(11),M.setTextColor(0,0,0),M.text("• Aqua2Promo maintains dedicated stock for each Partner's customized products.",20,U),U+=6,M.text("• If the Partner wishes to discontinue the service, they must inform Aqua2Promo",20,U),U+=6,M.text("  at least 1 month in advance through a phone call or WhatsApp message.",20,U),U+=6,M.text("• During this period, the Partner agrees to clear all existing stock produced or",20,U),U+=6,M.text("  stored under their brand in Aqua2Promo's inventory.",20,U),U+=15,oe(25),M.setFontSize(14),M.setTextColor(0,119,182),M.text("6. Product Delivery & Complaints",20,U),U+=12,M.setFontSize(11),M.setTextColor(0,0,0),M.text("• The Partner must check all products at the time of delivery.",20,U),U+=6,M.text("• If any damage, defect, or issue is found, it should be reported immediately upon delivery.",20,U),U+=6,M.text("• Aqua2Promo will replace or return the product only if the complaint is made",20,U),U+=6,M.text("  at the time of delivery.",20,U),U+=6,M.text("• Once the delivery is accepted, no returns or replacements will be accepted later.",20,U),U+=15,oe(30),M.setFontSize(14),M.setTextColor(0,119,182),M.text("7. Payment Terms",20,U),U+=12,M.setFontSize(11),M.setTextColor(0,0,0),M.text("• The Partner may choose either of the following payment options:",20,U),U+=6,M.text("  1. Full Payment on Delivery — Payment made at the time of receiving goods.",20,U),U+=6,M.text("  2. Monthly Stock Option — The Partner can take 1 month's stock and make",20,U),U+=6,M.text("     payments on a weekly basis in 4 equal installments.",20,U),U+=6,M.text("• All payments must be made as per the agreed schedule. Delay in payments may",20,U),U+=6,M.text("  result in service suspension or withholding of further orders.",20,U),U+=15,oe(25),M.setFontSize(14),M.setTextColor(0,119,182),M.text("8. Limitation of Liability",20,U),U+=12,M.setFontSize(11),M.setTextColor(0,0,0),M.text("Aqua2Promo will not be responsible for:",20,U),U+=6,M.text("• Any misuse, resale, or improper handling of the product.",20,U),U+=6,M.text("• Any disputes or legal claims regarding the authenticity of the logo/trademark",20,U),U+=6,M.text("  provided by the Partner.",20,U),U+=6,M.text("The Partner agrees to indemnify and hold Aqua2Promo harmless from any claims",20,U),U+=6,M.text("or damages arising from their provided branding materials.",20,U),U+=15,oe(20),M.setFontSize(14),M.setTextColor(0,119,182),M.text("9. Duration of Agreement",20,U),U+=12,M.setFontSize(11),M.setTextColor(0,0,0),M.text("This agreement remains valid until the Partner discontinues the service as per",20,U),U+=6,M.text("Clause 5. Both parties agree to conduct all business under this contract in",20,U),U+=6,M.text("compliance with Indian laws and regulations.",20,U),U+=15,oe(25),M.setFontSize(14),M.setTextColor(0,119,182),M.text("10. Acceptance of Terms",20,U),U+=12,M.setFontSize(11),M.setTextColor(0,0,0),M.text("By checking the box below and submitting this form, the Partner confirms that:",20,U),U+=6,M.text("• They have read and understood the terms of this e-contract.",20,U),U+=6,M.text("• They agree to all terms and conditions stated above.",20,U),U+=6,M.text("• The details shared are true and correct, and this digital acceptance shall be",20,U),U+=6,M.text("  legally binding.",20,U),U+=15,oe(25),M.setFontSize(14),M.setTextColor(0,119,182),M.text("11. Event-Based Orders (One-Time Purchases)",20,U),U+=12,M.setFontSize(11),M.setTextColor(0,0,0),M.text("• In cases where the Partner purchases bottles for a single event, occasion, or",20,U),U+=6,M.text("  one-time use, the full payment must be made at the time of delivery.",20,U),U+=6,M.text("• The Partner also grants Aqua2Promo the right to use the name and logo of the",20,U),U+=6,M.text("  event for promotional and portfolio purposes.",20,U),U+=6,M.text("• All logo and trademark usage terms stated in Clause 3 will apply equally",20,U),U+=6,M.text("  to such event-based orders.",20,U),U+=20,oe(30),M.setFontSize(14),M.setTextColor(0,119,182),M.text("Digital Signature Details:",20,U),U+=12,M.setFontSize(11),M.setTextColor(0,0,0),M.text(`Digital Signature Name: ${O.digitalSignatureName}`,20,U),U+=6,M.text(`Signature Date: ${O.digitalSignatureDate}`,20,U),U+=10,x&&(M.addImage(x,"PNG",20,U,50,20),U+=25),M},z=async()=>{(await _e()).save("aqua2promo-contract.pdf")},Y=async()=>{G()&&m(!0)},X=async()=>{if(y.length!==4){r({title:"Error",description:"Please enter a 4-digit PIN",variant:"destructive"});return}u(!0),s(!0),r({title:"Processing Contract",description:"Please wait while we process your contract..."});try{const U=await fetch("https://aiwillendjobs.com/api/submit-contract",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...O,digitalSignature:x,pin:y,userId:t.uid})});if(!U.ok)throw new Error(`HTTP error! status: ${U.status}`);const ne=U.headers.get("content-type");if(!ne||!ne.includes("application/json")){const pe=await U.text();throw new Error(`Expected JSON response but got: ${pe.substring(0,100)}...`)}const oe=await U.json();if(oe.success)r({title:"Contract Submitted Successfully!",description:"Your contract has been processed and emails have been sent."}),setTimeout(()=>{m(!1),p(""),u(!1),s(!1),E({fullName:(e==null?void 0:e.name)||"",designation:"",companyName:(e==null?void 0:e.businessName)||"",registeredAddress:"",mobileNumber:(e==null?void 0:e.mobile)||"",emailId:(e==null?void 0:e.email)||"",dateOfAgreement:new Date().toISOString().split("T")[0],digitalSignature:"",digitalSignatureName:"",digitalSignatureDate:new Date().toISOString().split("T")[0],termsAccepted:!1}),A("")},2e3);else throw new Error(oe.error||"Failed to submit contract")}catch(M){console.error("Contract submission error:",M),u(!1),s(!1),r({title:"Submission Failed",description:M instanceof Error?M.message:"Failed to submit contract",variant:"destructive"})}};return o?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-secondary/10 flex items-center justify-center",children:l.jsxs("div",{className:"text-center space-y-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-20 h-20 border-4 border-primary/20 border-t-primary rounded-full animate-spin mx-auto"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-full animate-pulse"})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h2",{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"AQUA2PROMO"}),l.jsx("p",{className:"text-muted-foreground animate-pulse",children:"Loading Contract Form..."})]})]})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-secondary/10 pt-16 sm:pt-20 pb-8 sm:pb-12 px-2 sm:px-4",children:l.jsxs("div",{className:"container mx-auto max-w-4xl",children:[l.jsxs(sr,{className:"shadow-xl",children:[l.jsxs(sc,{className:"text-center pt-6 sm:pt-8 px-4 sm:px-6",children:[l.jsx(oc,{className:"text-xl sm:text-2xl md:text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent leading-tight",children:"AQUA2PROMO E-CONTRACT AGREEMENT"}),l.jsx("p",{className:"text-muted-foreground mt-2 text-xs sm:text-sm md:text-base",children:"Partner Business Agreement Form"})]}),l.jsxs(ac,{className:"space-y-6 sm:space-y-8 px-4 sm:px-6",children:[l.jsx("div",{className:"bg-muted/50 p-4 sm:p-6 rounded-lg",children:l.jsxs(SV,{open:B,onOpenChange:J,children:[l.jsx(TV,{asChild:!0,children:l.jsxs(Me,{variant:"ghost",className:"w-full justify-between p-0 h-auto text-left",children:[l.jsx("h3",{className:"text-base sm:text-lg font-semibold leading-tight",children:"AQUA2PROMO E-CONTRACT AGREEMENT"}),B?l.jsx(k5,{className:"h-4 w-4 flex-shrink-0 ml-2"}):l.jsx(u1,{className:"h-4 w-4 flex-shrink-0 ml-2"})]})}),l.jsxs(CV,{className:"space-y-4 sm:space-y-6 text-xs sm:text-sm mt-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-primary mb-2",children:"1. Partner Information"}),l.jsx("p",{className:"text-muted-foreground",children:"Complete your business details in the form below"})]}),l.jsxs("div",{className:"border border-muted-foreground/20 rounded-lg p-3 sm:p-4",children:[l.jsxs("button",{onClick:()=>k("purpose"),className:"flex items-center justify-between w-full text-left",children:[l.jsx("h4",{className:"font-medium text-primary text-sm sm:text-base leading-tight",children:"2. Purpose of the Agreement"}),re.purpose?l.jsx(Ls,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"}):l.jsx(Os,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"})]}),re.purpose&&l.jsx("p",{className:"text-muted-foreground mt-2",children:"This e-contract establishes the understanding between Aqua2Promo and the Partner Business for the supply of customized and white-labelled water bottles or similar promotional products under the Partner's brand name."})]}),l.jsxs("div",{className:"border border-muted-foreground/20 rounded-lg p-3 sm:p-4",children:[l.jsxs("button",{onClick:()=>k("logo"),className:"flex items-center justify-between w-full text-left",children:[l.jsx("h4",{className:"font-medium text-primary text-sm sm:text-base leading-tight",children:"3. Logo and Trademark Usage"}),re.logo?l.jsx(Ls,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"}):l.jsx(Os,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"})]}),re.logo&&l.jsxs("ul",{className:"text-muted-foreground list-disc list-inside space-y-1 mt-2",children:[l.jsx("li",{children:"The Partner agrees to share their official logo, trademark, and design for product branding."}),l.jsx("li",{children:"The Partner confirms that they own the full rights to the provided logo/trademark and that it does not violate any third-party rights."}),l.jsx("li",{children:"Aqua2Promo is not responsible or liable for any disputes regarding trademark authenticity or ownership. The Partner will be solely responsible for such matters."})]})]}),l.jsxs("div",{className:"border border-muted-foreground/20 rounded-lg p-3 sm:p-4",children:[l.jsxs("button",{onClick:()=>k("ordering"),className:"flex items-center justify-between w-full text-left",children:[l.jsx("h4",{className:"font-medium text-primary text-sm sm:text-base leading-tight",children:"4. Ordering & Reordering Timeline"}),re.ordering?l.jsx(Ls,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"}):l.jsx(Os,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"})]}),re.ordering&&l.jsxs("ul",{className:"text-muted-foreground list-disc list-inside space-y-1 mt-2",children:[l.jsx("li",{children:"All reorders must be placed at least 1 day in advance to ensure smooth delivery and production."}),l.jsx("li",{children:"Same-day or urgent orders may be accepted subject to stock and production capacity."})]})]}),l.jsxs("div",{className:"border border-muted-foreground/20 rounded-lg p-3 sm:p-4",children:[l.jsxs("button",{onClick:()=>k("inventory"),className:"flex items-center justify-between w-full text-left",children:[l.jsx("h4",{className:"font-medium text-primary text-sm sm:text-base leading-tight",children:"5. Inventory & Discontinuation of Service"}),re.inventory?l.jsx(Ls,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"}):l.jsx(Os,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"})]}),re.inventory&&l.jsxs("ul",{className:"text-muted-foreground list-disc list-inside space-y-1 mt-2",children:[l.jsx("li",{children:"Aqua2Promo maintains dedicated stock for each Partner's customized products."}),l.jsx("li",{children:"If the Partner wishes to discontinue the service, they must inform Aqua2Promo at least 1 month in advance through a phone call or WhatsApp message."}),l.jsx("li",{children:"During this period, the Partner agrees to clear all existing stock produced or stored under their brand in Aqua2Promo's inventory."})]})]}),l.jsxs("div",{className:"border border-muted-foreground/20 rounded-lg p-3 sm:p-4",children:[l.jsxs("button",{onClick:()=>k("delivery"),className:"flex items-center justify-between w-full text-left",children:[l.jsx("h4",{className:"font-medium text-primary text-sm sm:text-base leading-tight",children:"6. Product Delivery & Complaints"}),re.delivery?l.jsx(Ls,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"}):l.jsx(Os,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"})]}),re.delivery&&l.jsxs("ul",{className:"text-muted-foreground list-disc list-inside space-y-1 mt-2",children:[l.jsx("li",{children:"The Partner must check all products at the time of delivery."}),l.jsx("li",{children:"If any damage, defect, or issue is found, it should be reported immediately upon delivery."}),l.jsx("li",{children:"Aqua2Promo will replace or return the product only if the complaint is made at the time of delivery."}),l.jsx("li",{children:"Once the delivery is accepted, no returns or replacements will be accepted later."})]})]}),l.jsxs("div",{className:"border border-muted-foreground/20 rounded-lg p-3 sm:p-4",children:[l.jsxs("button",{onClick:()=>k("payment"),className:"flex items-center justify-between w-full text-left",children:[l.jsx("h4",{className:"font-medium text-primary text-sm sm:text-base leading-tight",children:"7. Payment Terms"}),re.payment?l.jsx(Ls,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"}):l.jsx(Os,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"})]}),re.payment&&l.jsxs("ul",{className:"text-muted-foreground list-disc list-inside space-y-1 mt-2",children:[l.jsxs("li",{children:["The Partner may choose either of the following payment options:",l.jsxs("ol",{className:"list-decimal list-inside ml-4 mt-1 space-y-1",children:[l.jsx("li",{children:"Full Payment on Delivery — Payment made at the time of receiving goods."}),l.jsx("li",{children:"Monthly Stock Option — The Partner can take 1 month's stock and make payments on a weekly basis in 4 equal installments."})]})]}),l.jsx("li",{children:"All payments must be made as per the agreed schedule. Delay in payments may result in service suspension or withholding of further orders."})]})]}),l.jsxs("div",{className:"border border-muted-foreground/20 rounded-lg p-3 sm:p-4",children:[l.jsxs("button",{onClick:()=>k("liability"),className:"flex items-center justify-between w-full text-left",children:[l.jsx("h4",{className:"font-medium text-primary text-sm sm:text-base leading-tight",children:"8. Limitation of Liability"}),re.liability?l.jsx(Ls,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"}):l.jsx(Os,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"})]}),re.liability&&l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:"text-muted-foreground mb-2",children:"Aqua2Promo will not be responsible for:"}),l.jsxs("ul",{className:"text-muted-foreground list-disc list-inside space-y-1",children:[l.jsx("li",{children:"Any misuse, resale, or improper handling of the product."}),l.jsx("li",{children:"Any disputes or legal claims regarding the authenticity of the logo/trademark provided by the Partner."})]}),l.jsx("p",{className:"text-muted-foreground mt-2",children:"The Partner agrees to indemnify and hold Aqua2Promo harmless from any claims or damages arising from their provided branding materials."})]})]}),l.jsxs("div",{className:"border border-muted-foreground/20 rounded-lg p-3 sm:p-4",children:[l.jsxs("button",{onClick:()=>k("duration"),className:"flex items-center justify-between w-full text-left",children:[l.jsx("h4",{className:"font-medium text-primary text-sm sm:text-base leading-tight",children:"9. Duration of Agreement"}),re.duration?l.jsx(Ls,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"}):l.jsx(Os,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"})]}),re.duration&&l.jsx("p",{className:"text-muted-foreground mt-2",children:"This agreement remains valid until the Partner discontinues the service as per Clause 5. Both parties agree to conduct all business under this contract in compliance with Indian laws and regulations."})]}),l.jsxs("div",{className:"border border-muted-foreground/20 rounded-lg p-3 sm:p-4",children:[l.jsxs("button",{onClick:()=>k("acceptance"),className:"flex items-center justify-between w-full text-left",children:[l.jsx("h4",{className:"font-medium text-primary text-sm sm:text-base leading-tight",children:"10. Acceptance of Terms"}),re.acceptance?l.jsx(Ls,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"}):l.jsx(Os,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"})]}),re.acceptance&&l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:"text-muted-foreground mb-2",children:"By checking the box below and submitting this form, the Partner confirms that:"}),l.jsxs("ul",{className:"text-muted-foreground list-disc list-inside space-y-1",children:[l.jsx("li",{children:"They have read and understood the terms of this e-contract."}),l.jsx("li",{children:"They agree to all terms and conditions stated above."}),l.jsx("li",{children:"The details shared are true and correct, and this digital acceptance shall be legally binding."})]})]})]}),l.jsxs("div",{className:"border border-muted-foreground/20 rounded-lg p-3 sm:p-4",children:[l.jsxs("button",{onClick:()=>k("event"),className:"flex items-center justify-between w-full text-left",children:[l.jsx("h4",{className:"font-medium text-primary text-sm sm:text-base leading-tight",children:"11. Event-Based Orders (One-Time Purchases)"}),re.event?l.jsx(Ls,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"}):l.jsx(Os,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0 ml-2"})]}),re.event&&l.jsxs("ul",{className:"text-muted-foreground list-disc list-inside space-y-1 mt-2",children:[l.jsx("li",{children:"In cases where the Partner purchases bottles for a single event, occasion, or one-time use, the full payment must be made at the time of delivery."}),l.jsx("li",{children:"The Partner also grants Aqua2Promo the right to use the name and logo of the event for promotional and portfolio purposes."}),l.jsx("li",{children:"All logo and trademark usage terms stated in Clause 3 will apply equally to such event-based orders."})]})]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 md:gap-6",children:[l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"fullName",children:"Full Name *"}),l.jsx(Jn,{id:"fullName",name:"fullName",value:O.fullName,onChange:I,required:!0})]}),l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"designation",children:"Designation *"}),l.jsx(Jn,{id:"designation",name:"designation",value:O.designation,onChange:I,required:!0})]}),l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"companyName",children:"Company/Café/Restaurant/Event/Shop Name *"}),l.jsx(Jn,{id:"companyName",name:"companyName",value:O.companyName,onChange:I,required:!0})]}),l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"mobileNumber",children:"Mobile Number *"}),l.jsx(Jn,{id:"mobileNumber",name:"mobileNumber",value:O.mobileNumber,onChange:I,required:!0})]}),l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"emailId",children:"Email ID *"}),l.jsx(Jn,{id:"emailId",name:"emailId",type:"email",value:O.emailId,onChange:I,required:!0})]}),l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"dateOfAgreement",children:"Date of Agreement *"}),l.jsx(Jn,{id:"dateOfAgreement",name:"dateOfAgreement",type:"date",value:O.dateOfAgreement,onChange:I,required:!0})]})]}),l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"registeredAddress",children:"Registered Address *"}),l.jsx(EE,{id:"registeredAddress",name:"registeredAddress",value:O.registeredAddress,onChange:I,required:!0,rows:3})]}),l.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6",children:[l.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Digital Signature"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 mb-4",children:[l.jsxs(Me,{variant:N==="draw"?"default":"outline",onClick:()=>v("draw"),className:"flex items-center gap-2",children:[l.jsx(AC,{className:"h-4 w-4"}),"Draw Signature"]}),l.jsxs(Me,{variant:N==="upload"?"default":"outline",onClick:()=>v("upload"),className:"flex items-center gap-2",children:[l.jsx(Gy,{className:"h-4 w-4"}),"Upload Signature"]})]}),N==="draw"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-2 sm:p-4",children:l.jsx("div",{className:"w-full flex justify-center",children:l.jsx("canvas",{ref:j,width:400,height:150,className:"border border-muted-foreground/25 rounded cursor-crosshair",style:{maxWidth:"100%",height:"auto"},onMouseDown:ue,onMouseMove:fe,onMouseUp:ie,onMouseLeave:ie,onTouchStart:M=>{var pe;M.preventDefault();const U=M.touches[0];if(!((pe=j.current)==null?void 0:pe.getBoundingClientRect()))return;const oe={clientX:U.clientX,clientY:U.clientY,preventDefault:()=>{},stopPropagation:()=>{}};ue(oe)},onTouchMove:M=>{var pe;M.preventDefault();const U=M.touches[0];if(!((pe=j.current)==null?void 0:pe.getBoundingClientRect()))return;const oe={clientX:U.clientX,clientY:U.clientY,preventDefault:()=>{},stopPropagation:()=>{}};fe(oe)},onTouchEnd:M=>{M.preventDefault(),ie()}})})}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:l.jsx(Me,{variant:"outline",onClick:ae,children:"Clear"})})]}),N==="upload"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{ref:P,type:"file",accept:"image/*",onChange:Se,className:"hidden"}),l.jsxs(Me,{variant:"outline",onClick:()=>{var M;return(M=P.current)==null?void 0:M.click()},className:"flex items-center gap-2",children:[l.jsx(Gy,{className:"h-4 w-4"}),"Choose File"]}),x&&l.jsx("div",{className:"mt-4",children:l.jsx("img",{src:x,alt:"Signature",className:"max-w-xs border rounded"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"digitalSignatureName",children:"Digital Signature Name *"}),l.jsx(Jn,{id:"digitalSignatureName",name:"digitalSignatureName",value:O.digitalSignatureName,onChange:I,required:!0})]}),l.jsxs("div",{children:[l.jsx(rn,{htmlFor:"digitalSignatureDate",children:"Signature Date *"}),l.jsx(Jn,{id:"digitalSignatureDate",name:"digitalSignatureDate",type:"date",value:O.digitalSignatureDate,onChange:I,required:!0})]})]})]}),l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(jE,{id:"termsAccepted",checked:O.termsAccepted,onCheckedChange:ce}),l.jsx(rn,{htmlFor:"termsAccepted",className:"text-sm",children:"I Agree to the Terms and Conditions of Aqua2Promo E-Contract"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[l.jsxs(Me,{variant:"outline",onClick:z,className:"flex items-center gap-2",disabled:c,children:[l.jsx(j5,{className:"h-4 w-4"}),"Download Contract PDF"]}),l.jsx(Me,{onClick:Y,disabled:!O.termsAccepted||!x||c,className:"flex items-center gap-2",children:c?l.jsxs(l.Fragment,{children:[l.jsx(wC,{className:"h-4 w-4 animate-spin"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Rh,{className:"h-4 w-4"}),"Submit Contract"]})})]})]})]}),l.jsx(eS,{open:h,onOpenChange:m,children:l.jsxs(L2,{className:"sm:max-w-md","aria-describedby":"pin-description",children:[l.jsx(O2,{children:l.jsx(D2,{children:"Verify PIN"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",id:"pin-description",children:"Please enter the 4-digit PIN to submit your contract."}),l.jsx(Jn,{type:"password",placeholder:"Enter 4-digit PIN",value:y,onChange:M=>p(M.target.value),maxLength:4,className:"text-center text-lg tracking-widest","aria-describedby":"pin-description"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Me,{variant:"outline",onClick:()=>{m(!1),p("")},className:"flex-1",children:"Cancel"}),l.jsx(Me,{onClick:X,disabled:y.length!==4||i,className:"flex-1",children:i?"Submitting...":"Submit"})]})]})]})})]})})},m3=S.forwardRef(({className:t,...e},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:kt("w-full caption-bottom text-sm",t),...e})}));m3.displayName="Table";const g3=S.forwardRef(({className:t,...e},n)=>l.jsx("thead",{ref:n,className:kt("[&_tr]:border-b",t),...e}));g3.displayName="TableHeader";const y3=S.forwardRef(({className:t,...e},n)=>l.jsx("tbody",{ref:n,className:kt("[&_tr:last-child]:border-0",t),...e}));y3.displayName="TableBody";const kq=S.forwardRef(({className:t,...e},n)=>l.jsx("tfoot",{ref:n,className:kt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));kq.displayName="TableFooter";const vh=S.forwardRef(({className:t,...e},n)=>l.jsx("tr",{ref:n,className:kt("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));vh.displayName="TableRow";const xa=S.forwardRef(({className:t,...e},n)=>l.jsx("th",{ref:n,className:kt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));xa.displayName="TableHead";const Fs=S.forwardRef(({className:t,...e},n)=>l.jsx("td",{ref:n,className:kt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Fs.displayName="TableCell";const Rq=S.forwardRef(({className:t,...e},n)=>l.jsx("caption",{ref:n,className:kt("mt-4 text-sm text-muted-foreground",t),...e}));Rq.displayName="TableCaption";const jq=()=>{const{currentUser:t}=Pu(),e=_u(),{toast:n}=ld(),[r,i]=S.useState([]),[s,o]=S.useState(!0),[a,c]=S.useState(""),[u,h]=S.useState("all"),[m,y]=S.useState(null),p=(t==null?void 0:t.email)==="admin@aqua2promo@gmail.com";S.useEffect(()=>{if(!t){e("/login");return}if(!p){e("/"),n({title:"Access Denied",description:"You don't have permission to access this page.",variant:"destructive"});return}N()},[t,e,p,n]);const N=async()=>{try{o(!0);const C=await fetch("http://localhost:5000/admin/contracts",{method:"GET",headers:{Authorization:`Bearer ${t==null?void 0:t.accessToken}`}});if(C.ok){const L=await C.json();i(L.contracts||[])}else throw new Error("Failed to fetch contracts")}catch(C){console.error("Error fetching contracts:",C),n({title:"Error",description:"Failed to fetch contracts",variant:"destructive"})}finally{o(!1)}},v=r.filter(C=>{const L=C.companyName.toLowerCase().includes(a.toLowerCase())||C.fullName.toLowerCase().includes(a.toLowerCase())||C.emailId.toLowerCase().includes(a.toLowerCase()),B=u==="all"||C.status===u;return L&&B}),x=C=>{switch(C){case"pending":return l.jsx(mh,{variant:"secondary",children:"Pending"});case"approved":return l.jsx(mh,{variant:"default",children:"Approved"});case"rejected":return l.jsx(mh,{variant:"destructive",children:"Rejected"});default:return l.jsx(mh,{variant:"outline",children:C})}},A=C=>C?(C.toDate?C.toDate():new Date(C)).toLocaleDateString():"N/A";return!t||!p?null:l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-secondary/10 py-12 px-4",children:l.jsx("div",{className:"container mx-auto max-w-7xl",children:l.jsxs(sr,{className:"shadow-xl",children:[l.jsxs(sc,{children:[l.jsx(oc,{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Admin Panel - Contract Management"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage and review submitted contracts"})]}),l.jsxs(ac,{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(rn,{htmlFor:"search",children:"Search"}),l.jsxs("div",{className:"relative",children:[l.jsx(EC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Jn,{id:"search",placeholder:"Search by company, name, or email...",value:a,onChange:C=>c(C.target.value),className:"pl-10"})]})]}),l.jsxs("div",{className:"sm:w-48",children:[l.jsx(rn,{htmlFor:"status",children:"Status Filter"}),l.jsxs("select",{id:"status",value:u,onChange:C=>h(C.target.value),className:"w-full px-3 py-2 border border-input bg-background rounded-md",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"approved",children:"Approved"}),l.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),l.jsx("div",{className:"border rounded-lg",children:l.jsxs(m3,{children:[l.jsx(g3,{children:l.jsxs(vh,{children:[l.jsx(xa,{children:"Contract ID"}),l.jsx(xa,{children:"Company"}),l.jsx(xa,{children:"Contact Person"}),l.jsx(xa,{children:"Email"}),l.jsx(xa,{children:"Status"}),l.jsx(xa,{children:"Submitted"}),l.jsx(xa,{children:"Actions"})]})}),l.jsx(y3,{children:s?l.jsx(vh,{children:l.jsx(Fs,{colSpan:7,className:"text-center py-8",children:"Loading contracts..."})}):v.length===0?l.jsx(vh,{children:l.jsx(Fs,{colSpan:7,className:"text-center py-8",children:"No contracts found"})}):v.map(C=>l.jsxs(vh,{children:[l.jsx(Fs,{className:"font-mono text-sm",children:C.contractId}),l.jsx(Fs,{className:"font-medium",children:C.companyName}),l.jsx(Fs,{children:C.fullName}),l.jsx(Fs,{children:C.emailId}),l.jsx(Fs,{children:x(C.status)}),l.jsx(Fs,{children:A(C.submittedAt)}),l.jsx(Fs,{children:l.jsxs(eS,{children:[l.jsx(bV,{asChild:!0,children:l.jsxs(Me,{variant:"outline",size:"sm",onClick:()=>y(C),children:[l.jsx(gC,{className:"h-4 w-4 mr-2"}),"View"]})}),l.jsxs(L2,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[l.jsx(O2,{children:l.jsx(D2,{children:"Contract Details"})}),m&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(rn,{className:"text-sm font-medium text-muted-foreground",children:"Contract ID"}),l.jsx("p",{className:"font-mono text-sm",children:m.contractId})]}),l.jsxs("div",{children:[l.jsx(rn,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),l.jsx("div",{className:"mt-1",children:x(m.status)})]}),l.jsxs("div",{children:[l.jsx(rn,{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),l.jsx("p",{children:m.fullName})]}),l.jsxs("div",{children:[l.jsx(rn,{className:"text-sm font-medium text-muted-foreground",children:"Designation"}),l.jsx("p",{children:m.designation})]}),l.jsxs("div",{children:[l.jsx(rn,{className:"text-sm font-medium text-muted-foreground",children:"Company Name"}),l.jsx("p",{children:m.companyName})]}),l.jsxs("div",{children:[l.jsx(rn,{className:"text-sm font-medium text-muted-foreground",children:"Mobile Number"}),l.jsx("p",{children:m.mobileNumber})]}),l.jsxs("div",{children:[l.jsx(rn,{className:"text-sm font-medium text-muted-foreground",children:"Email ID"}),l.jsx("p",{children:m.emailId})]}),l.jsxs("div",{children:[l.jsx(rn,{className:"text-sm font-medium text-muted-foreground",children:"Date of Agreement"}),l.jsx("p",{children:m.dateOfAgreement})]})]}),l.jsxs("div",{children:[l.jsx(rn,{className:"text-sm font-medium text-muted-foreground",children:"Registered Address"}),l.jsx("p",{className:"mt-1",children:m.registeredAddress})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(rn,{className:"text-sm font-medium text-muted-foreground",children:"Digital Signature Name"}),l.jsx("p",{children:m.digitalSignatureName})]}),l.jsxs("div",{children:[l.jsx(rn,{className:"text-sm font-medium text-muted-foreground",children:"Signature Date"}),l.jsx("p",{children:m.digitalSignatureDate})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Me,{variant:"outline",children:[l.jsx(j5,{className:"h-4 w-4 mr-2"}),"Download PDF"]}),l.jsx(Me,{variant:"default",children:"Approve"}),l.jsx(Me,{variant:"destructive",children:"Reject"})]})]})]})]})})]},C.id))})]})})]})]})})})},Lq=()=>l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 via-background to-secondary/10",children:l.jsxs("div",{className:"text-center space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-9xl font-bold text-primary",children:"404"}),l.jsx("h2",{className:"text-3xl font-semibold",children:"Page Not Found"}),l.jsx("p",{className:"text-muted-foreground max-w-md",children:"The page you're looking for doesn't exist or has been moved."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(Me,{asChild:!0,children:l.jsxs(Ht,{to:"/",className:"flex items-center gap-2",children:[l.jsx(vC,{className:"h-4 w-4"}),"Go Home"]})}),l.jsxs(Me,{variant:"outline",onClick:()=>window.history.back(),children:[l.jsx(fC,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})]})}),Oq=new XP,Dq=()=>l.jsx(ZP,{client:Oq,children:l.jsxs(TP,{children:[l.jsx(u6,{}),l.jsx(z6,{}),l.jsx(xM,{children:l.jsxs(Yk,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[l.jsx(AM,{}),l.jsx(_M,{}),l.jsxs(zk,{children:[l.jsx(Ti,{path:"/",element:l.jsx(DM,{})}),l.jsx(Ti,{path:"/about",element:l.jsx(VM,{})}),l.jsx(Ti,{path:"/products",element:l.jsx(HM,{})}),l.jsx(Ti,{path:"/contact",element:l.jsx(WM,{})}),l.jsx(Ti,{path:"/booking",element:l.jsx(GM,{})}),l.jsx(Ti,{path:"/try3d",element:l.jsx(XF,{})}),l.jsx(Ti,{path:"/login",element:l.jsx(QF,{})}),l.jsx(Ti,{path:"/signup",element:l.jsx(ZF,{})}),l.jsx(Ti,{path:"/profile",element:l.jsx(tV,{})}),l.jsx(Ti,{path:"/contract",element:l.jsx(Pq,{})}),l.jsx(Ti,{path:"/admin",element:l.jsx(jq,{})}),l.jsx(Ti,{path:"*",element:l.jsx(Lq,{})})]}),l.jsx(NM,{})]})})]})});dT(document.getElementById("root")).render(l.jsx(Dq,{}));export{xn as _};
